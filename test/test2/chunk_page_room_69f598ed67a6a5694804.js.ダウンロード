(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{"0Bu+":function(e,t,n){"use strict";var a=n("t/+K"),i=JSON.parse(localStorage.getItem(a.Ib)||"[]"),n={addItem:function(e){var t=Object.assign({},e),n=[];i.forEach(function(e){n.push(e.user_id)});e=n.indexOf(t.user_id);t.anchor_live=13,-1===e?(5<=i.length&&i.pop(),n.push(t.user_id),i.unshift(t)):i.splice(e,1,t),localStorage.setItem(a.Ib,JSON.stringify(i))},get:function(){return i}};t.a=n},"0YTR":function(e,t,n){"use strict";function a(e){return c.a.error(e,{description:"余额不足弹窗渲染失败",report:!0})}function i(){var e=Object(u.useState)(!1),t=(i=s()(e,2))[0],n=i[1],e=Object(u.useState)(!0),e=(i=s()(e,2))[0],a=i[1],i=Object(u.useState)(),r=(i=s()(i,2))[0],o=i[1],c=Object(d.g)(),l=Object(u.useCallback)(function(){return n(!1),b.a.openTopupDialog({urlParams:r})},[r]);return Object(u.useEffect)(function(){return c.listen(function(){return n(!1)})},[c]),Object(u.useEffect)(function(){function e(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).popUp;void 0!==e&&!e||n(!0)}function t(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).reqData;o(void 0===e?{}:e)}return _.b.on(_.a.CMD_BANLANCE_NOT_ENOUGH,e),_.b.on(_.a.CMD_BANLANCE_NOT_ENOUGH_DOT_PARAMS,t),function(){_.b.off(_.a.CMD_BANLANCE_NOT_ENOUGH,e),_.b.off(_.a.CMD_BANLANCE_NOT_ENOUGH_DOT_PARAMS,t)}},[]),Object(u.useEffect)(function(){var e=h.a();e&&1===e.auto_charge_disable?a(!1):a(!0);function t(e){e&&1===e.auto_charge_disable?a(!1):a(!0)}return v.b.on(v.a.UPDATE_MEMORY_CACHE_CONFGIGURE,t),function(){v.b.off(v.a.UPDATE_MEMORY_CACHE_CONFGIGURE,t)}},[]),f.a.createElement(p.c,{open:t,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},bodyStyle:{width:"100%",height:"100%"}},f.a.createElement(E,null,f.a.createElement("div",{className:"unsufficient-dialog"},f.a.createElement(g.b,{className:"close",size:22,name:g.a.CLOSE,onClick:function(){n(!1)}}),f.a.createElement("img",{className:"nekoIcon",alt:"",src:x}),f.a.createElement("div",{className:"desc"},Object(m.f)("unsufficient_balance")),f.a.createElement("button",{type:"button",className:"unsufficient-btn",onClick:function(){l()}},Object(m.f)("topup_now")),e&&f.a.createElement("button",{type:"button",className:"auto-recharge-btn",onClick:function(){return b.a.openTopupDialog({autoRecharge:!0})}},Object(m.f)("auto_recharge")))))}var r=n("J4zp"),s=n.n(r),u=n("q1tI"),f=n.n(u),o=n("vOnD"),d=n("Ty5D"),c=n("4Qmz"),l=n("bMKL"),p=n("WCjN"),m=n("SUlE"),g=n("NXoE"),b=n("cjrQ"),h=n("MabT"),_=n("IsqJ"),v=n("IdJ0"),x=n.p+"assets/file/5a2527e009a271f76eb3a5859710cc4c.png",E=o.default.div.withConfig({componentId:"o3lyal-0"})(["position:relative;top:50%;left:50%;> .unsufficient-dialog{width:350px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:18px;padding-bottom:20px;position:absolute;left:-175px;top:-125px;border-radius:4px;"," > .close{position:absolute;right:12px;top:12px;width:14px;height:14px;cursor:pointer;}> .nekoIcon{width:120px;height:100px;}> .desc{font-size:18px;margin-top:17px;","}& .unsufficient-btn{font-weight:400;margin-top:17px;background:#20bef3;width:200px;height:40px;line-height:40px;text-align:center;border-radius:47px;font-size:17px;color:#fff;}& .auto-recharge-btn{font-weight:400;margin-top:12px;border:1px solid #20bef3;width:200px;height:40px;line-height:40px;text-align:center;border-radius:47px;font-size:17px;color:#20bef3;}}"],function(e){e=e.theme.darkTheme;return Object(o.css)(["background-color:",";"],e?"#202526":"#ffffff")},function(e){e=e.theme.darkTheme;return Object(o.css)(["color:",";"],e?"#ffffff":"#232323")});t.a=f.a.memo(function(){return f.a.createElement(l.a,{onError:a},f.a.createElement(i,null))})},"6oah":function(e,t,n){"use strict";n.r(t);function Q(a){var e=Object(Z.useState)(!1),t=ne()(e,2),n=t[0],i=t[1],e=Object(Z.useState)({endTime:0,allQuestions:[],timeOffset:0,userOptions:[]}),e=(t=ne()(e,2))[0],r=t[1],o=Object(Z.useCallback)(function(){return x.b.request(a,{cmd:g.a.GET_QUIZ_DATA,msg_data:{host_id:a}}).then(function(e){if(0!==e.rst)throw new Error("".concat(e.err_msg,"#").concat(e.rst));if(e.msg_data)return e.msg_data})},[a]);return Object(Z.useEffect)(function(){function e(){var n=Date.now();o().then(function(e){var t=Date.now()-n;r({endTime:e.end_limit,allQuestions:e.content?e.content.common:[],timeOffset:Object(E.a)(e.ts,t),userOptions:e.content.user||[]}),i(!0)}).catch(function(e){K.a.error(e,{description:"获取竞猜数据失败"}),I.d.error(e.message)})}function t(){o().then(function(t){r(function(e){return Object.assign(Object.assign({},e),{userOptions:t.content.user||[]})})}).catch(function(e){K.a.error(e,{description:"获取最新的竞猜数据失败"}),I.d.error(e.message)})}return u.b.on(u.a.FETCH_LATEST_QUIZ_DATA,t),u.b.on(u.a.ON_QUIZ_START,e),function(){u.b.off(u.a.FETCH_LATEST_QUIZ_DATA,t),u.b.off(u.a.ON_QUIZ_START,e)}},[o]),Object(Z.useEffect)(function(){function e(e){e.runCmd===N.D&&(u.b.emit(u.a.ON_QUIZ_START),u.b.emit(u.a.SHOW_QUIZ_BOARD))}function t(){I.d.success(Object(ue.f)("quiz_end")),o().then(function(e){r({endTime:0,timeOffset:0,allQuestions:e.content?e.content.common:[],userOptions:e.content.user||[]}),i(!1)}).catch(function(e){K.a.error(e,{description:"获取竞猜数据失败"}),I.d.error(e.message)})}function n(e){var t=e.msg_data[0],e=t.cmd,n=t.msg_data.content.common;e===g.a.ON_QUIZ_DATA&&r(function(e){return Object.assign(Object.assign({},e),{allQuestions:n||[]})})}return C.a.on(a,N.B,e),x.b.on(a,g.a.ON_QUIZ_SETTLED,t),x.b.on(a,N.bb,n),function(){C.a.off(a,N.B,e),x.b.off(a,g.a.ON_QUIZ_SETTLED,t),x.b.off(a,N.bb,n)}},[a,o]),{quizOnGoing:n,detail:e}}function J(){var e=Object(Z.useState)(!1),t=(e=ne()(e,2))[0],n=e[1],e=Object(Z.useState)([]),a=(e=ne()(e,2))[0],i=e[1],r=Object(Z.useContext)(fe.a).roomId,e=Object(Z.useMemo)(function(){return $.a.createElement(S.c,{open:!0,bodyStyle:d},$.a.createElement(l,null,$.a.createElement(X.b,{name:X.a.CLOSE,size:20,className:"close",onClick:function(){return n(!1)}}),$.a.createElement("div",{className:"header"},$.a.createElement("div",{className:"header-title"},Object(ue.f)("quiz"))),$.a.createElement("div",{className:"content"},a.map(function(e,t){return $.a.createElement(s,{key:t,win:0<e.profit},$.a.createElement(b.a,{question:e.title}),$.a.createElement("div",{className:"item-bottom"},$.a.createElement("div",{className:"result-left"},$.a.createElement("span",null,Object(ue.f)("quiz_winner")),$.a.createElement("span",null,e.winner_option)),$.a.createElement("div",{className:"result-right"},$.a.createElement("span",null,Object(ue.f)("quiz_bet_result_profit"),"："),$.a.createElement("span",null,-1===e.winner_option_id?"/":(0<e.profit?"+":"").concat(e.profit," coins")))))}),$.a.createElement("div",{className:"footer"},$.a.createElement(f,{className:"button",onClick:function(){return n(!1)}},Object(ue.f)("cmm_ok"))))))},[a]),o=(e=Object(k.a)({key:j.c.quiz,comp:e,compType:j.b.quiz})).showDialog,c=e.hideDialog;return Object(Z.useEffect)(function(){function e(e){i(e.msg_data),n(!0)}return x.b.on(r,g.a.ON_NOTIFY_QUIZ_RESULT,e),function(){x.b.off(r,g.a.ON_NOTIFY_QUIZ_RESULT,e)}},[r]),Object(Z.useEffect)(function(){(t?o:c)()},[t,o,c]),null}var Z=n("q1tI"),$=n.n(Z),ee=n("Ty5D"),te=n("I0uh"),a=n("J4zp"),ne=n.n(a),ae=n("qhky"),i=n("/MKj"),ie=n("+npj"),re=n("8GWr"),oe=n("7B9f"),ce=n("vbfE"),le=n("wQBd"),se=n("VdCQ"),x=n("e191"),C=n("solc"),N=n("ZpDD"),E=n("yaZ6"),I=n("9UTw"),K=n("4Qmz"),ue=n("SUlE"),u=n("l0YM"),g=n("ZKMc"),T=n("vOnD"),fe=n("5VyL"),S=n("WCjN"),X=n("NXoE"),p=n("zoQI"),k=n("LDjB"),j=n("gZL/"),b=n("Hjf5"),l=T.default.div.withConfig({componentId:"sc-1o5d5y8-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:482px;width:360px;background:#fff;word-break:break-all;border-radius:4px;> .close{position:absolute;right:15px;top:14px;cursor:pointer;}> .header{display:flex;justify-content:center;align-items:center;height:62px;font-size:14px;padding-top:30px;> .header-title{font-size:14px;color:#232323;display:flex;align-items:center;}}> .content{position:relative;border-bottom-left-radius:4px;border-bottom-right-radius:4px;height:420px;padding:16px;> .footer{position:absolute;bottom:28px;width:328px;display:flex;align-items:center;justify-content:center;}}",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["> .header{background-color:",";border-bottom:",";> .header-title{color:",";}}> .content{background-color:",";}"],e?"#2E3637":"#ffffff",e?"1px solid #2a3031":"1px solid #efefef",e?"rgba(255, 255, 255, 0.95)":"#232323",e?" #191f20":"#f3f4f4")}),s=T.default.div.withConfig({componentId:"sc-1o5d5y8-1"})(["width:329px;border-radius:8px;padding:18px 20px 15px;margin-bottom:15px;> .item-bottom{margin-top:7px;display:flex;align-items:center;> .result-left,> .result-right{span:first-child{font-size:12px;margin-right:8px;}span:last-child{font-size:12px;}}> .result-left{width:150px;}}",""],function(e){var t=e.theme.darkTheme,e=e.win;return Object(T.css)(["background-color:",";> .item-bottom{> .result-left,> .result-right{span:first-child{color:",";}span:last-child{color:",";}}}"],t?"#2a3031":"#fff",t?"rgba(255, 255, 255, 0.65)":"#acacac",e?"#F2A525":t?"rgba(255, 255, 255, 0.95)":"#232323")}),f=Object(T.default)(p.d).withConfig({componentId:"sc-1o5d5y8-2"})(["padding:0;width:130px;height:32px;border-radius:16px;"]),d={width:"100%",height:"100%",margin:0},r=n("RIqP"),Y=n.n(r),A=n("4DtP"),V=n("y90O"),de=n("WfGX"),y=n("OAzV"),pe=n("CAtz");function O(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function me(t,a){var e=Object(Z.useState)(null),i=(b=ne()(e,2))[0],l=b[1],n=Object(Z.useState)([]),r=(d=ne()(n,2))[0],s=d[1],o=Object(Z.useState)([]),c=(p=ne()(o,2))[0],u=p[1],e=Object(Z.useState)(!1),n=(b=ne()(e,2))[0],f=b[1],d=Object(Z.useState)(0),p=(o=ne()(d,2))[0],m=o[1],e=Object(Z.useState)(""),d=(b=ne()(e,2))[0],g=b[1],o=Object(Z.useState)(0),b=(e=ne()(o,2))[0],h=e[1],o=Object(Z.useState)(-1),o=(e=ne()(o,2))[0],_=e[1],v=Object(Z.useRef)(new Map);return Object(Z.useEffect)(function(){var e,c=!1;return a&&(e=V.a.getState().user,Object(A.z)(t).then(function(r){var o;r&&r.is_white?(o=Date.now(),x.b.request(t,{cmd:y.b.GET_LEVEL_TASK_INFORMATION,msg_data:{host_id:t,user_id:e?e.user_id:0}}).then(function(e){if(0!==e.rst)throw new Error("".concat(e.err_msg,"(#").concat(e.rst,")"));var t=Date.now()-o,e=e.msg_data;if(!c&&(m(Object(E.a)(o,t)),g(r.live_room_icon),h(1),e)){var n=[];if(l(e.processing_task),e.completed_task){var a=O(e.completed_task);try{for(a.s();!(i=a.n()).done;){var i=i.value;v.current.has(i.level_task_id)||(v.current.set(i.level_task_id,1),n.push(i))}}catch(e){a.e(e)}finally{a.f()}}n=n.sort(function(e,t){return e.receive_end_unix_time-t.receive_end_unix_time}),s(n)}}).catch(function(e){e!==x.a&&(I.d.error(e.message),K.a.error(e,{description:"获取主播月度任务信息失败"}))})):c||(g(""),h(0),_(-1),m(0),l(null),s([]),u([]),f(!1),v.current=new Map)}).catch(function(e){e.code?I.d.error(e.message):I.d.error(Object(ue.f)("player:network_error")),K.a.error(e,{description:"获取主播月度任务是否白名单失败",report:!0})})),function(){c=!0}},[a,t]),Object(Z.useEffect)(function(){function e(e){if((e=e.msg_data).completed_task){var t=Y()(r),n=O(e.completed_task);try{for(n.s();!(a=n.n()).done;){var a=a.value;v.current.has(a.level_task_id)||(v.current.set(a.level_task_id,1),t.push(a))}}catch(e){n.e(e)}finally{n.f()}t=t.sort(function(e,t){return e.receive_end_unix_time-t.receive_end_unix_time}),s(t)}_(e.processing_task?e.processing_task.level_task_id:-1),h(0===e.is_not_white_user?1:0),l(e.processing_task)}return x.b.on(t,y.b.CURRENT_TASK_DONE,e),function(){x.b.off(t,y.b.CURRENT_TASK_DONE,e)}},[t,r]),Object(Z.useEffect)(function(){function e(e){de.h.emit(de.g.UPDATE_ON_CHAT,e)}return x.b.on(t,y.b.BROADCAST_REWARD_WINNER,e),function(){x.b.off(t,y.b.BROADCAST_REWARD_WINNER,e)}},[t]),Object(Z.useEffect)(function(){function e(){u(function(e){return[].concat(Y()(e),[r[0]])}),s(function(e){return e.slice(1)})}return pe.b.on(pe.a.ON_COUNTDOWN_COMPLETED,e),function(){pe.b.off(pe.a.ON_COUNTDOWN_COMPLETED,e)}},[r]),Object(Z.useEffect)(function(){function e(){var e=c.slice(1);!(i&&0===Object.keys(i).length||!i)&&a||0!==e.length||f(!0);var t=Date.now(),n=r.filter(function(e){return e.receive_end_unix_time>t}),e=[].concat(Y()(e),Y()(r.filter(function(e){return e.receive_end_unix_time<=t})));s(n),u(e)}return pe.b.on(pe.a.AFTER_COLLECT_GIFT_ACTION,e),function(){pe.b.off(pe.a.AFTER_COLLECT_GIFT_ACTION,e)}},[r,i,c,a]),Object(Z.useEffect)(function(){function e(){f(!1)}return pe.b.on(pe.a.SET_LAST_GIFT_STATUS,e),function(){pe.b.off(pe.a.SET_LAST_GIFT_STATUS,e)}},[]),{currentTask:i,toCountdownTask:r,rewardTask:c,lastGiftLeft:n,timeOffset:p,entryIcon:d,onWhiteList:b,levelTaskId:o}}function ge(e){var i=e.anchorId,a=e.anchorImg,r=(e=Object(k.a)({key:j.c.joinFansGroup,comp:null,compType:j.b.joinFansGroup})).showDialog,t=e.hideDialog,o=Object(Z.useCallback)(function(){t({key:j.c.joinFansGroup})},[t]),c=Object(Z.useCallback)(function(){o(),de.h.emit(de.d.SHOW_DESC_WIN)},[o]),l=Object(Z.useCallback)(function(e){var t=e.fans_group_level,n=e.fans_group_name,e=e.host_name,e=e&&8<e.length?"".concat(e.slice(0,8),"..."):e;return $.a.createElement(S.c,{open:!0,type:S.b.CENTER},$.a.createElement(et,null,$.a.createElement("img",{src:it,className:"top-img",alt:""}),$.a.createElement("div",{className:"close",onClick:o},$.a.createElement(X.b,{className:"close-icon",name:X.a.CLOSE,size:20})),$.a.createElement("div",{className:"join-box"},$.a.createElement("div",{className:"title"},$.a.createElement($e.b,{src:a,size:32}),$.a.createElement("span",{className:"join-group"},Object(ue.f)("user_fans_group").replace("{{hostName}}",e||""))),$.a.createElement("div",null,$.a.createElement(Ze.a,{fansBadge:{name:n,fansGroupLevel:t},style:{fontSize:"16px",height:"24px"}})),$.a.createElement("div",{className:"join-des"},Object(ue.f)("join_fans_group_tip").replace("{{hostName}}",e||"")),$.a.createElement("div",{className:"send-btn",onClick:c},Object(ue.f)("check_detail")))))},[a,c,o]),n=Object(Z.useCallback)(function(e){var t,n,a;e&&e.data&&(t=(a=e.data).rid,n=a.host_name,e=a.fans_group_name,a=a.fans_group_level,t===i.toString()&&r({key:j.c.joinFansGroup,comp:l({host_name:n,fans_group_name:e,fans_group_level:a}),compType:j.b.joinFansGroup}))},[i,l,r]);return Object(Z.useEffect)(function(){return oe.a.on(Je.d.JOIN_PUSH,n),function(){oe.a.off(Je.d.JOIN_PUSH,n)}},[n]),null}function o(e){var t=e.width,e=e.text;return $.a.createElement(Pt,{className:"progress"},$.a.createElement("div",{style:{width:t},className:"progressInner"}),$.a.createElement("div",{className:"text"},e))}function w(e){function t(e){return!e||99<e?"99+":e}var n=e.showLevel,a=e.rankInfo,i=e.detailOption,e=function(e){return 99998999<e?"".concat((e/1e8).toFixed(1)).concat(Object(ue.f)("pirate_ship_unit_a_hundred_million")):999949<e&&e<99998999?"".concat((e/1e4).toFixed(1)).concat(Object(ue.f)("pirate_ship_unit_ten_thousand")):9999<e&&e<999950?"".concat((e/1e4).toFixed(2)).concat(Object(ue.f)("pirate_ship_unit_ten_thousand")):e<1e4?e:void 0};return $.a.createElement(kt,null,$.a.createElement("div",{className:"activity-time"},Object(lt.d)("M.d hh:mm",i.start_time),"~",Object(lt.d)("M.d hh:mm",i.end_time)),$.a.createElement(jt,{marginTop:42},$.a.createElement(It,null,$.a.createElement("div",{className:"avatar-box"},$.a.createElement(st.a,{src:a.avatar_url,size:50})),$.a.createElement("div",{className:"self-name-box"},$.a.createElement("div",{className:"self-name"},a.name),$.a.createElement("div",{className:"self-area"},ut.c[a.partition]||Object(ue.f)("pirate_ship_partition_undefined"))),$.a.createElement(Ct,{className:"conent-box"},$.a.createElement("div",{className:"level-box-left",onClick:n},$.a.createElement(Lt.a,{level:a.lv})),$.a.createElement("div",{className:"level-box-right"},$.a.createElement("div",{className:"level-text-box"},$.a.createElement("div",{className:"level-text-left"},"Lv.",a.lv,0<a.addition_val&&$.a.createElement("i",null)),$.a.createElement("div",{className:"level-text-right",onClick:n},Object(ue.f)("pirate_ship_check_level"),$.a.createElement("i",null))),$.a.createElement(o,{width:"".concat(Math.floor(a.current_gp/a.target_gp*100),"%"),text:"".concat(a.current_gp).concat(Object(ue.f)("pirate_ship_common_unit"),"/").concat(a.target_gp).concat(Object(ue.f)("pirate_ship_common_unit"))}))),$.a.createElement(Nt,null,$.a.createElement("div",{className:"self-time-rank conent-box"},$.a.createElement("div",{className:"self-rank-top"},$.a.createElement("div",{className:"self-rank-item"},$.a.createElement("div",{className:"number"},"NO.",$.a.createElement("span",null,t(a.hour_rank))),$.a.createElement("div",{className:"self-rank-title"},Object(ue.f)("pirate_ship_self_rank_time_title")))),$.a.createElement("div",{className:"self-rank-bottom"},Object(ue.f)("pirate_ship_self_rank_time_label"),"：",$.a.createElement("span",null,e(a.hour_gp)))),$.a.createElement("div",{className:"self-all-rank conent-box"},$.a.createElement("div",{className:"self-rank-top"},$.a.createElement("div",{className:"self-rank-item"},$.a.createElement("div",{className:"number"},"NO.",$.a.createElement("span",null,t(a.partition_rank))),$.a.createElement("div",{className:"self-rank-title"},ut.c[a.partition]||Object(ue.f)("pirate_ship_partition_undefined"))),$.a.createElement("div",{className:"self-rank-item"},$.a.createElement("div",{className:"number"},"NO.",$.a.createElement("span",null,t(a.total_rank))),$.a.createElement("div",{className:"self-rank-title"},Object(ue.f)("pirate_ship_self_rank_total_title")))),$.a.createElement("div",{className:"self-rank-bottom"},Object(ue.f)("pirate_ship_self_rank_total_label"),"：",$.a.createElement("span",null,e(a.current_gp))))))))}function m(e){var t=e.pkInfo,n=e.giftImg,a=e.setPkInfoCash,i=e.getActivityData,r=Object(Z.useState)(Math.floor(t.left_time/1e3)),r=(e=ne()(r,2))[0],o=e[1];Object(Z.useEffect)(function(){o(Math.floor(t.left_time/1e3))},[t.left_time]);var c=Object(Z.useCallback)(function(){i()},[i]);Object(Z.useEffect)(function(){var n;return 0<(null==t?void 0:t.left_time)?n=setInterval(function(){o(function(e){if(e<1){clearInterval(n);var t=Math.round(1e3*(2*Math.random()+5));return Se=setTimeout(function(){c()},t),0}return e-1})},1e3):(o(null==t?void 0:t.left_time),clearInterval(n)),function(){clearInterval(n),clearTimeout(Se)}},[t.left_time,c]);var l=Object(Z.useCallback)(function(e){var e=e.data,t={gp:e.o_add,competitor_gp:e.c_add,pk_result:0,left_time:e.last};o(t.left_time),a(function(e){return Object.assign(Object.assign({},e),t)})},[a]),s=Object(Z.useCallback)(function(e){var e=e.data,t={gp:e.o_add,competitor_gp:e.c_add,pk_result:e.result,grap_gp:e.amount,left_time:e.last};o(e.last),a(function(e){return Object.assign(Object.assign({},e),t)})},[a]);return Object(Z.useEffect)(function(){return oe.a.on(Je.k.PK_PROCESS,l),oe.a.on(Je.k.PK_TIME_CHANGE,l),oe.a.on(Je.k.PK_END,s),function(){oe.a.off(Je.k.PK_PROCESS,l),oe.a.off(Je.k.PK_TIME_CHANGE,l),oe.a.off(Je.k.PK_END,s)}},[l,s]),$.a.createElement(zt,null,$.a.createElement("div",{className:"pk-info-box"},$.a.createElement("div",{className:"pk-info-left"},$.a.createElement("div",{className:"avatar-box"},$.a.createElement(st.a,{src:t.avatar_url,size:50})),$.a.createElement("div",{className:"pk-info-text"},$.a.createElement("div",{className:"user-name"},t.name),$.a.createElement("div",{className:"user-label"},ut.c[t.partition]||Object(ue.f)("pirate_ship_partition_undefined")))),$.a.createElement("div",{className:"pk-info-right",onClick:function(){var e={lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"\tactivity_h5_mainpage_head_or_name",action:"click",object:1,is_live:13===t.competitor_live?0:1};ct.a.handleDataCount(e);e=(13===t.competitor_live?"/profile/":"/").concat(t.competitor_uid);window.open(e)}},$.a.createElement("div",{className:"avatar-box"},$.a.createElement(st.a,{src:t.competitor_avatar_url,size:50})),$.a.createElement("div",{className:"pk-info-text"},$.a.createElement("div",{className:"user-name"},t.competitor_name),$.a.createElement("div",{className:"user-label"},ut.c[t.competitor_partition]||Object(ue.f)("pirate_ship_partition_undefined"))))),$.a.createElement(Mt,null,$.a.createElement("div",{className:"left-bar",style:{width:function(e,t){return 0===t?"50%":"".concat(!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?Math.floor(e/t*100):Math.ceil(e/t*100),"%")}(t.gp,t.gp+t.competitor_gp)}},$.a.createElement("i",null)),$.a.createElement("div",{className:"right-bar"}),$.a.createElement("div",{className:"pk-rank-left-info"},$.a.createElement("div",{className:"gift-icon-box"},$.a.createElement("img",{src:n,alt:""})),$.a.createElement("div",{className:"rank-left-text"},t.gp,Object(ue.f)("pirate_ship_common_unit"))),$.a.createElement("div",{className:"pk-rank-right-info"},$.a.createElement("div",{className:"gift-icon-box"},$.a.createElement("img",{src:n,alt:""})),$.a.createElement("div",{className:"rank-left-text"},t.competitor_gp,Object(ue.f)("pirate_ship_common_unit")))),$.a.createElement("div",{className:"cut-time-box"},$.a.createElement("div",{className:"cut-time-item"},Object(lt.g)(r,!0).minute),$.a.createElement("i",null),$.a.createElement("div",{className:"cut-time-item"},Object(lt.g)(r,!0).second)))}function h(e){var t=e.pkInfo,n=e.setPkInfo,e=Object(Z.useMemo)(function(){var e="";switch(t.pk_result){case 1:e=Object(ue.f)("pirate_ship_pk_res_text_lose").replace("{{gpNum}}",t.grap_gp.toString());break;case 2:e=Object(ue.f)("pirate_ship_pk_res_text_win").replace("{{gpNum}}",t.grap_gp.toString());break;default:e=Object(ue.f)("pirate_ship_pk_res_text_draw")}return e},[t]);return Object(Z.useEffect)(function(){var e=setTimeout(function(){n(null)},1e4);return function(){clearTimeout(e)}},[n]),$.a.createElement(Ht,null,$.a.createElement("div",{className:"res-bg-box",style:{backgroundImage:"url(".concat(Ut[t.pk_result],")")}},$.a.createElement("div",{className:"user-info-box"},$.a.createElement("div",{className:"avatar-box"},$.a.createElement(st.a,{src:t.avatar_url,size:38})),$.a.createElement("div",{className:"user-info-text"},$.a.createElement("div",{className:"user-info-top"},$.a.createElement("div",{className:"user-name"},t.name),$.a.createElement("div",{className:"user-label"},ut.c[t.partition]||Object(ue.f)("pirate_ship_partition_undefined"))),$.a.createElement("div",{className:"user-info-bottom"},e)))))}function L(e){var t=e.pkInfo,n=e.giftImg,a=e.setPkInfo,i=e.getActivityData,r=Object(Z.useState)(t),r=(e=ne()(r,2))[0],o=e[1];return Object(Z.useEffect)(function(){o(t)},[t]),$.a.createElement(Tt,null,0===r.pk_result?$.a.createElement(m,{pkInfo:r,giftImg:n,setPkInfoCash:o,getActivityData:i}):$.a.createElement(h,{pkInfo:r,setPkInfo:a}))}function D(e){var t=e.rankInfo,n=e.detailOption,a=e.closeDialog,i=e.setGiftImg,r=Object(Z.useState)(!1),o=(d=ne()(r,2))[0],c=d[1],e=Object(Z.useState)(1),l=(r=ne()(e,2))[0],s=r[1],u=V.a.getState().configure.gift.giftIdMapDetail,f=Object(Z.useMemo)(function(){var e;return i((null===(e=u[n.gift_id])||void 0===e?void 0:e.picture)||""),u[n.gift_id]||{}},[n.gift_id,u,i]),d=Object(Z.useMemo)(function(){return(f.comboList&&0<f.comboList.length?Y()(f.comboList):[]).reverse()},[f.comboList]),e=Object(Z.useMemo)(function(){return 7===t.lv?Object(ue.f)("pirate_ship_bar_level_top"):Object(ue.f)("pirate_ship_bar_level_text").replace("{{lv}}","".concat(t.lv+1)).replace("{{gp}}","".concat(t.target_gp-t.current_gp))},[t.current_gp,t.lv,t.target_gp]),p=Object(Z.useMemo)(function(){return{source_site:"pirate_ship"}},[]),m=Object(Z.useCallback)(function(e){e=e.type,e={lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_help_gift_send",action:"click",gift_amount:l,result:e};ct.a.handleDataCount(e),a()},[a,l]),g=Object(Z.useCallback)(function(){var e={lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_help_gift_send",action:"\tclick",gift_amount:l,result:1};ct.a.handleDataCount(e),a()},[a,l]),r=Object(Z.useCallback)(function(){return V.a.getState().user?void de.h.emit(de.g.PIRATE_SHIP_SEND_GIFT,{giftId:f.id||0,curSelectCount:l,wsNonoParaData:p,eventCmd:qt.a.CMD_PIRATE_SHIP_SEND_GIFT}):V.a.dispatch(Object(Wt.c)(!0))},[f,l,p]);return Object(Z.useEffect)(function(){function e(e){if(e){var t=e.code,e=e.ResponseCodeList;switch(t){case t===e.SUCCESS:g();break;case t===e.FIAL:m({type:3});break;case t===e.NOT_ENOUGH:m({type:2});break;case t===e.SEND_SELF:default:m({type:4})}}}return qt.b.on(qt.a.CMD_PIRATE_SHIP_SEND_GIFT,e),function(){qt.b.off(qt.a.CMD_PIRATE_SHIP_SEND_GIFT,e)}},[m,g]),$.a.createElement(Yt,null,$.a.createElement("div",{className:"send-gift-bar-left"},$.a.createElement(st.a,{src:t.avatar_url,size:32}),$.a.createElement("div",{className:"send-gift-bar-text"},e)),$.a.createElement("div",{className:"send-gift-bar-right"},o&&$.a.createElement(Bt.a,{onClickOutside:function(){c(!1)}},$.a.createElement("div",{className:"gift-select-box"},d.map(function(e){return $.a.createElement("div",{className:"gift-select-item",onClick:function(){s(e.quantity),c(!1)},key:e.quantity},e.quantity)}))),$.a.createElement("div",{className:"send-gift-box",onClick:function(){c(!o)}},$.a.createElement("img",{src:f.picture,alt:""}),$.a.createElement("div",{className:"send-gift-num"},"x",l),$.a.createElement("div",{className:"send-gift-more"})),$.a.createElement("div",{className:"send-gift-btn",onClick:r},Object(ue.f)("pirate_ship_bar_send_gift"))))}function P(e){var t=e.closeFn,n=e.isPKing,a=Object(Z.useRef)(null);return Object(Z.useLayoutEffect)(function(){n&&null!=a&&a.current&&(a.current.scrollTop=3770)},[n,a]),$.a.createElement(St,null,$.a.createElement(At,null,$.a.createElement("i",{onClick:t})," ",Object(ue.f)("pirate_ship_rule_title")),$.a.createElement($t,{ref:a},$.a.createElement("div",null,$.a.createElement("img",{src:Vt,alt:""}),$.a.createElement("img",{src:Xt,alt:""}),$.a.createElement("img",{src:Qt,alt:""}),$.a.createElement("img",{src:Jt,alt:""}),$.a.createElement("img",{src:Zt,alt:""}))))}function R(e){function t(e){var t={lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"\tactivity_h5_mainpage_head_or_name",action:"click",object:1,is_live:e.is_live?1:0};ct.a.handleDataCount(t),e=(e.is_live?"/":"/profile/").concat(e.host_id),window.open(e)}var n=e.listItem;return $.a.createElement(gn,null,$.a.createElement("div",{className:"rank-number num".concat(n.rank)},n.rank),$.a.createElement("div",{className:"host-avatar",onClick:function(){t(n)}},$.a.createElement(st.a,{src:n.avatar_url,size:32}),n.is_live&&$.a.createElement("i",null)),$.a.createElement("div",{className:"host-name",onClick:function(){t(n)}},n.name),$.a.createElement("div",{className:"host-gp"},n.gp,0<n.additional_val&&$.a.createElement("i",null)),$.a.createElement("div",{className:"backup-user",onClick:function(){var e;ct.a.handleDataCount({lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"\tactivity_h5_mainpage_head_or_name",action:"click",object:2,is_live:0}),window.open("/profile/".concat(null===(e=n.fan)||void 0===e?void 0:e.user_id))}},$.a.createElement(st.a,{src:null===(e=n.fan)||void 0===e?void 0:e.avatar_url,size:25})))}function z(e){function t(e){var t={rankType:1,page:1},n={lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_rank",action:"click",location:e};ct.a.handleDataCount(n),e===ut.a.TIME&&(p({rank:Object(ue.f)("pirate_ship_rank_table_head_rank"),gp:Object(ue.f)("pirate_ship_rank_table_head_time_gp")}),f(t)),e===ut.a.AREA&&(p({rank:Object(ue.f)("pirate_ship_rank_title"),gp:Object(ue.f)("pirate_ship_self_rank_total_label")}),f({rankType:a,page:1}),t={rankType:a,page:1}),e===ut.a.ALL&&(p({rank:Object(ue.f)("pirate_ship_rank_title"),gp:Object(ue.f)("pirate_ship_self_rank_total_label")}),f({rankType:7,page:1}),t={rankType:7,page:1}),g(e),r([]),v(t,!1)}var a=e.partition,n=Object(Z.useState)([]),i=(d=ne()(n,2))[0],r=d[1],o=Object(Z.useState)(0),e=(s=ne()(o,2))[0],c=s[1],n=Object(Z.useState)(!0),o=(d=ne()(n,2))[0],l=d[1],s=Object(Z.useState)({rankType:1,page:1}),u=(n=ne()(s,2))[0],f=n[1],d=Object(Z.useState)({rank:Object(ue.f)("pirate_ship_rank_table_head_rank"),gp:Object(ue.f)("pirate_ship_rank_table_head_time_gp")}),n=(s=ne()(d,2))[0],p=s[1],d=Object(Z.useState)(ut.a.TIME),m=(s=ne()(d,2))[0],g=s[1],d=Object(Z.useState)(!1),d=(s=ne()(d,2))[0],b=s[1],s=Object(Z.useState)(!1),h=(s=ne()(s,2))[0],_=s[1],v=Object(Z.useCallback)(function(n){var a=1<arguments.length&&void 0!==arguments[1]&&arguments[1];_(!0),Object(ot.r)(n).then(function(t){_(!1),r(a?function(e){return[].concat(Y()(e),Y()(t.list))}:t.list),c(t.current_hour),l(t.has_more)}).catch(function(e){var t;a&&(t=Object.assign(Object.assign({},n),{page:n.page-1}),f(t)),_(!1),K.a.error(e)})},[]),s=Object(Z.useCallback)(function(){var e;ct.a.handleDataCount({lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_rank_more",action:"click"}),h||(e=Object.assign(Object.assign({},u),{page:u.page+1}),f(e),v(e,!0))},[v,h,u]),x=Object(Z.useCallback)(function(){var e=Object.assign(Object.assign({},u),{page:1});f(e),r([]),v(e,!1)},[v,u]);return Object(Z.useEffect)(function(){return de.h.on(de.g.PIRATE_SHIP_LIST_RELOAD_FN,x),function(){de.h.off(de.g.PIRATE_SHIP_LIST_RELOAD_FN,x)}},[x]),Object(Z.useEffect)(function(){v(u,!1)},[]),$.a.createElement(jt,null,$.a.createElement(on,null,Object(ue.f)("pirate_ship_rank_title")),$.a.createElement(cn,null,$.a.createElement("div",{className:"rank-list-type-item ".concat(m===ut.a.TIME?"on":""),onClick:function(){t(ut.a.TIME)}},Object(ue.f)("pirate_ship_rank_time_table").replace("{{currentHour}}","".concat(e)).replace("{{nextHour}}","".concat(e+1)),$.a.createElement("div",{className:"rule-icon",onClick:function(e){ct.a.handleDataCount({lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_rank_hour_help",action:"click"}),b(!0),e.stopPropagation()}},d&&$.a.createElement(Bt.a,{className:"time-rank-rule",onClickOutside:function(){b(!1)}},Object(ue.f)("pirate_ship_rank_time_rule")))),$.a.createElement("div",{className:"rank-list-type-item ".concat(m===ut.a.AREA?"on":""),onClick:function(){t(ut.a.AREA)}},ut.c[a]||Object(ue.f)("pirate_ship_partition_undefined")),$.a.createElement("div",{className:"rank-list-type-item ".concat(m===ut.a.ALL?"on":""),onClick:function(){t(ut.a.ALL)}},Object(ue.f)("pirate_ship_rank_total_table"))),$.a.createElement(ln,null,$.a.createElement("div",{className:"table-head-item"},n.rank),$.a.createElement("div",{className:"table-head-item"},Object(ue.f)("pirate_ship_rank_table_head_host")),$.a.createElement("div",{className:"table-head-item"},n.gp),$.a.createElement("div",{className:"table-head-item"},Object(ue.f)("pirate_ship_rank_table_head_fan"))),0<i.length?$.a.createElement($.a.Fragment,null,i.map(function(e){return $.a.createElement(R,{listItem:e,key:"".concat(m,"_").concat(e.rank)})}),o&&$.a.createElement(sn,{onClick:s},Object(ue.f)("pirate_ship_rank_table_show_more"))):$.a.createElement(un,null,$.a.createElement("i",null)," ",Object(ue.f)("pirate_ship_rank_table_empty")))}function M(e){var t=e.closeFn,n=e.openGpHistory,a=e.rankInfo,i=e.roomId,r=Object(Z.useState)(0),o=(e=ne()(r,2))[0],c=e[1],r=Object(Z.useState)([]),r=(e=ne()(r,2))[0],l=e[1],e=Object(Z.useState)(0),s=(e=ne()(e,2))[0],u=e[1];return Object(Z.useEffect)(function(){Object(ot.p)({hostId:i}).then(function(e){c(e.current_lv),l(e.list)}).catch(function(e){K.a.error(e)})},[i]),$.a.createElement(St,null,$.a.createElement(At,null,$.a.createElement("i",{onClick:t})," ",Object(ue.f)("pirate_ship_level_title")),$.a.createElement(vn,{routeHeight:En[o]},$.a.createElement("div",{className:"ship-map"},r.map(function(t){var e=t.lv<=o?"ship-item lv".concat(t.lv," on"):"ship-item lv".concat(t.lv),e=0<t.awards?"".concat(e," gift-open"):e,n=o===t.lv?"gift-icon cur-point":"gift-icon";return $.a.createElement("div",{className:e,onClick:function(){var e={lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_boat_detail_box",action:"\tclick",state:0<t.awards?1:0,level:t.lv};ct.a.handleDataCount(e),u(t.lv)},key:t.lv},1<t.lv?$.a.createElement("div",{className:n},s===t.lv&&$.a.createElement(Bt.a,{onClickOutside:function(){u(0)}},0<t.awards?$.a.createElement("div",{className:"pop-out-box"},$.a.createElement("span",null,Object(ue.f)("pirate_ship_level_label_on").replace("{{lvNum}}","".concat(t.lv))),Object(ue.f)("pirate_ship_level_text_on").replace("{{awards}}","".concat(t.awards))):$.a.createElement("div",{className:"pop-out-box"},$.a.createElement("span",null,Object(ue.f)("pirate_ship_level_label").replace("{{lvNum}}","".concat(t.lv))),Object(ue.f)("pirate_ship_level_text").replace("{{random_start}}","".concat(t.random_start)).replace("{{random_end}}","".concat(t.random_end))))):$.a.createElement("div",{className:n}))}))),$.a.createElement(xn,null,$.a.createElement("div",{className:"user-info-box"},$.a.createElement(st.a,{src:a.avatar_url,size:36}),$.a.createElement("div",{className:"user-info-text"},$.a.createElement("div",{className:"user-name"},a.name),$.a.createElement("div",{className:"user-label"},ut.c[a.partition]||Object(ue.f)("pirate_ship_partition_undefined")))),$.a.createElement("div",{className:"gp-history-btn",onClick:function(){ct.a.handleDataCount({lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_boat_detail_history",action:"\tclick"}),n()}},$.a.createElement("i",null),Object(ue.f)("pirate_ship_history_title"))))}function G(e){var t=e.closeFn,n=e.roomId,a=Object(Z.useState)([]),a=(e=ne()(a,2))[0],i=e[1];function r(e){return e.level?{text:"".concat(Object(ue.f)("pirate_ship_history_res_level").replace("{{level}}",e.level)),type:1}:e.pk_result?2===e.pk_result?{text:Object(ue.f)("pirate_ship_history_res_win"),type:1}:{text:Object(ue.f)("pirate_ship_history_res_lose"),type:2}:{text:"",type:1}}return Object(Z.useEffect)(function(){Object(ot.q)({hostId:n}).then(function(e){i(e.result)}).catch(function(e){K.a.error(e)})},[n]),$.a.createElement(St,null,$.a.createElement(At,null,$.a.createElement("i",{onClick:t})," ",Object(ue.f)("pirate_ship_history_title")),$.a.createElement(yn,null,$.a.createElement("div",{className:"history-inside"},0<a.length?a.map(function(e){return $.a.createElement("div",{className:"history-list-item",key:e.create_at},$.a.createElement("div",{className:"history-list-left"},$.a.createElement("div",{className:"history-text"},r(e).text),$.a.createElement("div",{className:"history-time"},Object(lt.d)("yyyy-MM-dd hh:mm:ss",e.create_at))),$.a.createElement("div",{className:1===r(e).type?"history-list-right add":"history-list-right"},e.amount))}):$.a.createElement(On,null,$.a.createElement("i",null),Object(ue.f)("pirate_ship_history_empty")))))}function be(e){function t(){b(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])}var n=e.roomId,a=Object(Z.useState)(""),i=(p=ne()(a,2))[0],r=p[1],o=Object(Z.useState)({gift_id:1361,end_time:0,start_time:0}),c=(_=ne()(o,2))[0],l=_[1],s=Object(Z.useState)(null),u=ne()(s,2),f=u[0],d=u[1],e=Object(Z.useState)({lv:1,target_gp:1,partition_rank:100,total_rank:100,hour_rank:100,hour_gp:0,current_gp:0,avatar_url:"",name:"",partition:1,addition_val:0}),p=(a=ne()(e,2))[0],m=a[1],o=Object(Z.useState)(!1),g=(_=ne()(o,2))[0],b=_[1],s=Object(Z.useState)(!1),e=(u=ne()(s,2))[0],h=u[1],a=Object(Z.useState)(!1),_=(o=ne()(a,2))[0],v=o[1],s=Object(Z.useState)(!1),a=(u=ne()(s,2))[0],x=u[1],o=Object(Z.useMemo)(function(){return f?2:1},[f]);Object(Z.useEffect)(function(){return de.h.on(de.e.HANDLE_PIRATE_SHIP_GIALOG,t),function(){de.h.off(de.e.HANDLE_PIRATE_SHIP_GIALOG,t)}},[]);var E=Object(Z.useCallback)(function(){Object(ot.o)({hostId:n}).then(function(e){var t=e.start_time,n=e.end_time,a=e.gift_id;m(e.rank_info),l({start_time:t,end_time:n,gift_id:a}),d((null==e?void 0:e.pk_info)||null)}).catch(function(e){K.a.error(e)})},[n]);return Object(Z.useEffect)(function(){g&&(E(),ct.a.handleDataCount({lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage",action:"expose"}))},[g]),s=Object(Z.useCallback)(function(){ct.a.handleDataCount({lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_refresh",action:"\tclick"}),E(),de.h.emit(de.g.PIRATE_SHIP_LIST_RELOAD_FN)},[E]),u=function(){d(null),x(!1),h(!1),v(!1),b(!1)},$.a.createElement(S.c,{type:S.b.CENTER,improveLayer:!0,open:g},$.a.createElement(Ot,{onClick:s}),$.a.createElement(Et,null,$.a.createElement(yt,{onClick:function(){h(!0);ct.a.handleDataCount({lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_rule",action:"\tclick"})}},Object(ue.f)("pirate_ship_rule_btn")),1===o&&$.a.createElement(w,{rankInfo:p,detailOption:c,showLevel:function(){ct.a.handleDataCount({lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_h5_mainpage_boat_detail",action:"\tclick"}),v(!0)}}),2===o&&f&&$.a.createElement(L,{pkInfo:f,giftImg:i,setPkInfo:d,getActivityData:E}),$.a.createElement(z,{partition:p.partition})),$.a.createElement(D,{rankInfo:p,setGiftImg:r,detailOption:c,closeDialog:u}),e&&$.a.createElement(P,{closeFn:function(){h(!1)},isPKing:2===o}),_&&$.a.createElement(M,{roomId:n,rankInfo:p,openGpHistory:function(){x(!0)},closeFn:function(){v(!1)}}),a&&$.a.createElement(G,{roomId:n,closeFn:function(){x(!1)}}),$.a.createElement(wt,{onClick:u}))}function he(){var e=Object(Z.useState)(!1),t=(i=ne()(e,2))[0],n=i[1],a=Object(Z.useState)(!1),i=(e=ne()(a,2))[0],r=e[1],e=(a=Object(Z.useContext)(fe.a)).happyBagInteractionData,o=a.anchorInfo,c=a.layout,l=o.anchorId,a=e.coverPic,e=Object(Z.useCallback)(function(e,t){var n=V.a.getState().user;n&&ct.a.handleDataCount({lt:"click",af:"live_room",bf:"send",cf:"happybag",action:"send_happybag",room_id:l,live_type:o.liveType,category_key:1===o.liveType?o.gameKey:o.categoryKey,host_official_type:o.anchorGroup&&o.anchorGroup[0]||"normal",screen_mode:kn.a[c],initiator_type:n.user_id===l?"host":"user",initiator_id:n.user_id,initiator_level:n.level,happybag_type:"coins",reward_value:e,reward_nums:t})},[o.anchorGroup,o.categoryKey,o.gameKey,o.liveType,c,l]);return Object(Z.useEffect)(function(){function e(e){r(!0),n(!!e)}return In.b.on(In.a.SHOW_BAG_AWARD,e),function(){In.b.off(In.a.SHOW_BAG_AWARD,e)}},[]),$.a.createElement(S.c,{type:S.b.CENTER,improveLayer:!0,open:i},$.a.createElement(jn.a,{fromAward:t,bagInfo:{roomId:null==o?void 0:o.anchorId,bagBg:a},onClose:function(){r(!1)},onSend:e,playMode:kn.a[c]}))}function _(e){function t(){V.a.dispatch(Object(Wt.c)(!0))}var n=e.appName,a=e.appUrl,i=e.appPath,r=e.pageOption,o=Object(Z.useMemo)(function(){return-1!==window.location.href.indexOf("staging.mildom.com")?Ln:An},[]),c=Object(Z.useRef)(null),l=Object(Z.useRef)(null);return Object(Z.useEffect)(function(){return l.current||(l.current=Object(Nn.b)({name:n,entry:a||o,container:c.current,props:{container:c.current,userInfo:Tn.a.getUserInfo(),appPath:i,pageOption:Object.assign(Object.assign({},r),{handleToLogin:t})}}),l.current.mountPromise.then(function(e){console.log("🚀 ~ file: index.tsx ~ line 68 ~ .then ~ res",e)}).catch(function(e){console.log("🚀 ~ file: index.tsx ~ line 68 ~ .then ~ res",e)})),function(){var e;null!==(e=l.current)&&void 0!==e&&e.unmount()}},[n,i,a,o,r]),Object(Z.useEffect)(function(){l.current&&l.current.update&&l.current.update({container:c.current,userInfo:Tn.a.getUserInfo(),appPath:i,pageOption:Object.assign(Object.assign({},r),{handleToLogin:t})})},[i,r]),$.a.createElement($.a.Fragment,null,$.a.createElement("div",{ref:c}))}function _e(){var n=Object(Z.useContext)(fe.a).roomId,e=Object(Z.useState)(Tn.a.getUserId()===n?1:3),t=(r=ne()(e,2))[0],a=r[1],i=Object(Z.useState)(!1),r=(e=ne()(i,2))[0],o=e[1],i=Object(Z.useState)(),c=(e=ne()(i,2))[0],l=e[1],i=Object(Z.useState)("liveroom_icon"),i=(e=ne()(i,2))[0],s=e[1],u=Object(Z.useCallback)(function(e,t){e&&(a(Tn.a.getUserId()===n?1:3),l(e),o(!0),s(t))},[n]),e=Object(Z.useCallback)(function(e){de.h.emit(de.g.GET_COUNT_DOWN,null==c?void 0:c.task_id,e,a)},[c]),f=Object(Z.useCallback)(function(e,t){e===(null==c?void 0:c.task_id)&&a(t?2:3)},[c]);return Object(Z.useEffect)(function(){return de.h.on(de.g.HANDLE_CUT_TIME_STOP,f),function(){de.h.off(de.g.HANDLE_CUT_TIME_STOP,f)}},[f]),Object(Z.useEffect)(function(){return de.h.on(de.g.OPEN_TASK_DETAILS,u),function(){de.h.off(de.g.OPEN_TASK_DETAILS,u)}},[u]),$.a.createElement(Re.a,null,$.a.createElement(S.c,{type:S.b.CENTER,improveLayer:!0,open:r},$.a.createElement(Dn,null,$.a.createElement("div",{className:"inside-box"},c&&$.a.createElement(_,{appName:"userTaskTem",appPath:"/user_task_tem",pageOption:{taskId:c.task_id,handleTakeReward:function(e){de.h.emit(de.g.HANDLE_TAKE_REWARD_LIST,e)},handleToComment:function(){o(!1)},getCountDown:e,isPause:t,source:i}})),$.a.createElement(Pn,{onClick:function(){o(!1),l(void 0)}}))))}function ve(){var e=Object(Z.useState)(!1),t=(r=ne()(e,2))[0],n=r[1],a=Object(Z.useState)(!1),e=(o=ne()(a,2))[0],i=o[1],r=Object(Z.useState)(10),o=(a=ne()(r,2))[0],c=a[1],a=(r=Object(Z.useContext)(fe.a)).roomId,l=r.anchorInfo,s=Object(Z.useMemo)(function(){return!(!l.trailer||!l.trailer.trailerTime)},[l]),u=Object(Z.useCallback)(function(){if(l.living)n(!1);else{if(l.transferLiveInfo&&l.transferLiveInfo.transferLiveStatus===Gn.c.LIVING)return void n(!1);if(s)return 0<=parseInt("".concat((((null===(t=null==l?void 0:l.trailer)||void 0===t?void 0:t.trailerTime)||0)-6e5-Object(zn.a)().valueOf())/1e3),10)?void n(!0):void n(!1);n(!0)}var e,t=Fn.a();t.invite_watch_cfg&&(i(t.invite_watch_cfg.enable),c(t.invite_watch_cfg.room_stay_time_off),window.sessionStorage.setItem(Be.lb,"1"),e=setTimeout(function(){sessionStorage.removeItem(Be.lb),clearTimeout(e)},1e3*t.invite_watch_cfg.room_stay_time_live))},[l,s]);return Object(Z.useEffect)(function(){u()},[u]),$.a.createElement($.a.Fragment,null,e&&t&&$.a.createElement(Mn.default,{stayTime:o,roomId:a,scene:3}))}function v(){return parseInt("".concat(((0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)-Date.now())/1e3),10)}function F(){var e=(l=Object(Z.useContext)(fe.a)).roomId,a=l.anchorInfo,t=Object(Z.useState)(!1),n=(f=ne()(t,2))[0],i=f[1],r=Object(Z.useState)(qn.a.not),o=(m=ne()(r,2))[0],c=m[1],l=Object(Z.useState)(v((null===(g=null==a?void 0:a.trailer)||void 0===g?void 0:g.trailerTime)||0)),s=(t=ne()(l,2))[0],u=t[1],f=Object(Z.useMemo)(function(){return s<=0},[s]),r=Object(Z.useMemo)(function(){if(s<=0)return["00","00","00","00"];var e=s,t=parseInt("".concat(e/86400),10);e%=86400;var n=parseInt("".concat(e/3600),10);e%=3600;var a=parseInt("".concat(e/60),10),e=e%60;return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),a<10&&(a="0".concat(a)),e<10&&(e="0".concat(e)),[t,n,a,e]},[s]),d=Object(Z.useMemo)(function(){var e;return null===(e=null==a?void 0:a.trailer)||void 0===e?void 0:e.trailerTime},[a]),p=Object(Z.useMemo)(function(){var e;return null===(e=null==a?void 0:a.trailer)||void 0===e?void 0:e.trailerId},[a]),m=Object(Z.useState)(a.living),g=ne()(m,2),b=g[0],h=g[1];return Object(Z.useEffect)(function(){p&&(i(!0),Object(A.e)(p).then(function(e){c((e||{}).book_status)}).catch(function(){}).finally(function(){i(!1)}))},[e,p]),Object(Z.useEffect)(function(){a.living&&!1===b&&h(!0)},[a,b]),Object(Z.useEffect)(function(){function e(e){e===Pe.b.END&&h(!1)}Ae&&clearTimeout(Ae);var n=d||0;return Ae=setInterval(function(){var e,t=v(n);u(t),t<=0&&(e=a,setTimeout(function(){e.living||de.h.emit(de.g.LIVE_PREVIEW_END)},6e4),clearInterval(Ae))},1e3),de.h.on(de.g.PLAYER_STATUS_CHANGE,e),function(){de.h.off(de.g.PLAYER_STATUS_CHANGE,e)}},[a,e,d]),Object(Z.useEffect)(function(){function e(e){var t=e.bookId,e=e.bookStatus;t===p&&(e!==qn.a.not&&e!==qn.a.has||c(e))}return Yn.b.on(Yn.a.MOMENT_TO_ROOM_RESERVE,e),function(){Yn.b.off(Yn.a.MOMENT_TO_ROOM_RESERVE,e)}},[p]),l=Object(Z.useCallback)(function(){return V.a.getState().user?(o===qn.a.not&&"PushManager"in window&&"serviceWorker"in navigator&&Object(Bn.c)()&&!Wn.a.get(Be.db)&&de.h.emit(de.g.OPEN_WEB_PUSH_PERMISSION_DIALOG),!0):V.a.dispatch(Object(Wt.c)(!0))},[o]),t=Object(Z.useCallback)(function(e){e=e.bookId;Xn(Object(ue.f)("game_room_trailer_reservation_toast")),c(qn.a.has),Yn.b.emit(Yn.a.ROOM_TO_MOMENT_RESERVE,{bookId:e,bookStatus:qn.a.has}),a.ifFollow||de.h.emit(de.g.COMMON_SYNC_FOLLOW)},[a]),m=Object(Z.useCallback)(function(e){var t=e.error,e=e.bookStatus;t&&Qn(t.message),e!==qn.a.outdate&&e!==qn.a.void||c(e)},[]),g=Object(Z.useCallback)(function(e){e=e.bookId;Xn(Object(ue.f)("game_room_trailer_cancel_toast")),c(qn.a.not),Yn.b.emit(Yn.a.ROOM_TO_MOMENT_RESERVE,{bookId:e,bookStatus:qn.a.not})},[]),e=Object(Z.useCallback)(function(e){var t=e.error,e=e.bookStatus;t&&(1001===t.code&&c(qn.a.not),Qn(t.message)),e&&c(e)},[]),b?null:$.a.createElement(Vn,null,$.a.createElement("div",{className:"count"},$.a.createElement("span",{className:"timer_tips"},Object(ue.f)("game_room_trailer_coming_up")),$.a.createElement("div",{className:"timer_sub_item"},$.a.createElement("span",{className:"timer_sub_item_value"},r[0]),$.a.createElement("span",{className:"timer_sub_item_label"},"Day")),$.a.createElement("div",{className:"timer_sub_item"},$.a.createElement("span",{className:"timer_sub_item_value"},r[1]),$.a.createElement("span",{className:"timer_sub_item_label"},"Hours")),$.a.createElement("div",{className:"timer_sub_item"},$.a.createElement("span",{className:"timer_sub_item_value"},r[2]),$.a.createElement("span",{className:"timer_sub_item_label"},"Mintues")),$.a.createElement("div",{className:"timer_sub_item"},$.a.createElement("span",{className:"timer_sub_item_value"},r[3]),$.a.createElement("span",{className:"timer_sub_item_label"},"Seconds"))),!f&&!n&&p&&$.a.createElement(Kn.b,{changeStatus:o,from:Kn.a.room,bookId:p||"",onBeforeClick:l,onBookSuc:t,onBookError:m,onCancelBookSuc:g,onCancelBookError:e}))}function U(){var e=(i=Object(Z.useContext)(fe.a)).anchorInfo,t=i.loading,n=Object(Z.useState)(!1),n=(i=ne()(n,2))[0],a=i[1],i=Object(Z.useMemo)(function(){if(e.trailer&&e.trailer.trailerTime&&0<e.trailer.trailerTime-Object(zn.a)().valueOf())return!0;return!1},[e]);return Object(Z.useEffect)(function(){function e(){a(!0)}return de.h.on(de.g.LIVE_SUBSCRIBE_EDN,e),function(){de.h.off(de.g.LIVE_SUBSCRIBE_EDN,e)}},[]),t||!i||n?null:$.a.createElement(F,null)}function H(e){var t=(n=e.betData).coins,e=n.questionInfo,n="left"===n.optionSelected?e.option[0]:e.option[1];return $.a.createElement(aa,null,$.a.createElement("div",{className:"title"},$.a.createElement(b.a,{question:e.title})),$.a.createElement("div",{className:"container"},$.a.createElement("div",{className:"item"},$.a.createElement("div",null,Object(ue.f)("quiz_bet_win"),"："),$.a.createElement("div",null,n.option)),$.a.createElement("div",{className:"item"},$.a.createElement("div",null,Object(ue.f)("quiz_bet_times"),"*："),$.a.createElement("div",null,n.times)),$.a.createElement("div",{className:"item"},$.a.createElement("div",null,Object(ue.f)("quiz_bet_coins"),"："),$.a.createElement("div",null,t)),$.a.createElement("div",{className:"item"},$.a.createElement("div",null,Object(ue.f)("quiz_bet_profit"),"*："),$.a.createElement("div",null,n.times*Number(t)))),$.a.createElement("div",{className:"tip"},Object(ue.f)("quiz_bet_tip")))}function B(e){var t=e.roomId,n=e.questionInfo,a=e.optionSelected,i=e.closeBetDialog,r=Object(Z.useState)(""),o=(e=ne()(r,2))[0],c=e[1],r=Object(Z.useState)(!1),r=(e=ne()(r,2))[0],l=e[1],s="left"===a?n.option[0]:n.option[1];return r?$.a.createElement(ra,null,$.a.createElement(ea.a,{size:20})):$.a.createElement(ia,null,$.a.createElement("div",{className:"header"},$.a.createElement(b.a,{question:n.title}),$.a.createElement("div",{className:"header-close",onClick:i},$.a.createElement(X.b,{name:X.a.CLOSE,size:20,className:"close"}))),$.a.createElement("div",{className:"option"},$.a.createElement("div",{className:"item"},$.a.createElement("span",null,Object(ue.f)("quiz_my_option"),"："),$.a.createElement("span",null,s.option)),$.a.createElement("div",{className:"item"},$.a.createElement("span",null,Object(ue.f)("quiz_bet_times"),"："),$.a.createElement("span",null,s.times))),$.a.createElement("div",{className:"bet"},$.a.createElement("div",{className:"title"},$.a.createElement("span",null,Object(ue.f)("quiz_bet_coins")),$.a.createElement("span",null,""===o?$.a.createElement("span",null,Object(ue.f)("quiz_bet_coin_min"),$.a.createElement("img",{src:na.a,width:16,height:16,alt:"",className:"coin"}),"10"):$.a.createElement("span",null,Object(ue.f)("quiz_bet_profit"),$.a.createElement("img",{src:na.a,width:16,height:16,alt:"",className:"coin"}),Number(o)*s.times))),$.a.createElement("div",{className:"input"},$.a.createElement("input",{type:"text",value:o,onChange:function(e){e=e.target.value;!/^([1-9][0-9]*)$/.test(e)&&""!==e||c(e.slice(0,3))},placeholder:"10-100"}),0<o.length&&$.a.createElement(X.b,{name:X.a.CLEAR,size:16,className:"clear",onClick:function(){return c("")}})),$.a.createElement("div",{className:"amount"},ca.map(function(e){return $.a.createElement("div",{onClick:function(){return c(e.value)},className:"amount-option",key:e.value},e.label)}))),$.a.createElement("div",{className:"footer"},$.a.createElement(oa,{onClick:function(){var e;Number(o)<10||100<Number(o)?I.d.error(Object(ue.f)("quiz_bet_coins_invalid")):Number(o)%10==0?(e={coins:o,questionInfo:n,optionSelected:a},Object($n.b)({title:Object(ue.f)("quiz_bet_confirm"),titleStyle:{fontSize:14},content:$.a.createElement(H,{betData:e})}).then(function(e){e&&(l(!0),x.b.request(t,{cmd:g.a.JOIN_QUIZ,msg_data:{host_id:t,title_id:n.title_id,option_id:s.option_id,coins:Number(o)}}).then(function(e){return 0!==e.rst?(I.d.error("".concat(e.err_msg,"#").concat(e.rst)),void i()):(I.d.success(Object(ue.f)("quiz_join_success")),V.a.dispatch(Object(ta.b)()),i(),void u.b.emit(u.a.FETCH_LATEST_QUIZ_DATA))}).catch(function(e){I.d.error(e.message),K.a.error(e,{description:"竞猜下注失败"})}).finally(function(){l(!1)}))})):I.d.error(Object(ue.f)("quiz_bet_coins_must_ten_times"))},disabled:""===o},Object(ue.f)("quiz_join_now")),$.a.createElement("div",{className:"tip"},Object(ue.f)("quiz_join_tip"))))}function W(e){function t(e){if(!V.a.getState().user)return V.a.dispatch(Object(Wt.c)(!0));0<u.filter(function(e){return e.title_id===a.title_id}).length||("left"===l?a.option[0]:a.option[1]).seal_flag||0!==a.status||(s(e),o(!0))}var n=e.roomId,a=e.questionInfo,i=Object(Z.useState)(!1),r=(m=ne()(i,2))[0],o=m[1],c=Object(Z.useState)(""),l=(d=ne()(c,2))[0],s=d[1],u=(p=Object(Z.useContext)(fe.a).quiz.detail).userOptions,f=p.endTime,e=p.timeOffset,i=Object(Z.useCallback)(function(){o(!1),s("")},[]),c=(m=ne()(a.option,2))[0],d=m[1],p=u.find(function(e){return e.title_id===a.title_id}),m=0;return p&&a.winner_option_id&&(m=p.option_id===a.winner_option_id?g.h.WIN:a.winner_option_id===g.c.DRAW?g.h.DRAW:g.h.LOSE),$.a.createElement(_a,null,$.a.createElement("div",{className:"header"},$.a.createElement("div",{className:"left"},$.a.createElement(b.a,{question:a.title})),$.a.createElement("div",{className:"right"},m===g.h.WIN&&Object(ue.f)("quiz_bet_status_win"),m===g.h.LOSE&&Object(ue.f)("quiz_bet_status_lose"),a.status===g.d.RESULT_PUBLISHED&&a.winner_option_id===g.c.DRAW&&Object(ue.f)("quiz_bet_status_draw"),a.status===g.d.STOP&&Object(ue.f)("quiz_bet_status_waiting"),a.status===g.d.PROCESSING&&!p&&$.a.createElement($.a.Fragment,null,$.a.createElement(X.b,{name:X.a.CLOCK,size:16}),$.a.createElement(Zn.a,{end:f,timeOffset:e})))),$.a.createElement("div",{className:"option-wrapper"},$.a.createElement(va,{disabled:a.status!==g.d.PROCESSING||c.seal_flag===g.g.SEALED||p&&p.option_id!==g.c.OPTION_A,checked:a.status<g.d.RESULT_PUBLISHED&&p&&p.option_id===g.c.OPTION_A,lose:a.status>g.d.STOP&&a.winner_option_id!==g.c.OPTION_A,win:a.status>g.d.STOP&&a.winner_option_id===g.c.OPTION_A,onClick:function(){return t("left")}},$.a.createElement("div",{className:"title"},c.option),$.a.createElement("div",{className:"multiple"},c.seal_flag===g.g.SEALED?Object(ue.f)("quiz_close"):"".concat(Object(ue.f)("quiz_history_multiple"),"：").concat(c.times))),$.a.createElement("span",{className:"text-v"},"V"),$.a.createElement("span",{className:"text-s"},"S"),$.a.createElement(xa,{disabled:a.status!==g.d.PROCESSING||d.seal_flag===g.g.SEALED||p&&p.option_id!==g.c.OPTION_B,checked:a.status<g.d.RESULT_PUBLISHED&&p&&p.option_id===g.c.OPTION_B,lose:a.status>g.d.STOP&&a.winner_option_id!==g.c.OPTION_B,win:a.status>g.d.STOP&&a.winner_option_id===g.c.OPTION_B,onClick:function(){return t("right")}},$.a.createElement("div",{className:"title"},d.option),$.a.createElement("div",{className:"multiple"},d.seal_flag===g.g.SEALED?Object(ue.f)("quiz_close"):"".concat(Object(ue.f)("quiz_history_multiple"),"：").concat(d.times)))),$.a.createElement(Ea,{rightGray:a.winner_option_id===g.c.DRAW||a.winner_option_id===g.c.OPTION_A},$.a.createElement("div",{className:"left-count"},c.total_bet),$.a.createElement("div",{className:"right-count"},d.total_bet),$.a.createElement(ya,{leftFull:1===Math.floor(c.total_bet/(c.total_bet+d.total_bet)),leftGray:a.winner_option_id===g.c.DRAW||a.winner_option_id===g.c.OPTION_B,style:{width:0===c.total_bet&&0===d.total_bet?"50%":"".concat(c.total_bet/(c.total_bet+d.total_bet)*100,"%")}})),$.a.createElement(S.c,{open:r,bodyStyle:Oa},$.a.createElement(B,{roomId:n,optionSelected:l,questionInfo:Object.assign({},a),closeBetDialog:i})))}function q(){window.open("/quiz_history")}function xe(){var e=Object(Z.useState)(!1),t=(r=ne()(e,2))[0],n=r[1],a=Object(Z.useState)(!1),e=(o=ne()(a,2))[0],i=o[1],r=Object(Z.useState)(!1),o=(a=ne()(r,2))[0],c=a[1],r=Object(Z.useContext)(fe.a).layout,l=(a=Object(Z.useContext)(fe.a)).roomId,a=a.quiz.detail.allQuestions;return Object(Z.useEffect)(function(){function e(){t||u.b.emit(u.a.FETCH_LATEST_QUIZ_DATA),n(function(e){return!e})}return u.b.on(u.a.TOGGLE_QUIZ_BOARD,e),function(){u.b.off(u.a.TOGGLE_QUIZ_BOARD,e)}},[t]),Object(Z.useEffect)(function(){function e(){n(!0)}function t(){n(!1)}return u.b.on(u.a.SHOW_QUIZ_BOARD,e),u.b.on(u.a.HIDE_QUIZ_BOARD,t),function(){u.b.off(u.a.SHOW_QUIZ_BOARD,e),u.b.off(u.a.HIDE_QUIZ_BOARD,t)}},[]),r!==ce.h.FULLSCREEN&&t?$.a.createElement(ja,null,$.a.createElement("div",{className:"header"},$.a.createElement("span",{className:"title"},Object(ue.f)("quiz")),$.a.createElement(X.b,{name:X.a.QUESTION,size:20,className:"question",onClick:function(){return c(!0)}}),$.a.createElement("span",{className:"tip"},Object(ue.f)("quiz_user_tip")),$.a.createElement("div",{className:"right"},$.a.createElement("div",{className:"ranking",onClick:function(){return i(!0)}},$.a.createElement(X.b,{name:X.a.RANK,size:20}),$.a.createElement("div",null,Object(ue.f)("quiz_ranking"))),$.a.createElement("div",{className:"history",onClick:q},$.a.createElement(X.b,{name:X.a.HISTORY,size:20}),$.a.createElement("div",null,Object(ue.f)("quiz_history_short"))),$.a.createElement("div",{className:"close",onClick:function(){return n(!1)}},$.a.createElement(X.b,{name:X.a.CLOSE,size:20})))),$.a.createElement("div",{className:"scroll"},a.map(function(e,t){return $.a.createElement(W,{questionInfo:e,key:t,roomId:l})})),$.a.createElement(S.c,{open:e,bodyStyle:Ia},$.a.createElement(ka.a,{roomId:l,onClose:function(){return i(!1)}})),$.a.createElement(S.c,{open:o,bodyStyle:Ia},$.a.createElement(wa.a,{onClose:function(){return c(!1)}}))):null}function Ee(e){var t=e.className,e=e.onClick;return $.a.createElement($a,{className:t,name:X.b.NAME.ARROW_LEFT,size:16,onClick:e})}function ye(e){var t=e.className,e=e.onClick;return $.a.createElement($a,{className:t,name:X.b.NAME.ARROW_RIGHT,size:16,onClick:e})}function Oe(e){var t=e.close,n=e.play,a=e.children,e=Object(Z.useCallback)(function(){t(),n()},[t,n]);return $.a.createElement(S.c,{open:!0,type:S.b.CENTER,style:{padding:"4px 0"}},$.a.createElement(ei,{direction:"column",justify:"space-between"},a),$.a.createElement(ri,{name:X.b.NAME.CLOSE,size:24,onClick:e}))}function we(e){var t=e.closeDialog,n=e.play,i=Object(Z.useContext)(fe.a).roomId,a=Object(Z.useState)(Jn.g.NOT_START),r=(e=ne()(a,2))[0],o=e[1],a=Object(Z.useState)(),c=(e=ne()(a,2))[0],l=e[1],s=oi().isMounted,a=Object(Z.useState)([]),u=(e=ne()(a,2))[0],f=e[1],a=Object(Z.useState)({}),a=(e=ne()(a,2))[0],d=e[1],p=Object(Z.useCallback)(function(){return yi(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(Jn.g.LOADING),e.next=4,Object(Ya.o)({host_id:i});case 4:a=e.sent,n=a.task_list,t=void 0===n?[]:n,n=a.contributors,n=void 0===n?[]:n,a=a.contributor_num,a=void 0===a?0:a,o(Jn.g.SUCCESS),s.current&&(f(t),d({contributors:n,contributor_num:a})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),s.current&&(l(e.t0),o(Jn.g.ERROR)),K.a.error(e.t0,{description:"获取主播心愿单详情失败",report:!0});case 19:case"end":return e.stop()}},e,null,[[0,15]])}))},[i]),m=Object(Z.useCallback)(function(e){var t,n=e.rid,e=e.data,e=void 0===e?{}:e;n===i.toString()&&(n=void 0===(n=e.progress)?0:n,t=e.task_counter_id,0<=(e=(u||[]).findIndex(function(e){return e.task_counter_id===t}))&&f(Object(Xa.b)({originList:u,progress:n,replaceIndex:e})))},[i,u]),g=Object(Z.useCallback)(function(e){var t=e.rid,e=e.data,e=void 0===e?{task_list:[]}:e;t===i.toString()&&(e=void 0===(e=e.task_list)?[]:e,s.current&&f(e))},[i]);Object(Z.useEffect)(function(){Ua.a.glean({lt:"click",af:"live_room",bf:"host_wish",cf:"host_wish_panel_audience",action:"expose",aid:i}),p()},[p,i]),Object(Z.useEffect)(function(){return oe.a.on(Je.o.PROGRESS_PUSH,m),function(){oe.a.off(Je.o.PROGRESS_PUSH,m)}},[m]),Object(Z.useEffect)(function(){return oe.a.on(Je.o.UPDATE_PUSH,g),function(){oe.a.off(Je.o.UPDATE_PUSH,g)}},[g]);var b=a.contributors,h=void 0===(a=a.contributor_num)?0:a,_=Ei({taskList:u,fromWish:!0}).giftList,v=!h,a=Object(Z.useMemo)(function(){return r===Jn.g.ERROR?$.a.createElement(Va.a,{errorMessage:c.message,retry:p}):$.a.createElement($.a.Fragment,null,$.a.createElement(ti,{align:"center",justify:"center"},$.a.createElement(Ga.a,{src:Qa}),$.a.createElement(ni,null,Object(ue.f)("wish_list_host_wish")),$.a.createElement(Ga.a,{src:Ja})),$.a.createElement(ai,null,Object(ue.f)("wish_list_wish_rule")),$.a.createElement(wi,{data:b}),!v&&$.a.createElement(Oi,null,$.a.createElement(ii,null,h," "),Object(ue.f)("wish_list_contributor_num")),$.a.createElement(ki,{justify:"center"},_.map(function(e){return e})),v&&$.a.createElement(ji,null,Object(ue.f)("wish_list_no_contributor")))},[h,b,c,_,v,p,r]);return $.a.createElement(Oe,{close:t,play:n},a)}function ke(e){var t=e.play,n=e.children,a=e.DialogComponent,i=e.taskId,r=Object(Z.useState)(!1),e=(c=ne()(r,2))[0],o=c[1],r=Object(Z.useCallback)(function(){return o(!0)},[]),c=Object(Z.useCallback)(function(){return o(!1)},[]);return $.a.createElement($.a.Fragment,null,$.a.createElement("span",{onClick:r},n),e&&$.a.createElement(a,{play:t,closeDialog:c,taskId:i}))}function je(e){var t=e.play,e=Object(Z.useMemo)(function(){return Di[ue.d]},[]);return $.a.createElement(ke,{play:t,DialogComponent:we},$.a.createElement(Wa,{direction:"column",align:"center",justify:"space-between"},$.a.createElement(qa,{src:e})))}function Ie(e){return e=e.closeQa,$.a.createElement(Ri,{direction:"column",justify:"space-between"},$.a.createElement("div",null,$.a.createElement(ti,{align:"center",justify:"center"},$.a.createElement(Ga.a,{src:Qa}),$.a.createElement(ni,null,Object(ue.f)("wish_list_describe")),$.a.createElement(Ga.a,{src:Ja})),$.a.createElement(Fi,null,$.a.createElement(Mi,null,$.a.createElement(zi,null,Object(ue.f)("wish_list_question1")),$.a.createElement(Gi,null,Object(ue.f)("wish_list_answer1"))))),$.a.createElement(Ui,{size:p.b.SMALL,onClick:e},Object(ue.f)("wish_list_back")))}function Ce(e){var t=e.closeDialog,n=e.play,a=(s=Object(Z.useContext)(fe.a)).roomId,i=s.anchorInfo.anchorId,r=oi().isMounted,o=Object(Z.useState)(!1),c=(e=ne()(o,2))[0],l=e[1],s=Object(Z.useState)(Jn.g.NOT_START),u=(o=ne()(s,2))[0],f=o[1],e=Object(Z.useState)(),d=(s=ne()(e,2))[0],p=s[1],o=Object(Z.useState)({}),s=(e=ne()(o,2))[0],m=e[1],g=Object(Z.useCallback)(function(){return l(!0)},[]),b=Object(Z.useCallback)(function(){return l(!1)},[]),h=Object(Z.useCallback)(function(){return Hi(void 0,void 0,void 0,Ka.a.mark(function e(){var t;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(Jn.g.LOADING),e.next=4,Object(Ya.n)({host_id:a});case 4:t=e.sent,f(Jn.g.SUCCESS),r.current&&m(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r.current&&(p(e.t0),f(Jn.g.ERROR)),K.a.error(e.t0,{description:"获取主播昨日助力墙详情失败",report:!0});case 13:case"end":return e.stop()}},e,null,[[0,9]])}))},[a]);Object(Z.useEffect)(function(){Ua.a.glean({lt:"click",af:"live_room",bf:"host_wish",cf:"help_panel_audience",action:"expose",aid:i,live_id:a}),h()},[i,h,a]);var e=void 0===(o=s.task_list)?[]:o,_=void 0===(o=s.contributors)?[]:o,v=void 0===(s=s.contributor_num)?0:s,x=Object(Z.useMemo)(function(){return _.map(function(e,t){var n=e.user_name,e=e.avatar;return $.a.createElement(Yi,{direction:"column",justify:"center",align:"center",key:e},$.a.createElement(Ma,{src:e,size:48,rank:t,width:28,height:26,top:-10,left:-4}),$.a.createElement(Vi,null,n))})},[_]),E=Ei({taskList:e}).giftList,e=Object(Z.useMemo)(function(){return u===Jn.g.ERROR?$.a.createElement(Va.a,{errorMessage:d.message,retry:h}):$.a.createElement($.a.Fragment,null,c?$.a.createElement(Ie,{closeQa:b}):$.a.createElement($.a.Fragment,null,$.a.createElement(ti,{align:"center",justify:"center"},$.a.createElement(Ga.a,{src:Qa}),$.a.createElement(ni,null,Object(ue.f)("wish_list_contribute_board")),$.a.createElement(Ga.a,{src:Ja}),$.a.createElement(Xi,{src:Pi,onClick:g})),$.a.createElement(Qi,null,$.a.createElement(Bi,null,$.a.createElement(ii,null,v," "),Object(ue.f)("wish_list_contributor_num")),$.a.createElement(ai,null,Object(ue.f)("wish_list_history_contributor_heart")),$.a.createElement(qi,null,$.a.createElement(Ki,null,x.map(function(e){return e}))),$.a.createElement(Bi,null,Object(ue.f)("wish_list_history_wish")),$.a.createElement(Wi,{justify:"center"},E.map(function(e){return e})))))},[x,b,v,d,E,c,h,g,u]);return $.a.createElement(Oe,{close:t,play:n},e)}function Ne(e){var t=e.play,n=e.index,a=e.currIndex,i=e.exposeCacheMap,r=(e=Object(Z.useContext)(fe.a)).roomId,o=e.anchorInfo.anchorId,e=Object(Z.useMemo)(function(){return Ji[ue.d]},[]);return Object(Z.useEffect)(function(){n===a&&(i.has(n)||(i.set(n,!0),Ua.a.glean({lt:"click",af:"live_room",bf:"host_wish",cf:"host_wish_entrance_audience",action:"expose",type_entrence:"help_wall",aid:o,live_id:r})))}),$.a.createElement(ke,{play:t,DialogComponent:Ce},$.a.createElement(Wa,{direction:"column",align:"center",justify:"space-between"},$.a.createElement(qa,{src:e})))}function Te(){var t=Object(Z.useRef)(new Map),e=Object(Z.useContext)(fe.a).wishListInteractionData,n=void 0===(s=(o=void 0===e?{}:e).task_list)?[]:s,a=o.have_wish_list_history,i=Object(Z.useRef)(null),e=Object(Z.useState)(0),c=(s=ne()(e,2))[0],r=s[1],o={vertical:!0,infinite:!0,verticalSwiping:!0,autoplay:!0,autoplaySpeed:5e3,arrows:!1,speed:500,slidesToShow:1,slidesToScroll:1,beforeChange:function(e,t){r(t)},draggable:!1},e=Object(Z.useCallback)(function(){var e;return null===(e=i.current)||void 0===e?void 0:e.slickPause()},[]),l=Object(Z.useCallback)(function(){var e;return null===(e=i.current)||void 0===e?void 0:e.slickPlay()},[]),s=Object(Z.useMemo)(function(){var i=0,r=[],o={play:l,exposeCacheMap:t.current,currIndex:c},e=!!n.length;return e&&!n.some(function(e){var t=e.progress,t=void 0===t?0:t,e=e.target;return t<(void 0===e?0:e)})?(r.push($.a.createElement(je,Da()({},o,{key:"fulfill",index:i}))),i+=1):n.forEach(function(e){var t=e.task_counter_id,n=void 0===t?"":t,a=e.progress,t=void 0===a?0:a,a=e.target,a=void 0===a?0:a,e=e.gift_id,e=void 0===e?-1:e,n=Object.assign(Object.assign({},o),{progress:t,target:a,taskId:n,giftId:e});r.push($.a.createElement(Li,Da()({},n,{key:e,index:i}))),i+=1}),e&&1===a&&r.push($.a.createElement(Ne,Da()({},o,{key:"history",index:i}))),r},[l,c,a,n]);return Object(Z.useEffect)(function(){function e(e){e=void 0===(e=e.msg)?"":e,I.d.info(e)}return oe.a.on(Je.o.TOAST_PUSH,e),function(){oe.a.off(Je.o.TOAST_PUSH,e)}},[]),Object(Z.useEffect)(function(){function e(){t.current.clear()}return oe.a.on(Je.o.UPDATE_PUSH,e),function(){oe.a.off(Je.o.UPDATE_PUSH,e)}},[]),$.a.createElement(Re.a,null,$.a.createElement(za,null,$.a.createElement(Pa.a,Da()({ref:i},o,{onClick:e}),s.map(function(e){return e}))))}var Se,Ae,Le=n("i4S5"),De=n("RKZ9"),Pe=n("yPHP"),Re=n("bMKL"),ze=n("F0bY"),Me=n.n(ze),Ge=n("I0BZ"),Fe=n("Vx0R"),Ue=function(e){var i=e.roomId,t=e.disable,r=void 0!==t&&t,o=e.anchorInfo,c=0!==o.anchorId;Object(Z.useEffect)(function(){if(!r){var e=void 0!==document.hidden,t=function(e){e&&e.origin===Me.a.id||parseInt(e.data,10)===i&&0<i&&Object(Ge.b)()&&C.a.disconnect(i)},n=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];C.a.connect(i,{defaultIsReconnect:e},o).then(function(){try{Me.a.broadcast(Fe.j,i)}catch(e){K.a.error(e)}})},a=function(){"hidden"!==document.visibilityState&&n(!0)};return c&&n(),e&&document.addEventListener("visibilitychange",a),Me.a.on(Fe.j,t),function(){e&&document.removeEventListener("visibilitychange",a),C.a.disconnect(i),Me.a.off(Fe.j,t)}}},[i,r,c])},He=n("gjON"),Be=n("t/+K"),We=n("DXW/"),qe=n("3YCr"),Ke=n("uAo6"),Ye=n("2AxG"),Ve=n("+Uzo"),Xe=n("lSNA"),Qe=n.n(Xe),Je=n("1IkE"),Ze=n("WGtp"),$e=n("Gt/x"),et=T.default.div.withConfig({componentId:"pub6uv-0"})(["position:relative;width:340px;padding-top:46px;.top-img{position:absolute;height:80px;left:50%;top:0;transform:translate3d(-50%,0,0);}.close{cursor:pointer;position:absolute;right:18px;top:62px;}.join-box{font-size:14px;border-radius:4px;padding:0 28px;display:flex;flex-direction:column;align-items:center;.title{margin:38px 0 6px;display:flex;justify-content:center;align-items:center;.join-group{margin-left:6px;font-weight:bold;}}.join-des{margin-top:16px;text-align:center;}.send-btn{margin:10px 0;width:200px;height:40px;line-height:40px;text-align:center;background:linear-gradient(270deg,#30e5de 0%,#00aff7 100%);border-radius:40px;color:#ffffff;cursor:pointer;}}",""],function(e){e=e.theme.darkTheme;return Object(T.css)([".close-icon{color:",";}.join-box{background-color:",";.title{color:",";}.join-des{color:",";}}"],"#cccccc",e?"#2E3033":"#FFFFFF",e?"#cccccc":"#333333",e?"#cccccc":"#999999")}),tt=n.p+"assets/file/7a210beea9566b48fae88f03cf02b595.png",nt=n.p+"assets/file/e6a2288026e269f31bf5f638b9f7e3b0.png",at=n.p+"assets/file/6d9599863c9822576020a17eb127f0fa.png",it=(_n={},Qe()(_n,ue.b.ENGLISH,at),Qe()(_n,ue.b.KOREAN,nt),Qe()(_n,ue.b.JAPANESE,tt),Qe()(_n,ue.b.CHINESE,tt),_n)[ue.d],rt=n("6RVU"),ot=n("jFEq"),ct=n("3IhF"),lt=n("LYyr"),st=n("CVnz"),ut=n("KRJZ"),ft=n("K/dA"),dt=n.p+"assets/file/22483a77eff9ec713ab7118a2cbe1087.png",pt=n.p+"assets/file/388a077bc55e8a2253adbd24f31caec5.png",mt=n.p+"assets/file/a397224171bef2e6f34647cf66543e5f.png",gt=n.p+"assets/file/0d4a41c9200a67227ac508594692edbb.png",bt=n("oNOB"),ht=n.p+"assets/file/52f0d7865163dd8c1754cb5b7cbbc413.png",_t=n.p+"assets/file/ad5582e755e71304e353f2edd5d2f681.png",vt=n.p+"assets/file/c34627cba73ff0faa4a879e7e4395b44.png",xt=n.p+"assets/file/c78125070d5c34587ca71da0611aa78c.png",Et=T.default.div.withConfig({componentId:"sc-5fvjbh-0"})(["width:400px;height:560px;background:#0753bf;border-radius:20px;position:relative;"," overflow-y:auto;padding-bottom:70px;.conent-box{background:rgba(255,255,255,0.13);border-radius:10px;padding:0 10px;}"],ft.a),yt=T.default.div.withConfig({componentId:"sc-5fvjbh-1"})(["width:66px;height:26px;background:rgba(0,0,0,0.4);border-radius:30px 0px 0px 30px;color:#fff;font-size:12px;text-align:center;line-height:26px;position:absolute;right:0;top:17px;cursor:pointer;"]),Ot=T.default.div.withConfig({componentId:"sc-5fvjbh-2"})(["width:26px;height:26px;background:url(",") no-repeat center;position:absolute;top:17px;left:10px;z-index:9;cursor:pointer;"],_t),wt=T.default.div.withConfig({componentId:"sc-5fvjbh-3"})(["width:38px;height:38px;background:url(",") no-repeat center;position:absolute;bottom:-58px;left:50%;transform:translateX(-50%);cursor:pointer;"],dt),kt=T.default.div.withConfig({componentId:"sc-5fvjbh-4"})(["width:100%;border-radius:20px;overflow:hidden;background:url(",") no-repeat top center;background-size:contain;.activity-time{width:149px;height:25px;background:linear-gradient(180deg,#5cd5fe 0%,#0b9eff 100%);border-radius:50px;margin:160px auto 0;font-size:12px;color:#ffffff;text-align:center;line-height:25px;}"],pt),jt=T.default.div.withConfig({componentId:"sc-5fvjbh-5"})(["width:380px;background:#2b80ff;border:2px solid #80b3ff;border-radius:10px;padding:0 8px 10px;margin:",";position:relative;&:after{content:'';width:380px;height:118px;background:url(",") no-repeat center top;position:absolute;z-index:1;top:-2px;left:-2px;}& > *{position:relative;z-index:2;}"],function(e){e=e.marginTop;return e?"".concat(e,"px auto 0"):"10px auto 0"},gt),It=T.default.div.withConfig({componentId:"sc-5fvjbh-6"})([".avatar-box{width:54px;height:54px;background:#4fd4f0;border-radius:50%;position:absolute;left:50%;top:-27px;transform:translateX(-50%);padding:2px;}.self-name-box{display:flex;justify-content:center;align-items:center;padding-top:34px;margin-bottom:12px;.self-name{max-width:250px;font-size:18px;font-weight:600;line-height:24px;color:#ffffff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.self-area{height:18px;background:#2076f0;border:1px solid rgba(255,255,255,0.5019607843137255);border-radius:34px;font-size:12px;font-weight:400;line-height:14px;color:rgba(255,255,255,0.8);padding:0 7px;margin-left:5px;}}"]),Ct=T.default.div.withConfig({componentId:"sc-5fvjbh-7"})(["height:72px;display:flex;justify-content:space-between;align-items:center;.level-box-left{margin-right:5px;cursor:pointer;}.level-box-right{flex:1;.level-text-box{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;.level-text-left{height:21px;font-size:16px;font-weight:600;line-height:21px;color:#fff690;i{width:46px;height:18px;display:inline-block;margin-left:6px;vertical-align:text-top;background:url(",") no-repeat center;}}.level-text-right{font-size:12px;line-height:16px;color:#fff690;cursor:pointer;i{width:6px;height:10px;display:inline-block;margin-left:6px;background:url(",") no-repeat center;}}}}"],bt.a,ht),Nt=T.default.div.withConfig({componentId:"sc-5fvjbh-8"})(["display:flex;justify-content:space-between;margin-top:10px;.self-time-rank{width:160px;height:109px;}.self-all-rank{width:190px;height:109px;}.self-rank-top{height:72px;display:flex;justify-content:space-around;align-items:center;.self-rank-item{text-align:center;.number{font-size:12px;font-weight:600;line-height:16px;color:#ffffff;span{font-size:24px;display:inline-block;margin-left:3px;}}.self-rank-title{font-size:12px;line-height:16px;color:#ffffff;opacity:0.7;margin-top:6px;}}}.self-rank-bottom{border-top:1px solid rgba(255,255,255,0.2);line-height:37px;font-size:12px;color:rgba(255,255,255,0.7);text-align:center;span{color:#fff;font-weight:600;display:inline-block;margin-left:3px;}}"]),Tt=T.default.div.withConfig({componentId:"sc-5fvjbh-9"})(["width:100%;border-radius:20px;overflow:hidden;background:url(",") no-repeat top center;background-size:contain;"],mt),St=T.default.div.withConfig({componentId:"sc-5fvjbh-10"})(["width:100%;height:100%;background:#1c5ebc;position:absolute;border-radius:20px;left:0;top:0;z-index:99;overflow:hidden;&:after{content:'';width:400px;height:91px;background:url(",") no-repeat center top;position:absolute;z-index:1;top:-2px;left:-2px;}& > *{position:relative;z-index:2;}"],vt),At=T.default.div.withConfig({componentId:"sc-5fvjbh-11"})(["height:60px;font-size:16px;font-weight:600;line-height:60px;color:#ffffff;position:relative;text-align:center;i{width:26px;height:26px;top:50%;left:10px;transform:translateY(-50%);position:absolute;background:url(",") no-repeat center;cursor:pointer;}"],xt),Lt=n("fqHX"),Dt=n.p+"assets/file/12663a16e2d70040049f2da7f6d69297.png",Pt=T.default.div.withConfig({componentId:"sc-1a8xln-0"})(["&.progress{height:16px;background:#0d64e1;border-radius:14px;position:relative;overflow:hidden;.progressInner{position:absolute;width:0%;max-width:100%;height:16px;background:linear-gradient(90deg,#53d58e 0%,#79e1a2 100%);overflow:hidden;border-radius:16px;&:after{content:'';position:absolute;width:100%;height:16px;background-image:url(",");background-size:17px 16px;background-repeat:repeat-x;}}.text{font-size:12px;text-align:center;color:rgba(255,255,255,1);display:inline-flex;align-items:center;line-height:16px;position:absolute;width:100%;justify-content:center;}}"],Dt),Rt=n.p+"assets/file/9d9c746278fbe1e7b278b8f113ddaa4e.png",zt=T.default.div.withConfig({componentId:"sc-1jy2si8-0"})(["padding-top:166px;.pk-info-box{width:400px;height:93px;background:url(",") no-repeat center;padding:0 10px;overflow:auto;display:flex;justify-content:space-between;.avatar-box{width:54px;height:54px;background:#fff;border-radius:50%;margin-right:8px;padding:2px;}.pk-info-text{.user-name{max-width:80px;font-size:16px;font-weight:600;line-height:21px;color:#ffffff;margin-bottom:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.user-label{display:inline-block;padding:0 7px;height:18px;background:rgba(10,10,10,0.2);border:1px solid rgba(255,255,255,0.5);border-radius:34px;font-size:12px;line-height:14px;color:rgba(255,255,255,0.8);}}.pk-info-left{height:54px;display:flex;align-items:center;margin-top:12px;}.pk-info-right{height:54px;display:flex;align-items:center;margin-top:26px;flex-direction:row-reverse;text-align:right;cursor:pointer;.avatar-box{margin:0 0 0 8px;}}}.cut-time-box{display:flex;justify-content:center;align-items:center;margin-bottom:14px;.cut-time-item{height:20px;padding:0 4px;background:rgba(255,255,255,0.26);border-radius:4px;margin-right:3px;text-align:center;line-height:20px;font-size:14px;font-weight:600;color:#ffffff;}i{width:3px;height:12px;margin:0 6px 0 3px;position:relative;&:after{content:'';position:absolute;width:3px;height:3px;border-radius:50%;background:#fff;top:0;}&:before{content:'';position:absolute;width:3px;height:3px;border-radius:50%;background:#fff;bottom:0;}}}"],Rt),Mt=T.default.div.withConfig({componentId:"sc-1jy2si8-1"})(["width:360px;height:20px;margin:14px auto;display:flex;position:relative;.gift-icon-box{width:30px;height:30px;background:#ffffff no-repeat center;border-radius:50%;margin-right:5px;border:2px solid #39a3fe;overflow:hidden;img{width:30px;}}.rank-left-text{font-size:12px;font-weight:600;color:#ffffff;}.pk-rank-left-info{position:absolute;left:-12px;top:50%;transform:translateY(-50%);display:flex;align-items:center;}.pk-rank-right-info{position:absolute;right:-12px;top:50%;transform:translateY(-50%);display:flex;align-items:center;flex-direction:row-reverse;text-align:right;.gift-icon-box{border:2px solid #fe7a54;margin:0 0 0 5px;}}.left-bar{width:150px;height:20px;background:linear-gradient(273deg,#59f8f6 0%,#3599ff 100%);position:relative;i{width:4px;height:20px;background:#ffffff;border-radius:20px;position:absolute;right:-2px;top:0;&:after{content:'';width:2px;height:2px;background:#ffffff;border-radius:50%;position:absolute;right:-4px;top:4px;}&:before{content:'';width:3px;height:3px;background:#ffffff;border-radius:50%;position:absolute;left:-5px;bottom:2px;}}}.right-bar{flex:1;height:20px;background:linear-gradient(270deg,#ff6f52 0%,#fad163 100%);}"]),Gt=n.p+"assets/file/da718014d80aef34ea925f9311363c06.png",Ft=n.p+"assets/file/5256ee9dd82818567fe003354d2244d6.png",Ut={1:n.p+"assets/file/d8f36f487afd27706d15a4df1ae525cc.png",2:Gt,3:Ft},Ht=T.default.div.withConfig({componentId:"sc-1971tgc-0"})(["margin-bottom:10px;.res-bg-box{width:400px;height:165px;background-repeat:no-repeat;background-position:center bottom;margin-top:129px;position:relative;.user-info-box{width:100%;display:flex;align-items:center;justify-content:center;position:absolute;bottom:17px;.avatar-box{width:40px;height:40px;background:#fff;border-radius:50%;margin-right:8px;padding:1px;}.user-info-text{.user-info-top{display:flex;align-items:center;.user-name{max-width:100px;height:20px;font-size:14px;font-weight:600;line-height:19px;color:#ffffff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.user-label{padding:0 7px;height:18px;background:rgba(10,10,10,0.2);border:1px solid rgba(255,255,255,0.5);border-radius:34px;font-size:12px;line-height:16px;color:rgba(255,255,255,0.8);margin-left:6px;}}.user-info-bottom{font-size:12px;line-height:16px;color:#ffffff;margin-top:3px;}}}}"]),Bt=n("gGZ8"),Wt=n("TrD6"),qt=n("IsqJ"),Kt=n.p+"assets/file/ad7c6490df78f6efe78216d21247decb.png",Yt=T.default.div.withConfig({componentId:"s8qrrf-0"})(["width:400px;height:60px;background:linear-gradient(360deg,#0068ff 0%,#2888ff 100%);box-shadow:0px -2px 10px rgba(0,0,0,0.3);border-radius:0px 0px 20px 20px;position:absolute;bottom:0;left:0;z-index:9;display:flex;align-items:center;justify-content:center;padding:0 10px;.send-gift-bar-left{flex:1;display:flex;align-items:center;font-size:14px;line-height:19px;color:#ffffff;.send-gift-bar-text{margin-left:6px;}}.send-gift-bar-right{padding-right:90px;width:max-content;height:38px;background:#1166da;border:1px solid #fdb363;border-radius:50px;position:relative;.send-gift-box{display:flex;align-items:center;height:38px;padding-left:6px;cursor:pointer;img{height:22px;margin-right:4px;}.send-gift-num{font-size:14px;color:#ffffff;margin-right:10px;}.send-gift-more{width:11px;height:6px;background:url(",") no-repeat center;}}.send-gift-btn{position:absolute;right:-1px;top:-1px;width:86px;height:38px;background:linear-gradient(180deg,#fcd878 0%,#ff8148 100%);border-radius:50px;text-align:center;line-height:38px;font-size:16px;font-weight:600;color:#ffffff;text-shadow:0px 1.5px 0px rgba(0,0,0,0.2);cursor:pointer;}.gift-select-box{width:88px;background:#1166da;border:1px solid #fdb363;border-radius:6px;position:absolute;bottom:56px;left:28px;&:before{content:'';width:0;height:0;border-style:solid dashed dashed dashed;border-width:6px;border-color:#fad363 transparent transparent transparent;position:absolute;left:50%;transform:translateX(-50%);bottom:-12px;}&:after{content:'';width:0;height:0;border-style:solid dashed dashed dashed;border-width:5px;border-color:#1166da transparent transparent transparent;position:absolute;left:50%;transform:translateX(-50%);bottom:-10px;}.gift-select-item{width:100%;height:34px;font-size:14px;color:#ffffff;text-align:center;line-height:34px;cursor:pointer;&:hover{color:#fdb363;background:rgba(240,251,255,0.1);}}}}"],Kt),Vt=n.p+"assets/file/babf4fb6c1111d682b289611feab86fd.png",Xt=n.p+"assets/file/8681a786914bbce30e386712740462ef.png",Qt=n.p+"assets/file/ac0a2788f55fd860ae8ea87c4e7a94c6.png",Jt=n.p+"assets/file/2b43e45044d002231a2e14da3ab1b83a.png",Zt=n.p+"assets/file/d8cabc3a54bc73909928f9342f84e5a8.png",$t=T.default.div.withConfig({componentId:"sc-2yljmg-0"})(["height:calc(100% - 60px);"," overflow-y:auto;div{min-height:4489px;overflow:hidden;}img{width:380px;display:block;margin:0 auto 20px;}"],ft.a),en=n.p+"assets/file/a3d5e469145b85fce351df7da95b3d41.png",tn=n.p+"assets/file/83620801f9f573898a781aea6ed45ad6.png",nn=n.p+"assets/file/fc79d2410e77e1bd3bbbaae81b774334.png",an=n.p+"assets/file/2e9175f9d375638f79da8056c9adba09.png",rn=n.p+"assets/file/a8a07ae9b5b4721c8285a660658163fb.png",on=T.default.div.withConfig({componentId:"sc-19kixo8-0"})(["height:21px;font-weight:600;line-height:22px;color:#ffffff;text-align:center;margin:10px 0 14px;&:after{content:'';width:77px;height:22px;background:url(",") no-repeat center;display:inline-block;vertical-align:middle;margin-left:10px;}&:before{content:'';width:77px;height:22px;background:url(",") no-repeat center;display:inline-block;vertical-align:middle;margin-right:10px;}"],tn,en),cn=T.default.div.withConfig({componentId:"sc-19kixo8-1"})(["width:360px;height:34px;background:#1877ec;border-radius:40px;padding:2px;display:flex;justify-content:space-between;z-index:3;.rank-list-type-item{flex:1;font-size:14px;line-height:30px;color:rgba(255,255,255,0.7);display:flex;align-items:center;justify-content:center;cursor:pointer;position:relative;.rule-icon{width:14px;height:14px;background:url(",") no-repeat center;display:inline-block;vertical-align:middle;margin-left:4px;position:relative;}&.on{background:rgba(255,255,255,0.8);border-radius:40px;color:#0d64e1;font-weight:bold;.rule-icon{background:url(",") no-repeat center;}}}.time-rank-rule{font-weight:normal;padding:10px;max-width:270px;background:rgba(0,0,0,0.7);border-radius:6px;font-size:12px;line-height:20px;color:rgba(255,255,255,0.7);position:absolute;top:30px;right:50%;transform:translateX(180px);word-break:break-all;width:max-content;&:before{content:'';width:0;height:0;border-style:dashed dashed solid dashed;border-width:6px;border-color:transparent transparent rgba(0,0,0,0.7) transparent;position:absolute;left:50%;transform:translateX(-50px);top:-12px;}}"],nn,an),ln=T.default.div.withConfig({componentId:"sc-19kixo8-2"})(["border-bottom:1px solid rgba(255,255,255,0.2);line-height:16px;margin-top:14px;height:26px;display:flex;.table-head-item{font-size:12px;font-weight:600;color:#ffffff;&:first-child{width:100px;}&:nth-child(2){width:100px;}&:nth-child(3){flex:1;}}"]),sn=T.default.div.withConfig({componentId:"sc-19kixo8-3"})(["width:76px;height:26px;background:#1877ec;border-radius:40px;text-align:center;font-size:12px;font-weight:400;line-height:26px;color:rgba(255,255,255,0.7);margin:10px auto 0;cursor:pointer;"]),un=T.default.div.withConfig({componentId:"sc-19kixo8-4"})(["font-size:14px;line-height:20px;color:rgba(255,255,255,0.7);text-align:center;margin-bottom:20px;i{width:240px;height:136px;display:block;background:url(",") no-repeat center;margin:30px auto 10px;}"],rn),fn=n.p+"assets/file/80c12134edbe1829b423a0278d1b96e8.png",dn=n.p+"assets/file/5b1a61c6b186c8fe895b8d2115276a79.png",pn=n.p+"assets/file/603cf773119db49711705a2eff101186.png",mn=n.p+"assets/file/70b1ea6d91fc4597e3925721fdc049b5.png",gn=T.default.div.withConfig({componentId:"sc-147tatg-0"})(["display:flex;height:52px;border-bottom:1px solid rgba(255,255,255,0.2);align-items:center;.rank-number{width:24px;height:20px;text-align:center;font-size:14px;color:#ffffff;margin-right:16px;&.num1{background:url(",") no-repeat center;font-size:0;}&.num2{background:url(",") no-repeat center;font-size:0;}&.num3{background:url(",") no-repeat center;font-size:0;}}.host-avatar{width:32px;height:32px;position:relative;margin-right:8px;cursor:pointer;i{width:14px;height:14px;background:url(",") no-repeat center;position:absolute;right:0;bottom:-1px;}}.host-name{width:106px;height:20px;font-size:14px;font-weight:400;line-height:19px;color:#ffffff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:14px;cursor:pointer;}.host-gp{flex:1;height:19px;font-size:14px;line-height:19px;color:#ffffff;i{width:46px;height:18px;display:inline-block;margin-left:6px;vertical-align:text-top;background:url(",") no-repeat center;}}.backup-user{cursor:pointer;}"],fn,dn,pn,mn,bt.a),bn=n.p+"assets/file/0a08fb8604345f9c5b8718688c1ba653.png",hn=n.p+"assets/file/aba38fb45d507e95538d2bacc938bda6.png",a=n.p+"assets/file/23ca4fb0252961ff58553284a0fa0198.png",r=n.p+"assets/file/3087020473b6c70ac6cd99ef110ce6d4.png",ze=n.p+"assets/file/fcc2afd1a0f7d96c50739e24bb40ff40.png",Xe=n.p+"assets/file/cfe8a72397d1bd374d6f22fb4102b3fb.png",at=n.p+"assets/file/58724a60e2f40ccf150fb6c8cbdd22c1.png",nt=n.p+"assets/file/abf65d34dfa5f3f625f5fe2cea16a78c.png",tt=n.p+"assets/file/330c0e11e01ba78bfa41bf9c915bcd76.png",_n=n.p+"assets/file/f55d718c7a0daa7d853a9ff390b2c1d4.png",_t=n.p+"assets/file/bf7cb36169dbd09cfea7ec4d8394123d.png",dt=n.p+"assets/file/72e33944fa3ae0008e518e05a05d5fe7.png",pt=n.p+"assets/file/ad9dbbdcbac32a71d06d26b6be541b96.png",gt=n.p+"assets/file/62574a0dfede9b611848249b56d7f5cb.png",ht=n.p+"assets/file/c3db87b8a3f4270ff5bdbee627de5a29.png",mt=n.p+"assets/file/752eb174061298890d264e3811f631cd.png",vt=n.p+"assets/file/ed81da30e1348acaa7ffca551e82b053.png",xt=n.p+"assets/file/3dacfcf4cc71e2335e48b52a638eb3eb.png",Dt=n.p+"assets/file/9f6ebecad6c7287e5b0c541bf003b481.png",Rt=n.p+"assets/file/bbdae71d1de44458f61ceb40176769cb.png",Gt=n.p+"assets/file/2addec4d941a9b2e51123cc0440f0f8e.png",Ft=n.p+"assets/file/4971dedbd5969e2b508b8fdb30832171.png",Kt=n.p+"assets/file/1cb73088622944176a76d29b002c7123.png",tn=n.p+"assets/file/c3daec9347f1a93d5d2d7f4b0ec9030c.png",en=n.p+"assets/file/3bb8da7af18dd1d8558dc850370f9302.png",nn=n.p+"assets/file/8ac7e4eee36ea4b0c3ee3cdb6777479d.png",an=n.p+"assets/file/c6888aef47881e52896e84ce37e5c87c.png",fn=n.p+"assets/file/c536c9c391cf844e856acaaa5f5af398.png",dn=n.p+"assets/file/1bcea937af30e0fa7ff3b243d8899603.png",pn=n.p+"assets/file/6694f108e5db8975e8b9273b0b3aee1a.png",mn=n.p+"assets/file/645e77d1205427ffe9738f8b4060209e.png",bt=n.p+"assets/file/bbaeedbf3f440bf07a9dd786b97aa563.png",vn=T.default.div.withConfig({componentId:"sc-14oxaj7-0"})(["height:calc(100% - 60px);"," overflow-y:auto;padding-bottom:70px;.ship-map{width:380px;height:503px;margin:0 auto;background:url(",") no-repeat center;background-size:100%;position:relative;&:before{content:'';width:268px;height:326px;position:absolute;background:url(",") no-repeat center;background-size:100%;top:69px;left:48px;}&:after{content:'';width:268px;height:",";background:url(",") no-repeat center top;background-size:100%;position:absolute;top:68px;left:48px;}.ship-item{position:absolute;z-index:2;cursor:pointer;.gift-icon{width:74px;height:33px;position:absolute;left:0;bottom:-23px;&.cur-point{&:after{content:'';position:absolute;width:20px;height:27px;background:url(",") no-repeat center;background-size:100%;left:-20px;top:5px;}}}.pop-out-box{padding:10px;max-width:156px;background:rgba(0,0,0,0.7);border-radius:6px;font-size:12px;line-height:14px;color:rgba(255,255,255,0.7);position:absolute;left:50%;transform:translateX(-50%);top:40px;word-break:break-all;width:max-content;span{display:block;margin-bottom:4px;}&:before{content:'';width:0;height:0;border-style:dashed dashed solid dashed;border-width:6px;border-color:transparent transparent rgba(0,0,0,0.7) transparent;position:absolute;left:50%;transform:translateX(-50%);top:-12px;}}&.lv1{width:80px;height:40px;background:url(",") no-repeat;background-size:100%;top:52px;left:27px;z-index:7;cursor:auto;.gift-icon{background:url(",") no-repeat;background-size:100%;}&.on{background:url(",") no-repeat;background-size:100%;}}&.lv2{width:72px;height:43px;background:url(",") no-repeat;background-size:100%;top:52px;left:172px;z-index:6;.gift-icon{background:url(",") no-repeat;background-size:100%;}&.on{background:url(",") no-repeat;background-size:100%;}&.gift-open{.gift-icon{background:url(",") no-repeat;background-size:100%;}}}&.lv3{width:70px;height:81px;background:url(",") no-repeat;background-size:100%;top:91px;left:283px;z-index:5;.pop-out-box{left:32%;&:before{content:'';width:0;height:0;border-style:dashed dashed solid dashed;border-width:6px;border-color:transparent transparent rgba(0,0,0,0.7) transparent;position:absolute;left:58%;transform:translateX(-50%);top:-12px;}}.gift-icon{background:url(",") no-repeat;background-size:100%;}&.on{background:url(",") no-repeat;background-size:100%;}&.gift-open{.gift-icon{background:url(",") no-repeat;background-size:100%;}}}&.lv4{width:73px;height:84px;background:url(",") no-repeat;background-size:100%;top:143px;left:174px;z-index:4;.gift-icon{bottom:-27px;background:url(",") no-repeat;background-size:100%;}&.on{background:url(",") no-repeat;background-size:100%;}&.gift-open{.gift-icon{background:url(",") no-repeat;background-size:100%;}}}&.lv5{width:82px;height:90px;background:url(",") no-repeat;background-size:100%;top:193px;left:22px;.gift-icon{left:10px;bottom:-26px;background:url(",") no-repeat;background-size:100%;}&.on{background:url(",") no-repeat;background-size:100%;}&.gift-open{.gift-icon{background:url(",") no-repeat;background-size:100%;}}}&.lv6{width:103px;height:98px;background:url(",") no-repeat;background-size:100%;top:300px;left:79px;.gift-icon{left:14px;background:url(",") no-repeat;background-size:100%;}&.on{background:url(",") no-repeat;background-size:100%;}&.gift-open{.gift-icon{background:url(",") no-repeat;background-size:100%;}}}&.lv7{width:132px;height:124px;background:url(",") no-repeat;background-size:100%;top:310px;left:231px;.gift-icon{bottom:-21px;left:29px;background:url(",") no-repeat;background-size:100%;}&.on{background:url(",") no-repeat;background-size:100%;}&.gift-open{.gift-icon{background:url(",") no-repeat;background-size:100%;}}}&.lv5,&.lv6,&.lv7{.pop-out-box{top:auto;bottom:100%;&:before{content:'';width:0;height:0;border-style:solid dashed dashed dashed;border-width:6px;border-color:rgba(0,0,0,0.7) transparent transparent transparent;position:absolute;left:50%;transform:translateX(-50%);bottom:-12px;top:auto;}}}}}"],ft.a,bn,hn,function(e){return e.routeHeight},a,ze,Dt,dt,nn,Rt,Xe,an,pt,Gt,at,fn,gt,Ft,nt,dn,ht,Kt,tt,pn,mt,tn,_n,mn,vt,en,_t,bt,xt),xn=T.default.div.withConfig({componentId:"sc-14oxaj7-1"})(["width:400px;height:60px;background:linear-gradient(360deg,#0068ff 0%,#2888ff 100%);box-shadow:0px -2px 10px rgba(0,0,0,0.3);border-radius:0px 0px 20px 20px;position:absolute;bottom:0;left:0;z-index:9;display:flex;align-items:center;justify-content:space-between;padding:0 10px;.user-info-box{display:flex;align-items:center;justify-content:center;.user-info-text{margin-left:6px;.user-name{max-width:120px;font-size:14px;font-weight:600;line-height:19px;color:#ffffff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.user-label{display:inline-block;padding:0 7px;height:18px;background:#2076f0;border:1px solid rgba(255,255,255,0.5);border-radius:34px;font-size:12px;line-height:16px;color:rgba(255,255,255,0.8);margin-top:6px;}}}.gp-history-btn{height:36px;background:rgba(255,255,255,0.2);opacity:1;border-radius:70px;padding:0 12px;display:flex;justify-content:center;align-items:center;font-size:14px;color:#ffffff;cursor:pointer;i{width:16px;height:16px;background:url(",") no-repeat center;background-size:100%;margin-right:5px;}}"],r),En={1:"0",2:"10px",3:"80px",4:"144px",5:"188px",6:"296px",7:"326px"},yn=T.default.div.withConfig({componentId:"sc-1jsf9al-0"})(["height:calc(100% - 60px);padding-bottom:10px;"," overflow-y:auto;.history-inside{padding:0 16px;width:380px;min-height:486px;background:#2b80ff;border:2px solid #80b3ff;border-radius:10px;margin:0 auto;}.history-list-item{height:62px;border-bottom:1px solid rgba(255,255,255,0.2);display:flex;align-items:center;justify-content:space-between;.history-list-left{color:#ffffff;.history-text{height:20px;font-size:14px;font-weight:400;line-height:19px;}.history-time{margin-top:5px;height:16px;font-size:12px;line-height:16px;opacity:0.7;}}.history-list-right{height:19px;font-size:14px;line-height:19px;color:#ffffff;&.add{color:#fff690;}}}"],ft.a),On=T.default.div.withConfig({componentId:"sc-1jsf9al-1"})(["font-size:14px;line-height:20px;color:rgba(255,255,255,0.7);text-align:center;margin-bottom:20px;i{width:240px;height:136px;display:block;background:url(",") no-repeat center;margin:143px auto 10px;}"],rn),wn=n("05J+"),kn=n("2bYw"),jn=n("Vllw"),In=n("SMHC"),Cn=n("nKfw"),Nn=n("NKyQ"),Tn=n("mjvw"),Sn=n("1wtQ"),An="https://parasite.mildom.com",Ln="https://parasite-staging.mildom.com",mn=n.p+"assets/file/df8632d17888791c323bf4f61b533df2.png",Dn=T.default.div.withConfig({componentId:"hah1qz-0"})(["width:400px;position:relative;.inside-box{height:500px;overflow-y:auto;"," border-radius:20px;}"],ft.a),Pn=T.default.div.withConfig({componentId:"hah1qz-1"})(["width:34px;height:34px;background:url(",") no-repeat center;position:absolute;bottom:-45px;left:50%;transform:translateX(-50%);cursor:pointer;"],mn),Rn=n("84+D"),zn=n("MoRz"),Mn=n("z0Tq"),Gn=n("obys"),Fn=n("MabT"),Un=n("NQRf"),Hn=n("siXX"),Bn=n("b8qu"),Wn=n("kewP"),qn=n("JkEe"),Kn=n("GtUx"),Yn=n("IdJ0"),Vn=T.default.div.withConfig({componentId:"dsuqub-0"})(["position:absolute;top:0;left:0;width:100%;padding:14px 24px;display:flex;align-items:center;justify-content:space-between;background-color:rgba(35,35,35,0.5);.count{display:flex;align-items:center;}.timer_tips{display:block;font-size:16px;font-weight:400;line-height:22px;opacity:0.95;color:#fff;}.timer_sub_item{margin-left:8px;width:72px;height:72px;border-radius:4px;background-color:rgba(0,0,0,0.3);.timer_sub_item_value{display:block;margin:14px auto 0;text-align:center;font-size:26px;font-weight:400;line-height:37px;color:rgba(255,255,255,0.95);}.timer_sub_item_label{display:block;text-align:center;height:17px;font-size:12px;font-weight:400;line-height:17px;color:rgba(255,255,255,0.5);}}"]),Xn=function(e){I.d.success(e,{duration:2e3})},Qn=function(e){I.d.error(e,{duration:2e3})},Jn=n("jxKE"),vt=n("OoQT"),Zn=n("2sH2"),$n=n("iC3N"),ea=n("vMhd"),ta=n("I7o+"),na=n("ADGn"),aa=T.default.div.withConfig({componentId:"xvyjrt-0"})(["> .title{height:25px;margin-top:20px;display:flex;align-items:center;justify-content:center;color:#232323;}> .container{margin-top:22px;margin-bottom:20px;display:flex;flex-direction:column;align-items:center;padding:0 50px;> .item{display:flex;align-items:center;margin-bottom:11px;font-size:14px;width:100%;div:first-child{width:150px;color:#acacac;margin-right:10px;}div:last-child{text-align:right;}}}> .tip{text-align:center;font-size:12px;color:#acacac;margin-bottom:15px;}",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["> .container{> .item{div:last-child{color:",";}}}"],e?"rgba(255, 255, 255, 0.95)":"#232323")}),ia=T.default.div.withConfig({componentId:"twjib6-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:340px;height:300px;padding:20px;border-radius:4px;> .header{position:relative;color:#232323;display:flex;align-items:center;height:25px;padding-right:24px;> .header-close{position:absolute;right:0;top:0;cursor:pointer;> .close{color:#c6c6c6;}}}> .option{padding:0 2px;margin:10px 0 16px;display:flex;justify-content:space-between;> .item{span:first-child{font-size:12px;line-height:17px;margin-right:4px;}span:last-child{font-size:12px;line-height:17px;}}}> .bet{width:100%;height:115px;padding:10px;border-radius:2px;margin-bottom:16px;> .title{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;.coin{margin:0 2px;vertical-align:sub;}span:first-child{font-size:12px;line-height:17px;}span:last-child{font-size:12px;color:#707070;}}> .input{position:relative;width:100%;margin-bottom:10px;.clear{cursor:pointer;position:absolute;right:10px;top:8px;}input{width:100%;height:30px;font-size:12px;border:1px solid #efefef;border-radius:4px;text-align:center;padding:7px 0 6px;}}> .amount{display:flex;flex-wrap:nowrap;justify-content:space-between;> .amount-option{width:64px;height:30px;font-size:12px;color:#707070;background-color:#fff;border:1px solid #efefef;cursor:pointer;line-height:30px;text-align:center;border-radius:4px;&:hover{color:#20bef3;border-color:#20bef3;}&:nth-child(4n){margin-right:0;}&.active{color:#fff;color:#20bef3;border-color:#20bef3;}}}}> .footer{display:flex;align-items:center;flex-direction:column;> .tip{color:#707070;font-size:10px;line-height:14px;}}",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";> .header{> .header-close{.close{color:",";}}}> .option{> .item{span:first-child{color:",";}span:last-child{color:",";}}}> .bet{background-color:",";> .title{span:first-child{color:",";}}> .input{.clear{color:",";}input{background-color:",";border:",";color:",";}}> .amount{> .amount-option{color:",";background-color:",";border:",";}}}> .footer{> .tip{color:",";}}"],e?"#2a3031":"#fff",e&&"#999999",e?"rgba(255, 255, 255, 0.65)":"#707070",e?"rgba(255, 255, 255, 0.95)":"#232323",e?"#2A3031":"#f3f4f4",e?"rgba(255, 255, 255, 0.95)":"#232323",e?"#595959":"#EFEFEF",e&&"#3d4344",e&&"1px solid #3d4344",e?"rgba(255, 255, 255, 0.65)":"#707070",e&&"rgba(255, 255, 255, 0.65)",e&&"#3d4344",e&&"1px solid #3d4344",e&&"rgba(255, 255, 255, 0.65)")}),ra=T.default.div.withConfig({componentId:"twjib6-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:340px;height:300px;border-radius:4px;display:flex;align-items:center;justify-content:center;",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";"],e?"#2a3031":"#fff")}),oa=Object(T.default)(p.d).withConfig({componentId:"twjib6-2"})(["padding:0;width:100px;height:28px;font-size:12px;border-radius:14px;margin-bottom:10px;"]),ca=[{label:"10",value:"10"},{label:"30",value:"30"},{label:"50",value:"50"},{label:"100",value:"100"}],en=n.p+"assets/file/0625f166203f4d6ecb8b1bb3487aaba0.png",_t=n.p+"assets/file/965b3c7823b523eb8144bb6bfa31af40.png",la=n.p+"assets/file/3a842ad9474c880e9061cfe7d3929b9c.png",sa=n.p+"assets/file/b6fb9f917dbb24f4db6a3a3322f9a79a.png",ua=n.p+"assets/file/90fdb09cc1695e752676c0c524b88937.png",fa=n.p+"assets/file/6e00bf1e8e0dafa7eea6645a36424623.png",da=n.p+"assets/file/1502db0ac5c6c3cd5968c11e76e67c37.png",pa=n.p+"assets/file/be520ca6ae7d8de3643e85ae06bc251f.png",ma=n.p+"assets/file/8f881f790e31a29a0be42aea6a3c759d.png",ga=n.p+"assets/file/a0e3c23d2ad71fd8269300d6a1f74aa7.png",ba=n.p+"assets/file/2887ff09f06c78437f098186584733c6.png",ha=n.p+"assets/file/72f3fcb93c2be94f73ec7ff6b07492e4.png",_a=T.default.div.withConfig({componentId:"sc-16t5jo9-0"})(["color:#fff;background-color:#fff;width:320px;height:140px;border-radius:4px;padding:10px 10px 13px;margin-right:20px;display:inline-block;> .header{height:25px;margin-bottom:10px;color:#232323;font-size:14px;display:flex;align-items:center;justify-content:space-between;> .left{display:flex;align-items:center;}> .right{display:flex;align-items:center;margin-left:24px;font-size:12px;line-height:17px;color:#707070;}}> .option-wrapper{display:flex;align-items:center;> .text-v{width:12px;height:25px;font-size:18px;line-height:22px;color:#ff5050;font-weight:900;}> .text-s{position:relative;left:-3px;width:12px;height:25px;font-size:18px;line-height:23px;color:#2172f5;opacity:0.8;font-weight:900;}}",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";> .header{> .right{color:",";}}"],e&&"#2A3031",e&&"rgba(255, 255, 255, 0.65)")}),va=T.default.div.withConfig({componentId:"sc-16t5jo9-1"})(["position:relative;background-image:url(",");background-size:100% 100%;padding:8px 16px 10px;width:140px;height:60px;cursor:pointer;> .title{font-size:18px;font-weight:800;line-height:25px;}> .multiple{font-size:12px;font-weight:400;line-height:17px;opacity:0.8;}",""],en,function(e){var t=e.theme.darkTheme,n=e.disabled,a=e.checked,i=e.lose,e=e.win;return Object(T.css)(["cursor:",";background-image:",";background-image:",";background-image:",";background-image:",";background-image:",";"],(n||a||i||e)&&"inherit",n&&"url(".concat(la,")"),a&&"url(".concat(sa,")"),i&&"url(".concat(ua,")"),i&&t&&"url(".concat(da,")"),e&&"url(".concat(fa,")"))}),xa=T.default.div.withConfig({componentId:"sc-16t5jo9-2"})(["position:relative;background-image:url(",");background-size:100% 100%;padding:8px 16px 10px;width:140px;height:60px;text-align:right;cursor:pointer;> .title{font-size:18px;font-weight:800;line-height:25px;}> .multiple{font-size:12px;font-weight:400;line-height:17px;opacity:0.8;}",""],_t,function(e){var t=e.theme.darkTheme,n=e.disabled,a=e.checked,i=e.lose,e=e.win;return Object(T.css)(["cursor:",";background-image:",";background-image:",";background-image:",";background-image:",";background-image:",";"],(n||a||i||e)&&"inherit",n&&"url(".concat(pa,")"),a&&"url(".concat(ma,")"),i&&"url(".concat(ga,")"),i&&t&&"url(".concat(ha,")"),e&&"url(".concat(ba,")"))}),Ea=T.default.div.withConfig({componentId:"sc-16t5jo9-3"})(["position:relative;margin-top:8px;width:300px;height:14px;border-radius:7px;background:linear-gradient(90deg,#5287ff 0%,#21cdff 100%);> .left-count{position:absolute;left:10px;width:20px;height:16px;line-height:16px;font-size:11px;}> .right-count{position:absolute;right:10px;font-size:11px;line-height:14px;}",""],function(e){var t=e.rightGray,e=e.theme.darkTheme;return Object(T.css)(["background:",";background:",";"],t&&"rgba(198, 198, 198, 0.8)",t&&e&&"rgba(74, 79, 80, 0.8)")}),ya=T.default.div.withConfig({componentId:"sc-16t5jo9-4"})(["width:100%;border-top-left-radius:7px;border-bottom-left-radius:7px;height:14px;background:linear-gradient(90deg,#ff4d1d 0%,#f5991b 100%);",""],function(e){var t=e.leftFull,n=e.leftGray,e=e.theme.darkTheme;return Object(T.css)(["border-radius:",";background:",";background:",";"],t&&"7px",n&&"#C6C6C6",n&&e&&"#626262")}),Oa={width:"100%",height:"100%",margin:0},wa=n("AhGy"),ka=n("6Fg+"),ja=T.default.div.withConfig({componentId:"sc-5jx6oa-0"})(["position:absolute;bottom:0;width:100%;height:200px;padding:0 0 14px 0;background-color:rgba(35,35,35,0.6);> .header{padding:8px 0;padding-left:20px;margin-bottom:10px;height:36px;display:flex;align-items:center;> .title{font-size:16px;line-height:10px;color:#fff;margin-right:4px;}> .question{color:#fff;cursor:pointer;}> .tip{font-size:14px;line-height:10px;color:#fff;@media screen and (max-width:1200px){display:none;}}> .right{position:absolute;right:20px;top:7px;display:flex;justify-content:flex-end;color:#fff;font-size:14px;line-height:20px;> .ranking{display:flex;align-items:center;cursor:pointer;> svg{color:#fff;}}> .history{margin-left:20px;display:flex;align-items:center;cursor:pointer;> svg{color:#fff;}}> .close{cursor:pointer;margin-left:24px;display:flex;align-items:center;> svg{color:#fff;}}}}> .scroll{display:flex;height:154px;padding:0 20px;overflow-x:auto;","}"],vt.a),Ia={width:"100%",height:"100%",margin:0},Ca=n("2BBt"),Na=n("q/k4"),Ta=n("ip8e"),Sa=n("2LK0"),Aa=n("WSuF"),La=n("SQj2"),bt=n("pVnL"),Da=n.n(bt),xt=n("OS56"),Pa=n.n(xt),r=n.p+"assets/file/771cbb9155a790d3e4aaf69d4a5d1276.png",rn=n.p+"assets/file/34568ca1174d324316f100187874f738.png",mn=n.p+"assets/file/d2d96d552272beaa22b1ea499fe4a128.png",Ra={0:r,1:rn,2:mn},za=T.default.div.withConfig({componentId:"an9049-0"})(["position:absolute;top:20px;right:20px;width:120px;height:66px;border:none;"]),Ma=Object(T.default)($e.b).withConfig({componentId:"an9049-1"})(["position:relative;",";"],function(e){var t=e.rank,n=e.width,a=e.height,i=e.top,e=e.left;return t<3?Object(T.css)(["border:",";&::after{content:'';background:url(",");position:absolute;width:","px;height:","px;top:","px;left:","px;background-repeat:no-repeat;}"],function(e){switch(e){case 0:return"1px solid #EFCB34";case 1:return"1px solid #D5E2E7";case 2:return"1px solid #E8BCA4";default:return"none"}}(t),Ra[t],n,a,i,e):""}),Ga=(n("tyWD"),n("K7k0"),n("aJ4X")),en=n("Bfvj"),_t=n("E+oP"),Fa=n.n(_t),Ua=n("e6Ps"),Ha=n.p+"assets/file/08588f408011d7d6a998ce4f1674bc6b.png",Ba=n("Z56j"),Wa=Object(T.default)(Ba.c).withConfig({componentId:"sc-1hjmyvk-0"})(["width:100%;height:66px;border-radius:8px;cursor:pointer;"]),qa=Object(T.default)(Ga.a).withConfig({componentId:"sc-1hjmyvk-1"})(["width:100%;height:100%;"]),bt=n("o0o1"),Ka=n.n(bt),Ya=n("II8z"),Va=n("9T9G"),Xa=n("wwXc"),Qa=n.p+"assets/file/cb0a081b4a4c75fdd175311fb9d7b590.png",Ja=n.p+"assets/file/52a97b21270cd6983fdbc8324a47cfd3.png",Za=Object(T.default)(Pa.a).withConfig({componentId:"jz6r3n-0"})(["width:192px;margin:0 auto;.slick-prev:before,.slick-next:before{content:none;}"]),xt="rgba(252, 252, 252, 0.2)",$a=Object(T.default)(X.b).withConfig({componentId:"jz6r3n-1"})(["width:16px;height:16px;background-color:",";border-radius:50%;&:hover{background-color:",";}&:not(.slick-disabled):hover{background-color:rgba(252,252,252,0.3);}&.slick-disabled{color:rgba(221,216,255,0.3);}&:not(.slick-disabled){color:rgba(221,216,255,0.9);}"],xt,xt),r=function(e){var t={infinite:!1,slidesToShow:4,slidesToScroll:4,prevArrow:$.a.createElement(Ee,null),nextArrow:$.a.createElement(ye,null)},n=e.data,n=void 0===n?[]:n;return $.a.createElement(Za,Da()({},t,e),n.map(function(e,t){e=e.avatar,e=void 0===e?"":e;return $.a.createElement("div",{key:e},$.a.createElement(Ma,{src:e,size:36,rank:t,width:20,height:18,top:-11,left:-7,style:{margin:"10px 6px 0"}}))}))},rn=n.p+"assets/file/0ab1ecae44928194a0f832b8de510eb7.png",mn="#ffedb1",_t="rgba(221, 216, 255, 0.6)",bt=Object(T.css)(["","::-webkit-scrollbar{width:4px;height:4px;}"],Object(vt.b)({color:"rgba(255, 255, 255, 0.2)"})),ei=Object(T.default)(Ba.c).withConfig({componentId:"sc-16ntxko-0"})(["width:460px;max-height:540px;padding:26px 20px;color:#ffffff;border-radius:8px;background-image:url(","),",";background-repeat:no-repeat;box-shadow:0px 4px 16px rgba(0,0,0,0.16);"],rn,"linear-gradient(to bottom, #100c34, #322370)"),ti=Object(T.default)(Ba.c).withConfig({componentId:"sc-16ntxko-1"})(["flex-shrink:0;font-size:20px;font-weight:600;color:",";"],mn),ni=T.default.span.withConfig({componentId:"sc-16ntxko-2"})(["margin:0 6px;"]),ai=T.default.span.withConfig({componentId:"sc-16ntxko-3"})(["display:inline-block;margin-top:10px;font-size:14px;text-align:center;color:",";"],_t),ii=T.default.span.withConfig({componentId:"sc-16ntxko-4"})(["font-size:16px;color:",";font-weight:bold;"],mn),xt=Object(T.css)(["position:absolute;top:26px;right:19px;cursor:pointer;&:not(#weight){color:rgba(255,255,255,0.3);font-weight:bold;}"]),ri=Object(T.default)(X.b).withConfig({componentId:"epfo5j-0"})(["",""],xt),oi=function(){var e=Object(Z.useRef)(!1);return Object(Z.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),{isMounted:e}},rn=n("h78n"),xt=n("uM7l"),ci=n.n(xt),li=function(e){var e=e.gift,t=Object(Z.useContext)(fe.a).anchorInfo.country,a=e.giftIdMapDetail,i=e.allCountryDisplayList;return Object(Z.useMemo)(function(){var n=ci()(a),e=(i.find(function(e){return e.country===t})||i.find(function(e){return"default"===e.country})||{}).defaultList;return null!=e&&e.forEach(function(e){var t=e.id,e=e.name;n[t]&&(n[t].name=e)}),n},[i,t,a])},si=n.p+"assets/file/8e10d89ee0c109d349c0f4caf6614ff5.png",ui=Object(T.default)(Ba.c).withConfig({componentId:"sc-1tmq3e4-0"})(["position:relative;width:126px;padding:6px 10px 12px;margin:0 10px;border-radius:8px;"," &:first-child{margin-left:0;}&:last-child{margin-right:0;}"],function(e){var t=e.isWish,e=e.fulfill;return Object(T.css)(["height:",";background-image:linear-gradient(to bottom,",";border:1px solid ",";"],t?"198px":"147px",e?"#271845, #242062)":"#34205b, #2f2b81)",e?"rgba(221, 216, 255, 0.1)":"rgba(221, 216, 255, 0.2)")}),fi=T.default.span.withConfig({componentId:"sc-1tmq3e4-1"})(["max-width:100%;margin-top:2px;font-size:16px;line-height:21px;",";",";"],function(e){return e.unable?"color: rgba(255, 80, 0, 0.9)":""},en.a),di=Object(T.default)(Ba.c).withConfig({componentId:"sc-1tmq3e4-2"})([""]),pi=Object(T.default)(Ga.a).withConfig({componentId:"sc-1tmq3e4-3"})(["width:64px;height:64px;object-fit:scale-down;"]),mi=T.default.span.withConfig({componentId:"sc-1tmq3e4-4"})(["margin-left:4px;color:rgba(221,216,255,0.5);font-size:14px;"]),gi=T.default.span.withConfig({componentId:"sc-1tmq3e4-5"})(["color:rgba(255,255,255,0.5);"]),bi=T.default.span.withConfig({componentId:"sc-1tmq3e4-6"})(["margin-right:2px;font-size:18px;font-weight:600;line-height:24px;color:#ffedb1;"]),hi=Object(T.default)(p.d).withConfig({componentId:"sc-1tmq3e4-7"})(["width:106px;height:28px;margin-top:4px;border:none;border-radius:82px;",";"],function(e){e=e.disable;return Object(T.css)(["background-image:",";color:",";cursor:",";&:hover{background-image:",";}"],e?"linear-gradient(135deg, #421F96, #611F96)":"linear-gradient(135deg, #5b2dd6, #8e2dd6)",e?"rgba(3, 3, 3, 0.3)":"inherit",e?"not-allowed":"default",e?"linear-gradient(135deg, #421F96, #611F96)":"linear-gradient(135deg, #6e42da, #9742da)")}),_i=Object(T.default)(rn.a).withConfig({componentId:"sc-1tmq3e4-8"})(["margin-top:",";"],function(e){return e.isWish?"2px":"6px"}),vi=T.default.span.withConfig({componentId:"sc-1tmq3e4-9"})(["position:absolute;top:-1px;right:-1px;padding:8px;color:rgba(221,216,255,0.5);font-size:12px;background:rgba(19,5,46,0.6);border-radius:0px 8px 0px 8px;font-weight:600;"]),xi=Object(i.b)(function(e){return{configure:e.configure}})(function(e){var t=Object(Z.useContext)(fe.a).anchorInfo.anchorId,n=e.isWish,a=void 0!==n&&n,i=e.progress,r=e.target,o=e.giftId,c=e.configure,l=li({gift:c.gift}),s=r<=i,u=Object(Z.useMemo)(function(){return l[o]||{}},[o,l]),f=!Fa()(u),n=Object(Z.useMemo)(function(){return $.a.createElement(gi,null,$.a.createElement(bi,null,i),"/",r)},[i,r]),d=Object(Z.useCallback)(function(){return Ua.a.glean({lt:"click",af:"live_room",bf:"host_wish",cf:"send_wish_gift",action:"click",aid:t,gift_id:o,gift_progress:"".concat(i,"/").concat(r)})},[t,o,i,r]),e=Object(Z.useCallback)(function(){d(),f&&de.h.emit(de.g.COMMON_SEND_GIFT,{giftId:o,curSelectCount:1,wsNonoParaData:{source_site:"host_wish_list"}})},[d,o,f]),c=Object(Z.useMemo)(function(){return Math.min(Math.trunc(i/r*100),100)},[i,r]);return $.a.createElement(ui,{direction:"column",justify:"space-between",align:"center",fulfill:s,isWish:a},s&&$.a.createElement(vi,null,Object(ue.f)("wish_list_fulfill")),$.a.createElement(pi,{src:u.picture,defaultSrc:Ha}),$.a.createElement(fi,{unable:!u.name},u.name||Object(ue.f)("wish_list_unable_gift")),a?$.a.createElement(di,{align:"center"},$.a.createElement(Ga.a,{src:si,size:14}),$.a.createElement(mi,null,u.price||0)):n,$.a.createElement(_i,{percent:c,strokeWidth:5,trailWidth:5,strokeColor:c?"#FFEDB1":"transparent",trailColor:"rgba(221, 216, 255, 0.3)",$isWish:a}),a&&$.a.createElement($.a.Fragment,null,n,$.a.createElement(hi,{disable:!f,size:p.b.SMALL,onClick:e},Object(ue.f)("wish_list_give"))))}),Ei=function(e){var t=e.taskList,n=void 0===t?[]:t,i=e.fromWish;return{giftList:Object(Z.useMemo)(function(){return n.map(function(e){var t=e.task_counter_id,n=e.gift_id,a=void 0===n?0:n,n=e.progress,n=void 0===n?0:n,e=e.target,e=void 0===e?0:e;return $.a.createElement(xi,{key:a,taskId:t,giftId:a,progress:n,target:e,isWish:i})})},[i,n])}},yi=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Oi=T.default.div.withConfig({componentId:"sc-19c9wu0-0"})(["font-size:14px;margin-top:9px;text-align:center;color:",";"],_t),wi=Object(T.default)(r).withConfig({componentId:"sc-19c9wu0-1"})(["margin-top:20px;"]),ki=Object(T.default)(Ba.c).withConfig({componentId:"sc-19c9wu0-2"})(["margin-top:25px;"]),ji=T.default.span.withConfig({componentId:"sc-19c9wu0-3"})(["margin-top:18px;text-align:center;font-size:14px;color:rgba(221,216,255,0.6);"]),Ii=Object(T.default)(Wa).withConfig({componentId:"sc-1fu3e1a-0"})(["padding:7px 0;background-color:rgba(0,0,0,0.3);"]),Ci=T.default.span.withConfig({componentId:"sc-1fu3e1a-1"})(["flex-shrink:0;font-size:14px;max-width:100%;line-height:1.15;color:#ddd8ff;",";"],en.a),Ni=Object(T.default)(Ga.a).withConfig({componentId:"sc-1fu3e1a-2"})(["width:36px;height:36px;object-fit:scale-down;"]),Ti=T.default.span.withConfig({componentId:"sc-1fu3e1a-3"})(["color:rgba(255,255,255,0.5);"]),Si=T.default.span.withConfig({componentId:"sc-1fu3e1a-4"})(["margin:0 3px 0 2px;font-size:16px;line-height:24px;font-weight:bold;color:#ffedb1;"]),Ai=T.default.span.withConfig({componentId:"sc-1fu3e1a-5"})(["font-size:13px;"]),Li=Object(i.b)(function(e){return{configure:e.configure}})(function(e){var t=e.configure,n=e.play,a=e.progress,i=e.target,r=e.taskId,o=e.giftId,c=e.index,l=e.currIndex,s=e.exposeCacheMap,e=Object(Z.useContext)(fe.a),u=e.roomId,f=e.anchorInfo.anchorId,d=i<=a,p=li({gift:t.gift}),t=Object(Z.useMemo)(function(){return d?Object(ue.f)("wish_list_fulfill"):Object(ue.f)("wish_list_wish_ongoing")},[d]),m=Object(Z.useMemo)(function(){return p[o]||{}},[o,p]);return Object(Z.useEffect)(function(){c===l&&(s.has(c)||(s.set(c,!0),Fa()(m)&&a<i?Ua.a.glean({lt:"click",af:"live_room",bf:"host_wish",cf:"invalidation_gift",action:"expose",aid:f,live_id:u,gift_id:o,gift_progress:"".concat(a,"/").concat(i)}):Ua.a.glean({lt:"click",af:"live_room",bf:"host_wish",cf:"host_wish_entrance_audience",action:"expose",type_entrence:"help_wall",aid:f,live_id:u,gift_id:o})))}),$.a.createElement(ke,{DialogComponent:we,play:n,taskId:r},$.a.createElement(Ii,{direction:"column",align:"center",justify:"space-between"},$.a.createElement(Ci,null,t),$.a.createElement(Ba.c,{align:"center"},$.a.createElement(Ni,{key:o,src:m.picture,defaultSrc:Ha}),$.a.createElement(Ti,null,$.a.createElement(Si,null,a),"/",$.a.createElement(Ai,null,i)))))}),xt=n.p+"assets/file/ab49167e5030de2bbb7c70153029487b.png",rn=n.p+"assets/file/e60a231d69fc3bd99d726ccdcea625fe.png",_t=n.p+"assets/file/fe7ead386a72d356269fb759703001da.png",Di=(r={},Qe()(r,ue.b.JAPANESE,xt),Qe()(r,ue.b.ENGLISH,rn),Qe()(r,ue.b.KOREAN,_t),r),Pi=n.p+"assets/file/a69c6da0b3bb672c38830b595f59353b.png",Ri=Object(T.default)(Ba.c).withConfig({componentId:"sc-1uk47nx-0"})(["height:488px;flex:1 0 auto;"]),zi=T.default.div.withConfig({componentId:"sc-1uk47nx-1"})(["color:",";"],mn),Mi=T.default.div.withConfig({componentId:"sc-1uk47nx-2"})(["font-size:16px;"]),Gi=T.default.div.withConfig({componentId:"sc-1uk47nx-3"})(["margin-top:16px;font-size:14px;color:#ddd8ff;opacity:0.6;"]),Fi=T.default.div.withConfig({componentId:"sc-1uk47nx-4"})(["margin-top:32px;padding:30px 20px;background:linear-gradient(180deg,#34205b 0%,#2f2b81 100%);border:1px solid rgba(221,216,255,0.2);border-radius:8px;"]),Ui=Object(T.default)(p.d).withConfig({componentId:"sc-1uk47nx-5"})(["margin:0 auto;height:28px;border:1px solid #ddd8ff;border-radius:18px;background-color:transparent;opacity:0.4;&:hover{background-color:transparent;border-color:#ddd8ff;}"]),Hi=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Bi=T.default.div.withConfig({componentId:"mg6380-0"})(["margin-top:24px;font-size:16px;text-align:center;color:",";"],mn),Wi=Object(T.default)(Ba.c).withConfig({componentId:"mg6380-1"})(["margin-top:12px;"]),qi=T.default.div.withConfig({componentId:"mg6380-2"})(["flex-shrink:0;margin-top:12px;background-image:linear-gradient(to bottom,#34205b,#2f2b81);border-radius:8px;line-height:1.3;overflow:hidden;"]),Ki=Object(T.default)(Ba.c).withConfig({componentId:"mg6380-3"})(["max-height:234px;flex-flow:wrap;padding:20px 10px 0px;overflow-y:auto;",""],bt),Yi=Object(T.default)(Ba.c).withConfig({componentId:"mg6380-4"})(["width:25%;margin-bottom:16px;"]),Vi=T.default.span.withConfig({componentId:"mg6380-5"})(["font-size:14px;margin-top:6px;color:#ddd8ff;opacity:0.6;max-width:100%;padding:0 8px;",""],en.a),Xi=Object(T.default)(Ga.a).withConfig({componentId:"mg6380-6"})(["height:14px;width:14px;margin-left:7px;cursor:pointer;"]),Qi=T.default.div.withConfig({componentId:"mg6380-7"})(["margin:0 -20px -26px 0;padding:0 20px 26px 0;overflow-y:auto;",""],bt),rn=n.p+"assets/file/2fdc806ec2d2f8c63b18652bef3ff39e.png",_t=n.p+"assets/file/84bf60a811bb7361420fcb0eb179d93b.png",r=n.p+"assets/file/e577ab0397525e5bdd100badc618cc87.png",Ji=(mn={},Qe()(mn,ue.b.JAPANESE,rn),Qe()(mn,ue.b.ENGLISH,_t),Qe()(mn,ue.b.KOREAN,r),mn),Zi=n("7WPh"),$i=n("+Bzz"),er=n("hJBN"),tr=n("smll"),nr=n("6x8j"),ar=n("V5zr"),bt=n("lwsE"),ir=n.n(bt),rn=n("W8MJ"),rr=n.n(rn),or=n("4r7h");function cr(){return Math.round(window.performance.now())}function lr(e){var t=Object(Z.useContext)(fe.a).setLeadFollowShow;Object(Z.useEffect)(function(){e&&t(!0)},[t,e])}function sr(e){var n=e.redirectRoomId,t=e.onCancel,a=e.onRedirect,e=Object(Z.useState)(5),i=(e=ne()(e,2))[0],r=e[1],o=Object(ee.g)();return Object(Z.useEffect)(function(){var t=setInterval(function(){var e;i<=0?(clearInterval(t),a(),e="/".concat(n),o.push({pathname:e,state:{stateFrom:Rr.a.auto_jump}})):r(Math.max(i-1,0))},1e3);return function(){clearInterval(t)}},[n,o,i,r,a]),$.a.createElement(zr,null,$.a.createElement("span",{className:"desc"},Object(ue.f)("room_redirect_desc")),$.a.createElement("span",{className:"countdown"},i,"s"),$.a.createElement("button",{className:"cancel-btn",type:"button",onClick:t.bind(void 0,i)},Object(ue.f)("room_redirect_stay_in_room")))}function ur(e){var t=e.liveList,n=e.lastLiveDate,a=e.recomendIsJump,i=e.playback,r=(s=Object(Z.useContext)(fe.a)).anchorInfo,o=s.hasPlayed,c=s.setLeadFollowShow,l=Object(Z.useState)(!1),s=(e=ne()(l,2))[0],u=e[1],l=Object(Z.useCallback)(function(){Ua.a.glean({lt:"pcclick",ct:"click",dt:"liveroom",countdown_click:0,auto_close:"close",live_type:r.liveType})},[r.liveType]),e=Object(Z.useCallback)(function(e){u(!0),Ua.a.glean({lt:"pcclick",ct:"click",dt:"liveroom",countdown_click:e,auto_close:-1,live_type:r.liveType}),c(!0)},[r.liveType,c]),a=!i&&o&&2===r.liveType&&!s&&!r.autoReplay&&a,t=t&&t[Math.floor(Math.random()*t.length)]||{};return lr(!a),$.a.createElement("div",{className:"liveEndTop"},!a&&$.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"title"},i?Object(ue.f)("host_not_home"):Object(ue.f)("live_end_see_other")),$.a.createElement("div",{className:"last-live-date"},0<n&&"".concat(Object(ue.f)("live_end_last_live_time"),":").concat(Object(zn.a)(1e3*n).format("YYYY-MM-DD HH:mm:ss")))),a&&t.roomId&&$.a.createElement(sr,{redirectRoomId:t.roomId,onRedirect:l,onCancel:e}))}function fr(){var r=(t=Object(Z.useContext)(fe.a)).roomId,o=t.anchorInfo,e=Object(Z.useState)([]),a=(t=ne()(e,2))[0],c=t[1],e=Object(Z.useState)(),i=(t=ne()(e,2))[0],l=t[1],e=Object(Z.useState)(!0),e=(t=ne()(e,2))[0],s=t[1],t=Object(Z.useState)(0),u=(t=ne()(t,2))[0],f=t[1],t=Object(Z.useState)(!0),d=(t=ne()(t,2))[0],p=t[1],n=Object(Z.useCallback)(function(){return Mr(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a,i;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(A.Ab)(r,o.channelKey);case 3:a=e.sent,t=void 0===(i=(n=a||{}).live_start_date)?0:i,i=void 0===(a=n.video_list)?[]:a,a=void 0===(a=n.jump_status)?0:a,(n=void 0===(n=n.live_list)?[]:n)&&0<n.length&&c(n.map(function(e){return{roomId:e.user_id,cover:e.pic,title:e.anchor_intro,avatar:e.avatar,level:e.level,liveId:e.live_id,name:e.loginname,viewerCount:e.viewers,autoReplay:1===e.auto_replay,subscriptionLive:!!e.sub_status}})),t&&f(t),p(1===a),i=i||[],i=ne()(i,1),(i=i[0])&&l({anchorId:i.user_id,cover:i.video_pic,title:i.title,avatar:i.author_info.pic,name:i.author_info.login_name,viewCount:i.view_num,vid:i.v_id,duration:i.video_length,publishTime:i.publish_time,subStatus:null==i?void 0:i.sub_status}),s(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),s(!1),K.a.error(e.t0,{description:"fetch live end data error",report:!0});case 17:case"end":return e.stop()}},e,null,[[0,13]])}))},[r,o.channelKey]);Object(Z.useEffect)(function(){n()},[n]),lr(i);var m=Object(Z.useCallback)(function(e,t,n){ct.a.handleDataCount({lt:"rec_stat",ct:t,dt:"client",et:"liveroom",room_id:e.anchorId,recom_position:"liveroom_player",position_in_recom:Number(n)+1,recom_type:"video",video_id:e.v_id,video_time:e.duration,video_watch_cnt:e.viewCount,game_key:e.game_key,category_key:e.category_key,event_id:"click"===t?"C_ROOM_REC_CLICK":"C_ROOM_REC_EXPOSE"})},[]),g=Object(Z.useCallback)(function(e,t,n){ct.a.handleDataCount({lt:"rec_stat",ct:t,dt:"client",et:"liveroom",room_id:e.userId,recom_position:"liveroom_player",position_in_recom:Number(n)+1,recom_type:"live",host_id:e.user_id,host_level:e.level,live_id:e.live_id,live_status:0,m_total_count:e.viewerCount,game_key:e.game_key,category_key:e.category_key,event_id:"click"===t?"C_ROOM_REC_CLICK":"C_ROOM_REC_EXPOSE"})},[]),b=Object(Z.useCallback)(function(){ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"offlive",ft:"video"})},[]),h=Object(Z.useCallback)(function(e){return function(){ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"offlive",ft:"live",position:e})}},[]);return e?null:$.a.createElement(Gr,null,$.a.createElement(Hn.a,{className:"list-container"},function(e){var t=e.height,n=688<t?1:(t-44)/644,e=i?1+a.length:a.length,t=t<=500||e<=2,e=i?t?1:3:t?2:4;return $.a.createElement($.a.Fragment,null,$.a.createElement(ur,{liveList:a,lastLiveDate:u,recomendIsJump:d,playback:i}),$.a.createElement("div",{className:"list",style:{height:552*n/(t?2:1),transform:"scale(".concat(n,")")}},i?$.a.createElement(Pr.a,{title:i.title,containerWidth:680,anchorId:i.anchorId,key:i.vid,id:i.vid,cover:Object(Sa.a)({url:i.cover,styleQuery:{size:Sa.b.median}}),duration:i.duration,viewCount:i.viewCount,avatar:Object(Sa.a)({url:i.avatar,styleQuery:{size:Sa.b.mini}}),name:i.name,time:new Date(i.publishTime),onClick:function(){m(i,"click",0),b()},onEnter:function(){return m(i,"expose",0)},subStatus:null==i?void 0:i.subStatus}):null,a.slice(0,e).map(function(e,t){return $.a.createElement(Dr.b,{containerWidth:680,key:e.roomId,roomId:e.roomId,cover:Object(Sa.a)({url:e.cover,styleQuery:{size:Sa.b.median}}),title:e.title,avatar:Object(Sa.a)({url:e.avatar,styleQuery:{size:Sa.b.mini}}),name:e.name,viewerCount:e.viewerCount,"data-index":e.roomId,autoReplay:e.autoReplay,stateFrom:Rr.a.liveroom_recom_player,onClick:function(){g(e,"click",t),h(t)},onEnter:function(){return g(e,"expose",t)},subscriptionLive:e.subscriptionLive})})))}))}function dr(e){var t,e=e.imgUrl;return t=Object(Z.useContext)(fe.a).setLeadFollowShow,Object(Z.useEffect)(function(){t(!0)},[t]),e?$.a.createElement(Ur,null,$.a.createElement("img",{alt:"live_preview",src:Fr.a.processServerImageUrl(e)})):null}function pr(e){var t=void 0===(r=e.avatarUrl)?"":r,n=e.desc,a=void 0===n?"":n,i=e.hostId,r=e.wayWidth,o=void 0!==(n=e.isNeedLink)&&n,c=e.option;return $.a.createElement(Yr,{onClick:function(){var e;o&&(null!=c&&c.notice_type&&(e={lt:"rec_stat",af:"live_room",bf:"income_activity",cf:"activity_notice",action:"click",notice_type:c.notice_type,host_id:i,room_id:c.roomId},ct.a.handleDataCount(e)),window.open("/".concat(i)))},key:i},$.a.createElement($e.b,{className:c&&c.rank?"avatar lv".concat(c.rank):"avatar",size:30,src:t}),$.a.createElement("div",{className:"desc ".concat(r<600?"_mini":"")},a),o&&$.a.createElement("div",{className:"btn"},Object(ue.f)("pirate_ship_watch")))}function mr(e){var a=e.item,i=e.wayWidth,r=e.onFinish,o=Object(Br.a)(),c=Object(Z.useRef)(null),t=Object(Z.useState)(!1),l=(e=ne()(t,2))[0],s=e[1],t=Object(Z.useState)(0),n=(e=ne()(t,2))[0],u=e[1],f=Object(Z.useMemo)(function(){return i/8},[i]),t=Object(Z.useState)(Date.now()),d=(e=ne()(t,2))[0],p=e[1],t=Object(Z.useState)(8),m=(e=ne()(t,2))[0],g=e[1];return Object(Z.useEffect)(function(){Vr(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l&&a&&c)return s(!0),t=c.current.offsetWidth,n=(t+i)/f,u(t),g(n),p(Date.now()),e.next=9,o.start({transform:"translate3d(-".concat(t,"px,0,0)"),transition:{ease:"linear",duration:n}});e.next=10;break;case 9:r&&r();case 10:case"end":return e.stop()}},e)}))},[o,i,r,l,a,c,f,m]),t=Object(Z.useCallback)(function(){var e=(Date.now()-d)/1e3;0<m-e&&(g(m-e),o.stop())},[o,d,m]),e=Object(Z.useCallback)(function(){return Vr(void 0,void 0,void 0,Ka.a.mark(function e(){return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:requestAnimationFrame(function(){return Vr(void 0,void 0,void 0,Ka.a.mark(function e(){return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(Date.now()),e.next=3,o.start({transform:"translate3d(-".concat(n,"px,0,0)"),transition:{ease:"linear",duration:m}});case 3:r&&r();case 4:case"end":return e.stop()}},e)}))});case 1:case"end":return e.stop()}},e)}))},[o,r,n,m]),$.a.createElement(Wr.a.div,{onMouseEnter:t,onMouseLeave:e,animate:o,initial:{transform:"translate3d(".concat(i,"px,0,0)")}},$.a.createElement("div",{ref:c},a.type===Hr.a.normal&&$.a.createElement(Kr,{wayWidth:i,hostId:a.hostId,desc:a.desc||"",avatarUrl:a.avatarUrl||""}),a.type===Hr.a.pirateShip&&$.a.createElement(pr,{wayWidth:i,hostId:a.hostId,desc:a.desc||"",avatarUrl:a.avatarUrl||"",isNeedLink:a.isNeedLink,option:a.option})))}function gr(){return $.a.createElement(Zi.d,null,Object(ue.f)("auto_replay"))}function br(e){var t,n,a=e.containerWidth,i=e.containerHeight,r=e.children,o=Object(Z.useContext)(fe.a),c=o.anchorInfo,l=o.layout,s=o.loading,u=c.liveType,e=Object(Z.useState)(!1),f=(o=ne()(e,2))[0],d=o[1],e=Object(Z.useState)(!1),p=(o=ne()(e,2))[0],m=o[1],e=Object(Z.useState)(!!La.a.hasPlayerCore()&&[Aa.VideoPlayer.PlayerController.PlayerStatus.START,Aa.VideoPlayer.PlayerController.PlayerStatus.PLAYING].includes((null===(h=La.a.getController())||void 0===h?void 0:h.playStatus)||Aa.VideoPlayer.PlayerController.PlayerStatus.INITIAL)),g=(o=ne()(e,2))[0],b=o[1],h=Object(Z.useRef)(),_=Object(Z.useMemo)(function(){if(c.living||!c.anchorId||!c.living&&g)return $r;if(!f&&c.trailer&&c.trailer.trailerTime&&-6e4<c.trailer.trailerTime-Object(zn.a)().valueOf())return to;return eo},[c.living,c.anchorId,c.trailer,g,f]);t=_===$r,n=Object(Z.useContext)(fe.a).setLeadFollowShow,Object(Z.useEffect)(function(){t&&n(!1)},[t,n]),Object(Z.useEffect)(function(){function e(){d(!0)}function t(e){b(e===Aa.VideoPlayer.PlayerController.PlayerStatus.START||e===Aa.VideoPlayer.PlayerController.PlayerStatus.PLAYING)}function n(e){m(e)}return de.h.on(de.g.LIVE_SUBSCRIBE_EDN,e),de.h.on(de.g.PLAYER_STATUS_CHANGE,t),de.h.on(de.g.TOOGLE_PIP_MODE,n),function(){de.h.off(de.g.LIVE_SUBSCRIBE_EDN,e),de.h.off(de.g.PLAYER_STATUS_CHANGE,t),de.h.off(de.g.TOOGLE_PIP_MODE,n)}},[]),e=l===ce.h.NORMAL,o=56.25,e&&a&&i&&(o=Math.min(56.25,i/a*100));var a=Object(Z.useMemo)(function(){return u===ie.d.SHOW&&_===$r&&l!==ce.h.FULLSCREEN&&!p},[p,l,u,_]);return $.a.createElement(Zi.a,{layout:l,ref:h,style:{flex:"".concat(e?"unset":1),paddingBottom:e?"".concat(o,"%"):"unset"}},$.a.createElement("div",{className:"wrapper"},$.a.createElement(Zi.b,null,$.a.createElement("div",{className:"bg",style:c.pic?{backgroundImage:"url(".concat(!s&&Object(Sa.a)({url:c.pic,styleQuery:{size:Sa.b.median}})||"",")")}:{filter:"none"}}),c.autoReplay&&$.a.createElement(gr,null)),_===$r&&$.a.createElement(Lr,{anchorInfo:c,layout:l,parentDom:h.current}),_===$r&&$.a.createElement(Zr,null),a&&$.a.createElement(Te,null),_===eo&&$.a.createElement(fr,null),_===to&&$.a.createElement(dr,{imgUrl:(null===(a=c.trailer)||void 0===a?void 0:a.trailerPic)||""})),r)}function hr(){return $.a.createElement(Zi.c,null)}function _r(e){return $.a.createElement(Re.a,{fallback:hr},$.a.createElement(br,e))}function vr(e){var t=e.visible,n=e.onClose,a=e.data,i=Object(Z.useState)(""),i=(e=ne()(i,2))[0],r=e[1];return Object(Z.useEffect)(function(){var e;a&&(null!==(e=a.reportData)&&void 0!==e&&e.id&&ct.a.handleDataCount({lt:"rec_stat",af:"gift_banner",bf:a.reportData.id,cf:"banner_page",action:"expose"}),e=(e=localStorage.getItem(Be.mb))&&Object.values(ro.b).includes(e)?e:ro.b.JAPANESE,2===a.type&&(e===ro.b.JAPANESE&&r(a.jaPage),e===ro.b.KOREAN&&r(a.koPage),e===ro.b.ENGLISH&&r(a.enPage)))},[a]),$.a.createElement(Re.a,null,$.a.createElement(S.c,{open:t,onBarClick:function(){n()},type:S.b.CENTER},$.a.createElement(co,{type:null==a?void 0:a.type},$.a.createElement("div",{className:"dialog-cont"},1===(null==a?void 0:a.type)&&$.a.createElement("iframe",{src:a.url,className:"iframe",title:"This is a unique title"}),2===(null==a?void 0:a.type)&&$.a.createElement("img",{src:i,alt:"bg"})),$.a.createElement("div",{className:"close-icon"},$.a.createElement("img",{src:oo,alt:"close",onClick:function(){n()}})))))}function xr(e){var t=e.title,e=Object(Z.useCallback)(function(){lo.a.openTopupDialog(),Ua.a.glean({lt:"click",event_id:"C_RECHARGE_LIVEROOM_COUPON_CLICK"})},[]);return Object(Z.useEffect)(function(){Ua.a.glean({lt:"click",event_id:"C_RECHARGE_LIVEROOM_COUPON_EXPOSE"})},[]),$.a.createElement(mo,{onClick:e},$.a.createElement(go,null,$.a.createElement("div",{className:"coupon"},$.a.createElement("img",{src:po,alt:""})),$.a.createElement("div",{className:"coupon-text"},t)))}function Er(e){var t=e.limitWidth,e=Object(Z.useCallback)(function(){lo.a.openTopupDialog(),Ua.a.glean({lt:"click",event_id:"C_RECHARGE_LIVEROOM_COUPON_CLICK"})},[]);return Object(Z.useEffect)(function(){Ua.a.glean({lt:"click",event_id:"C_RECHARGE_LIVEROOM_COUPON_EXPOSE"})},[]),$.a.createElement(ho,{onClick:e},$.a.createElement(_o,{limitWidth:t},$.a.createElement("div",{className:"coupon"},$.a.createElement("img",{src:po,alt:""})),$.a.createElement("div",{className:"coupon-text"},Object(ue.f)("topup_room_discount_topup"))))}function yr(e){var t=e.liveType,e=e.limitWidth;return Object(Z.useEffect)(function(){var e=V.a.getState().user;Ua.a.glean({lt:"rec_stat",af:"voucher_entrance",action:"expose",uid:(null==e?void 0:e.user_id)||0,device:"PC",live_type:t||""})},[t]),$.a.createElement(Eo,{onClick:function(){var e=V.a.getState().user;if(!e)return V.a.dispatch(Object(Wt.c)(!0));Ua.a.glean({lt:"rec_stat",af:"voucher_entrance",action:"click",uid:(null==e?void 0:e.user_id)||0,device:"PC",live_type:t||""}),lo.a.openTopupDialog()},limitWidth:e},$.a.createElement("img",{className:"coupon",src:vo,alt:""}),$.a.createElement("div",{className:"title"},Object(ue.f)("coupon_limit_time")))}function Or(e){var t=e.picSrc,n=e.iconSize,a=e.classStr,i=e.defaultIconSrc,r=Object(Z.useState)(!0),r=(e=ne()(r,2))[0],o=e[1];return $.a.createElement(Oo,null,r?$.a.createElement("img",{className:a,alt:"",onError:function(){o(!1)},src:t}):$.a.createElement(X.b,{name:X.b.NAME.GIFT_DEFAULT,size:n,className:i}))}function wr(){var e=(r=Object(Z.useContext)(fe.a)).fansGroupInteractionData,t=r.roomId,n=r.anchorInfo,a=Object(Z.useState)(!1),i=ne()(a,2),r=i[0],o=i[1],a=Object(Z.useState)(!0),a=(i=ne()(a,2))[0],c=i[1];return e.has_gift&&a?$.a.createElement(Re.a,null,$.a.createElement(Io,null,$.a.createElement("div",{className:"pop",onClick:function(){o(!0)}},Object(ue.f)("fans_group_gift_tip2")),r&&$.a.createElement(jo,{onClose:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];o(!1),e&&c(!1)},roomId:t,hostName:n.name,fansGroupInteractionData:e}))):null}function kr(e){var t=e.className,e=e.onClick;return $.a.createElement(Mo,{onClick:e},$.a.createElement(Uo,{className:t,name:X.b.NAME.ARROW_LEFT,size:20}))}function jr(e){var t=e.className,e=e.onClick;return $.a.createElement(Go,{onClick:e},$.a.createElement(Uo,{className:t,name:X.b.NAME.ARROW_RIGHT,size:20}))}function Ir(e){var n=e.changeType,a=e.closeGiftPoint,i=e.isShowPackGiftWarn,t=e.labelConfig,r=e.setLabelConfig,o=Object(Z.useContext)(ao).width,c=Object(Z.useState)([{label:Object(ue.f)("gift_tab"),type:So.a.ALL}]),l=(I=ne()(c,2))[0],s=I[1],u=Object(Z.useRef)(null),f=Object(Z.useRef)(null),d=Object(Z.useRef)(null),p=Object(Z.useState)(0),m=(e=ne()(p,2))[0],g=e[1],c=Object(Z.useState)(So.a.ALL),b=(I=ne()(c,2))[0],h=I[1],p=Object(Z.useState)(0),_=(e=ne()(p,2))[0],v=e[1],c=Object(Z.useState)(0),x=(I=ne()(c,2))[0],E=I[1],p=Object(Z.useState)([]),y=(e=ne()(p,2))[0],O=e[1],w=Object(Z.useMemo)(function(){return x-_},[x,_]),k=Object(Z.useMemo)(function(){return y[m]<w||y[m]<w&&y[m+1]>w},[w,y,m]),j=Object(Z.useCallback)(function(e){e<m?g(Math.max(e,0)):(e=y.length,e=Math.min(m+1,e-2),k&&g(e))},[k,y,m]),c=Object(Z.useCallback)(function(){j(m-1)},[j,m]),I=Object(Z.useCallback)(function(){j(m+1)},[j,m]),C=Object(Z.useCallback)(function(e){h(e);var t=So.a.BOX;(e===t||b===t&&e!==t)&&a(),n(e)},[b,n,a]),p=Object(Z.useMemo)(function(){var e=y[m];return-Math.min(e,w)},[w,m,y]),e=Object(Z.useMemo)(function(){return b===Ko.type},[b]),N=Object(Z.useCallback)(function(e,t){return e===So.a.BOX?$.a.createElement($.a.Fragment,null,$.a.createElement(wr,null),t,i&&$.a.createElement(Ho,null,$.a.createElement("i",null),$.a.createElement("div",{className:"new-pack-gift-warn"},$.a.createElement("div",{className:"new-pack-gift-warn-icon"}),$.a.createElement("em",null),Object(ue.f)("special_gift_update_pack_gift_text")))):t},[i]);return Lo({labelConfig:t,setLabelConfig:r,labelList:l,setLabelList:s}),s=Object(Z.useMemo)(function(){return o<620?null:$.a.createElement(qo,null,N(Ko.type,Ko.label))},[N,o]),Object(Z.useLayoutEffect)(function(){var e,t,n,a;d&&(t=d.current,e=f.current,t=(null==t?void 0:t.querySelectorAll(".sli-slide"))||[],a=[n=0],t.forEach(function(e){n+=e.clientWidth,a.push(n)}),O(a),E(n),v(Math.min(n,(null==e?void 0:e.clientWidth)||0)))},[l,o]),Object(Z.useLayoutEffect)(function(){var e,t,n,a;y.length&&(e=l.findIndex(function(e){return e.type===b}),t=y[m],n=y[e],a=y[e+1],(t+_<a||n<t)&&j(e))},[b,l,y,_]),$.a.createElement($.a.Fragment,null,$.a.createElement(Do,{ref:u},$.a.createElement(kr,{onClick:c,className:yo()({disabled:0===m})}),$.a.createElement(Po,{ref:f,$width:_},$.a.createElement(Ro,{ref:d,$transX:p},l.map(function(e){var t=e.type,e=e.label;return $.a.createElement(zo,{className:"sli-slide",onClick:function(){return C(t)},key:t},$.a.createElement(Bo,{active:b===t},N(t,e)))}))),$.a.createElement(jr,{onClick:I,className:yo()({disabled:!k})})),$.a.createElement(zo,{onClick:function(){return C(Ko.type)}},$.a.createElement(Wo,{active:e},$.a.createElement(X.b,{name:X.b.NAME.BAG,size:19}),s)))}var Cr,Nr=function(){function t(e){ir()(this,t),this.startPlayTime=0,this.hasReported=!1,this.lastWatchTime=0,this.controller=e,this.reportWatchTime=this.reportWatchTime.bind(this),this.onPlayStatusChange=this.onPlayStatusChange.bind(this),this.startReport=this.startReport.bind(this),this.stopReport=this.stopReport.bind(this)}return rr()(t,[{key:"run",value:function(){this.stop(),this.controller.registerEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.STATUS_CHANGE,this.onPlayStatusChange),this.controller.playStatus===Aa.VideoPlayer.PlayerController.PlayerStatus.PLAYING&&this.startReport()}},{key:"stop",value:function(){this.lastWatchTime=Math.round((cr()-this.startPlayTime)/1e3),clearTimeout(this.reportWatchTimeTimer),this.reportWatchTimeTimer=null,this.controller.unregisterEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.STATUS_CHANGE,this.onPlayStatusChange)}},{key:"onPlayStatusChange",value:function(e){switch(e.status){case Aa.VideoPlayer.PlayerController.PlayerStatus.PLAYING:this.startReport();break;case Aa.VideoPlayer.PlayerController.PlayerStatus.INITIAL:case Aa.VideoPlayer.PlayerController.PlayerStatus.PAUSED:this.stopReport()}}},{key:"startReport",value:function(){var e;this.hasReported||null!==(e=null===(e=this.controller)||void 0===e?void 0:e.config)&&void 0!==e&&e.realtimePlaybackMode||(this.startPlayTime=cr(),clearTimeout(this.reportWatchTimeTimer),e=Object(or.c)("configure",null),this.reportWatchTimeTimer=setTimeout(this.reportWatchTime,1e3*((null===(e=null==e?void 0:e.body)||void 0===e?void 0:e.valid_views_watch_duration)||180-this.lastWatchTime)))}},{key:"stopReport",value:function(){this.startPlayTime=0,clearTimeout(this.reportWatchTimeTimer),this.reportWatchTimeTimer=null}},{key:"reportWatchTime",value:function(){var e,t,n;null!==(t=null===(t=this.controller)||void 0===t?void 0:t.config)&&void 0!==t&&t.realtimePlaybackMode||Object(Ge.b)()||this.hasReported||((n={lt:"rec_stat",af:"live_room",bf:"live_room",cf:"effect_watch_time",watch_time:(null===(t=null==(t=Object(or.c)("configure",null))?void 0:t.body)||void 0===t?void 0:t.valid_views_watch_duration)||180,host_id:null===(t=null===(t=null===(t=this.controller)||void 0===t?void 0:t.extra)||void 0===t?void 0:t.anchorInfo)||void 0===t?void 0:t.anchorId,plat:"pc",game_key:1!==(null===(t=null===(t=null===(t=this.controller)||void 0===t?void 0:t.extra)||void 0===t?void 0:t.anchorInfo)||void 0===t?void 0:t.liveType)?null===(e=null===(e=null===(e=this.controller)||void 0===e?void 0:e.extra)||void 0===e?void 0:e.anchorInfo)||void 0===e?void 0:e.gameKey:"",category_key:1===(null===(e=null===(e=null===(e=this.controller)||void 0===e?void 0:e.extra)||void 0===e?void 0:e.anchorInfo)||void 0===e?void 0:e.liveType)?null===(n=null===(n=null===(n=this.controller)||void 0===n?void 0:n.extra)||void 0===n?void 0:n.anchorInfo)||void 0===n?void 0:n.categoryKey:"",live_type:null===(n=null===(n=null===(n=this.controller)||void 0===n?void 0:n.extra)||void 0===n?void 0:n.anchorInfo)||void 0===n?void 0:n.liveType,live_subtype:null===(n=null===(n=null===(n=this.controller)||void 0===n?void 0:n.extra)||void 0===n?void 0:n.anchorInfo)||void 0===n?void 0:n.liveSubtype}).source=sessionStorage.getItem("SEARCH_DATA_REPORT_SOURCE_KEY"),"push"===n.source&&(n.sub_source=sessionStorage.getItem("SEARCH_DATA_REPORT_PUSH_ID_KEY")),ct.a.handleDataCount(n),this.hasReported=!0)}}]),t}(),Tr=n("KDF8"),Sr=n("LtXd"),Ar=Object(T.default)(X.b).withConfig({componentId:"sc-6qyuyp-0"})(["&&&{margin-right:24px;color:#fff;cursor:pointer;&:hover{color:#20bef3;}}"]),Lr=Object(i.b)(function(e){return{streamServerList:e.configure.streamServerList}})(function(e){var a=e.anchorInfo,i=e.layout,t=e.parentDom,n=e.streamServerList,r=Object(Z.useState)(),o=ne()(r,2),f=o[0],c=o[1],l=Object(Z.useState)(!0),e=ne()(l,2),s=e[0],d=e[1],u=Object(Z.useCallback)(function(e){de.h.emit(de.g.TOGGLE_LAYOUT,e?ce.h.THEATER:ce.h.NORMAL)},[]),p=Object(Z.useCallback)(function(e){d(e),de.h.emit(de.g.CHAT_PANEL_ENABLE_CHANGE,e)},[]),r=Object(Z.useMemo)(function(){var e,t,n=[{id:"clip_video",sort:0,position:Aa.VideoPlayer.ControlPosition.RIGHT,render:function(){return $.a.createElement(nr.b,{type:nr.a.live,anchorInfo:a,playerControllerRef:f})}}];return i!==ce.h.FULLSCREEN&&n.push({id:"theater_mode",sort:19,position:Aa.VideoPlayer.ControlPosition.RIGHT,render:function(){return i!==ce.h.THEATER?$.a.createElement(tr.a,{placement:tr.a.PLACEMENT.TOP,content:$.a.createElement(tr.a.Message,null,Object(ue.f)("theater_tip"))},$.a.createElement(Ar,{name:X.a.THEATRE,size:24,onClick:function(){return u(!0)}})):$.a.createElement(tr.a,{placement:tr.a.PLACEMENT.TOP,content:$.a.createElement(tr.a.Message,null,Object(ue.f)("exit_theater_tip"))},$.a.createElement(Ar,{name:X.a.EXIT_THEATRE,size:24,onClick:function(){return u(!1)}}))}}),i===ce.h.FULLSCREEN&&(e=$.a.createElement(tr.a.Message,null,Object(ue.f)("player_tool_tip_chat_on")),t=$.a.createElement(tr.a.Message,null,Object(ue.f)("player_tool_tip_chat_off")),n.push({id:"chat_panel_enable",sort:18,position:Aa.VideoPlayer.ControlPosition.RIGHT,render:function(){return s?$.a.createElement(tr.a,{placement:tr.a.PLACEMENT.TOP,content:t},$.a.createElement(Ar,{name:X.a.CHAT_OFF,size:24,onClick:function(){return p(!1)}})):$.a.createElement(tr.a,{placement:tr.a.PLACEMENT.TOP,content:e},$.a.createElement(Ar,{name:X.a.CHAT_ON,size:24,onClick:function(){return p(!0)}}))}})),n},[i,u,a,f,s,p]);Object(Z.useLayoutEffect)(function(){if(f){var e=function(e){e=e.status;de.h.emit(de.g.PLAYER_STATUS_CHANGE,e)},t=function(e){e&&d(!0),de.h.emit(de.g.TOGGLE_LAYOUT,e?ce.h.FULLSCREEN:ce.h.NORMAL)},n=function(e){de.h.emit(de.g.TOOGLE_PIP_MODE,e)},a=function(e){de.h.emit(de.g.PLAYER_FOCUS_CHANGE,e)},i=function(e){de.h.emit(de.g.TOGGLE_PLAY_MODE,e?ce.k.REALTIME_PLAYBACK:ce.k.LIVE),de.h.emit(de.g.TOOGLE_CHAT_PANEL_TYPE,e?ce.g.REALTIME_PLAYBACK_PLAYBACK:ce.g.LIVE)},r=function(e){de.h.emit(de.g.PLAYER_PLAY_TIME_UPDATE,e)},o=function(e){de.h.emit(de.g.PLAYER_SEEK,e)};e({status:f.core.playStatus}),f.core.registerEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.STATUS_CHANGE,e),f.registerEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.FULLSCREEN_CHANGED,t),f.registerEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.PIP_MODE_CHANGED,n),f.registerEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.FOCUS_CHANGED,a),f.registerEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.CURRENT_PLAY_TIME_CHANGED,r),f.registerEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.REALTIME_PLAYBACK_MODE_CHANGED,i),f.registerEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.ON_SEEK,o);var c=new Aa.VideoPlayer.Plugins.PlayStatisticReporter(f.core,{reportInterval:6e4,reportFn:function(e){Ua.a.glean(e)},extraInfo:function(){return{lt:"video",ct:"play",dt:"minute_play",src:f.core.config.src,defination:f.definition.cmode,group_id:f.currentStreamServer.groupId,low_latency:f.lowLatencyMode?1:0}}});c.run();var l=new ar.a(f);l.run();var s=new Nr(f.core);s.run();var u=function(){Sr.a.hasReported||(Sr.a.setController(f),Sr.a.report())};return setTimeout(function(){f.core.playStatus===Aa.VideoPlayer.PlayerController.PlayerStatus.PLAYING?u():f.core.registerEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.SUCCESS,u)},500),function(){f.core.unregisterEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.STATUS_CHANGE,e),f.unregisterEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.PIP_MODE_CHANGED,n),f.unregisterEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.FULLSCREEN_CHANGED,t),f.unregisterEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.FOCUS_CHANGED,a),f.unregisterEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.REALTIME_PLAYBACK_MODE_CHANGED,i),f.unregisterEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.CURRENT_PLAY_TIME_CHANGED,r),f.unregisterEvent(Aa.VideoPlayer.LivePlayerController.PlayerEvent.ON_SEEK,o),c.stop(),l.destroy(),s.stop(),f.core.unregisterEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.SUCCESS,u)}}},[f]),Object(Z.useLayoutEffect)(function(){if(f){var e=new Aa.VideoPlayer.Plugins.PlayErrorReporter(f.core,{reportFn:function(e){Ua.a.glean(e)},extraInfo:function(){return{lt:"video",ct:"play",dt:"pc_error",aid:null==a?void 0:a.anchorId,src:f.core.config.src,defination:f.definition.cmode,group_id:f.currentStreamServer.groupId,low_latency:f.lowLatencyMode?1:0}}});return e.run(),function(){e.stop()}}},[a,f]),Object(Z.useEffect)(function(){if(f&&a.anchorId){var e=new Tr.b(f.core,a,Tr.a.LIVE);return e.run(),f.core.extra.anchorInfo=a,function(){e.stop()}}},[a,f]),Object(Z.useEffect)(function(){function e(){d(!1)}return de.h.on(de.g.CHAT_PANEL_CLOSE,e),function(){de.h.off(de.g.CHAT_PANEL_CLOSE,e)}},[]),Object(Z.useEffect)(function(){var e,t;f&&a.anchorId&&!a.living&&(null==f?void 0:f.core.playStatus)===Aa.VideoPlayer.PlayerController.PlayerStatus.PLAYING&&null!==(e=null==f?void 0:f.core)&&void 0!==e&&e.hls&&null!==(t=null==f?void 0:f.core)&&void 0!==t&&t.hls.notifyMildomLiveEnd()},[f,a]);var o=Object(Z.useCallback)(function(e){e&&c(e)},[]);Object(Z.useEffect)(function(){return function(){f&&(f.fullscreen=!1,f.pipMode=!1)}},[f]);l=window.document.documentElement,e=Object(Z.useMemo)(function(){return 0!==a.deviceRotateDegree||a.deviceModel.includes("iPad")?["rotate","pip"]:["pip"]},[a]);return Object(Z.useEffect)(function(){if(f)return function(){f.reset()}},[f]),$.a.createElement($i.a,{ref:o,roomId:((null===(o=a.transferLiveInfo)||void 0===o?void 0:o.transferLiveStatus)===er.a.LIVING?a.transferLiveInfo.anchorInfo:a).anchorId,liveStartTime:a.liveStartTime,liveDefinitionList:((null===(o=a.transferLiveInfo)||void 0===o?void 0:o.transferLiveStatus)===er.a.LIVING?a.transferLiveInfo:a).definitionList,realtimePlaybackDefinitionList:null===(o=a.realtimePlaybackInfo)||void 0===o?void 0:o.videoLink,streamServerList:n,fullscreenDom:l,focusDom:t,controlExternal:r,enableFeatures:e,initialRotateDegree:a.deviceRotateDegree,needDestory:!1})}),Dr=n("lcQI"),Pr=n("v1xW"),Rr=n("vL7G"),zr=T.default.div.withConfig({componentId:"sc-1mw4pkc-0"})(["display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.5);border-radius:4px;padding:15px 20px;margin-bottom:20px;> *{&:not(:last-child){margin-right:20px;}}.desc{color:#fff;font-size:16px;min-width:0;text-align:center;}.countdown{color:#20bef3;font-size:24px;flex-shrink:0;}.cancel-btn{background:rgba(65,188,213,0.1);border:1px solid rgba(65,188,213,0.5);border-radius:4px;font-size:12px;padding:5px 6px;color:rgba(65,188,213,0.8);flex-shrink:0;}"]),Mr=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Gr=T.default.div.withConfig({componentId:"pl1693-0"})(["position:relative;height:100%;background:rgba(0,0,0,0.5);.liveEndTop{width:100%;padding-bottom:10px;> .title{font-size:16px;color:#fafafa;text-align:center;line-height:26px;margin-bottom:5px;}> .last-live-date{font-size:12px;color:#9f9f9f;text-align:center;}}.list-container{margin-left:auto;margin-right:auto;max-width:680px;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;&._hasTop{margin-top:0;}&._hasMini{height:calc(50% - 20px);}}.list{width:100%;transform-origin:top;display:flex;flex-wrap:wrap;justify-content:center;}"]),Fr=n("EQxi"),Ur=T.default.div.withConfig({componentId:"l5i79f-0"})(["display:flex;position:absolute;align-items:center;justify-content:center;top:0;left:0;bottom:0;right:0;height:100%;> img{max-width:100%;max-height:100%;min-width:20%;}"]),Hr=n("7lbZ"),Br=n("+NxG"),Wr=n("ATyU"),_t=n("ZO3Q"),qr=Object(T.default)(_t.animated.div).withConfig({componentId:"sc-1aacsjx-0"})(["height:34px;background:linear-gradient(45deg,#ff6344 0%,#f5aa49 100%);border-radius:17px;color:#ffffff;font-size:14px;display:inline-flex;align-items:center;justify-content:center;padding-right:5px;cursor:pointer;& > .avatar{width:30px;height:30px;margin-left:3px;flex-shrink:0;}& > .desc{margin-left:8px;color:#ffffff;font-size:14px;white-space:nowrap;&._mini{text-overflow:ellipsis;max-width:343px;overflow:hidden;}}& > .icon{width:30px;height:30px;flex-shrink:0;img{width:100%;height:100%;}margin-left:8px;margin-right:8px;}& > .btn{background:#ffffff;opacity:1;border-radius:17px;font-size:12px;color:#f9b448;height:22px;line-height:22px;padding-left:10px;padding-right:10px;flex-shrink:0;text-align:center;}"]),Kr=Object(i.b)(function(e){return{magicBoxConfig:e.configure.magicBox||{}}})(function(e){var t=e.avatarUrl,n=void 0===t?"":t,a=e.desc,t=void 0===a?"":a,i=e.hostId,a=e.magicBoxConfig,e=e.wayWidth,a=a.screen_icon,a=void 0===a?"":a;return $.a.createElement(qr,{onClick:function(){window.location.href="/".concat(i)}},$.a.createElement($e.b,{className:"avatar",size:30,src:n}),$.a.createElement("div",{className:"desc ".concat(e<600?"_mini":"")},t),$.a.createElement("div",{className:"icon"},$.a.createElement("img",{src:a,alt:""})),$.a.createElement("div",{className:"btn"},Object(ue.f)("magic_box_show_join")))}),r=n.p+"assets/file/ab60b35f0b57e65248db4a905f08f72d.png",mn=n.p+"assets/file/df0d4aae1901ed9985eb9186b86fe1f4.png",bt=n.p+"assets/file/8dafb132edace8d09ec06502338f90fe.png",Yr=Object(T.default)(_t.animated.div).withConfig({componentId:"sc-1xljcrx-0"})(["margin-top:6px;height:34px;background:linear-gradient(90deg,#1890ff 0%,#00c6ef 100%);border-radius:17px;color:#ffffff;font-size:14px;display:inline-flex;align-items:center;justify-content:center;padding-right:5px;cursor:pointer;& > .avatar{width:30px;height:30px;margin-left:6px;flex-shrink:0;position:relative;&:after{content:'';width:38px;height:40px;position:absolute;right:-1px;bottom:-1px;}&.lv1{&:after{background:url(",") no-repeat center;}}&.lv2{&:after{background:url(",") no-repeat center;}}&.lv3{&:after{background:url(",") no-repeat center;}}}& > .desc{margin-left:8px;color:#ffffff;font-size:14px;white-space:nowrap;.entry-ship{display:inline-block;vertical-align:middle;}span{font-weight:600;color:#ffffa3;display:inline-block;margin:0 8px;}&._mini{text-overflow:ellipsis;max-width:343px;overflow:hidden;}}& > .icon{width:30px;height:30px;flex-shrink:0;img{width:100%;height:100%;}margin-left:8px;margin-right:8px;}& > .btn{background:#ffffff;opacity:1;border-radius:17px;font-size:12px;color:#05baf3;height:22px;line-height:22px;padding-left:10px;padding-right:10px;flex-shrink:0;text-align:center;}"],r,mn,bt),Vr=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Xr=T.default.div.withConfig({componentId:"sc-665413-0"})(["height:40px;position:absolute;top:138px;width:100%;left:0;overflow:hidden;"]),Qr=[],Jr=!1,Zr=$.a.memo(function(){var e=Object(Z.useState)(),e=ne()(e,2),t=e[0],o=e[1];Object(Z.useLayoutEffect)(function(){function e(e){var t=e.avatarUrl,n=e.desc,a=e.hostId,i=void 0===(r=e.isNeedLink)||r,r=void 0===(r=e.option)?null:r,e=e.type,e={avatarUrl:t,desc:n,hostId:a,isNeedLink:i,option:r,type:void 0===e?Hr.a.normal:e};Jr?Qr.push(e):(o(e),Jr=!0)}return Jr=!1,de.h.on(de.f.BROADCAST_CHAT,e),de.h.on(de.g.PIRATE_SHIP_FLOAT_MSG,e),function(){de.h.off(de.f.BROADCAST_CHAT,e),de.h.off(de.g.PIRATE_SHIP_FLOAT_MSG,e)}},[]);var n=Object(Z.useCallback)(function(){o(void 0),requestAnimationFrame(function(){var e;0<Qr.length?(e=Qr.shift(),o(e)):Jr=!1})},[]);return $.a.createElement(Xr,null,$.a.createElement(Hn.a,null,function(e){e=e.width;return t?$.a.createElement(mr,{wayWidth:e,item:t,onFinish:n}):$.a.createElement($.a.Fragment,null)}))}),$r="living",eo="live_end",to="live_preview",rn=$.a.createContext({width:0}),no=rn.Provider,ao=(rn.Consumer,rn),io=n("a5L1"),ro=n("SqNK"),oo=n.p+"assets/file/96fd33e657f081818aa5086017a308ee.png",co=T.default.div.withConfig({componentId:"sc-99hdtv-0"})(["width:399px;position:relative;.dialog-cont{",";min-height:500px;max-height:560px;border-radius:20px;overflow-x:hidden;img{width:100%;}","}.iframe{height:560px;width:399px;border:none;}.close-icon{cursor:pointer;width:34px;height:34px;position:absolute;left:50%;margin-left:-17px;bottom:-52px;color:#fff;img{width:100%;height:100%;}}"],Object(vt.b)({color:"rgba(153, 55, 55, 0.5)"}),function(e){e=e.type;return Object(T.css)(["overflow-y:",";"],2===e?"scroll":"hidden")}),lo=n("cjrQ"),so=n("8B0+"),uo=n("yX+1"),fo=n.p+"assets/file/640bdc40a3d0fd78e9229a7751dc995d.png",po=n.p+"assets/file/911c6992074d06777350f39254ca893e.png",mo=T.default.div.withConfig({componentId:"gbu6ll-0"})(["display:flex;height:29px;align-items:center;cursor:pointer;padding-left:12px;margin-left:14px;"]),go=T.default.div.withConfig({componentId:"gbu6ll-1"})(["height:22px;background:linear-gradient(86deg,#fe8336 0%,#f94935 100%);opacity:1;border-radius:28px;display:flex;justify-content:flex-end;position:relative;> .coupon{position:absolute;top:-5px;left:-12px;> img{width:29px;height:29px;}}> .coupon-text{font-size:12px;line-height:22px;color:#ffffff;padding-right:9px;padding-left:22px;}"]),bo=Object(T.css)(["max-width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]),ho=T.default.div.withConfig({componentId:"lfzkx1-0"})(["display:flex;height:29px;align-items:center;cursor:pointer;margin-left:14px;"]),_o=T.default.div.withConfig({componentId:"lfzkx1-1"})(["height:22px;background:linear-gradient(86deg,#fe8336 0%,#f94935 100%);opacity:1;border-radius:28px;display:flex;justify-content:flex-end;position:relative;> .coupon{position:absolute;top:-5px;left:-12px;> img{width:29px;height:29px;}}> .coupon-text{font-size:12px;line-height:22px;color:#ffffff;padding-right:9px;padding-left:22px;","}"],function(e){return e.limitWidth&&bo}),vo=n.p+"assets/file/9829bda3b131f7c05545a81bcba54ace.png",xo=Object(T.css)(["max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]),Eo=T.default.div.withConfig({componentId:"sc-1oa50pm-0"})(["height:28px;display:flex;align-items:center;cursor:pointer;> .coupon{position:absolute;width:28px;height:28px;}> .title{"," height:22px;background:linear-gradient(95deg,#ff9133 0%,#fa613c 100%);opacity:1;border-radius:20px;font-size:12px;font-weight:400;line-height:22px;color:#ffffff;padding:0 10px 0 30px;}"],function(e){return e.limitWidth&&xo}),_t=n("TSYQ"),yo=n.n(_t),Oo=T.default.div.withConfig({componentId:"sc-7dg4el-0"})(["display:flex;align-items:center;justify-content:center;height:100%;> .icon-default-image{max-width:100%;max-height:100%;","}> .default-image{max-width:50px;max-height:50px;","}> .gift-image{object-fit:contain;width:100%;height:100%;}> .pic-img{max-width:50px;max-height:50px;}> .award-pic-img{max-width:78px;max-height:78px;}"],function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"rgba(255,255,255,0.5)":"#cccccc")},function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"rgba(255,255,255,0.5)":"#cccccc")}),wo=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},ko=T.default.div.withConfig({componentId:"sc-1rcpoit-0"})(["position:relative;width:340px;font-size:14px;border-radius:4px;padding:0 28px;display:flex;flex-direction:column;align-items:center;.title{margin:38px 0 6px;display:flex;justify-content:center;align-items:center;}.close{cursor:pointer;position:absolute;right:10px;top:10px;}.join-des{margin-top:16px;text-align:center;}.join-box{> .gift{display:flex;flex-direction:column;align-items:center;.gift-img{padding:15px 10px 4px;}}}.send-btn{margin:10px 0 18px;width:200px;height:40px;line-height:40px;text-align:center;background:linear-gradient(270deg,#30e5de 0%,#00aff7 100%);border-radius:40px;color:rgba(255,255,255,0.9);cursor:pointer;}",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";color:",";.close-icon{color:",";}.title{color:",";}"],e?"#2E3033":"#FFFFFF",e?"rgba(255,255,255,0.9)":"#333333","#cccccc",e?"rgba(255,255,255,0.5)":"#999999")}),jo=Object(i.b)(function(e){return{giftIdMapDetail:e.configure.gift.giftIdMapDetail}})(function(e){var n=e.fansGroupInteractionData,t=e.onClose,a=e.roomId,i=e.hostName,r=e.giftIdMapDetail,o=Object(Z.useCallback)(function(){return wo(void 0,void 0,void 0,Ka.a.mark(function e(){return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ya.f)(a);case 3:I.d.success(Object(ue.f)("fans_group_gift_succ")),t(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),I.d.error(e.t0.message||Object(ue.f)("fans_group_gift_succ")),K.a.error(e.t0,{description:"getFansGroupGift failed"});case 11:case"end":return e.stop()}},e,null,[[0,7]])}))},[t,a]),e=Object(Z.useCallback)(function(){var e=n.reward_id,t=n.reward_icon;return e?t||(null===(e=r[e])||void 0===e?void 0:e.picture):""},[n,r]),i=i&&8<i.length?"".concat(i.slice(0,8),"..."):i;return $.a.createElement(S.c,{open:!0,type:S.b.CENTER},$.a.createElement(ko,null,$.a.createElement("div",{className:"close",onClick:function(){t(!1)}},$.a.createElement(X.b,{className:"close-icon",name:X.a.CLOSE,size:20})),$.a.createElement("div",{className:"join-box"},$.a.createElement("div",{className:"title"},Object(ue.f)("fans_group_title1").replace("{{hostName}}",i||"")),$.a.createElement("div",{className:"join-des"},Object(ue.f)("fans_group_gift_tip")),$.a.createElement("div",{className:"gift"},$.a.createElement("div",{className:"gift-img"},$.a.createElement(Or,{classStr:"award-pic-img",picSrc:e(),iconSize:50,defaultIconSrc:"default-image"})),$.a.createElement("div",null,"x ",n.reward_num))),$.a.createElement("div",{className:"send-btn",onClick:o},Object(ue.f)("gift_get_now"))))}),Io=T.default.div.withConfig({componentId:"v4u6op-0"})(["position:absolute;right:-40px;top:-38px;.pop{height:28px;padding:0 12px;line-height:28px;background:linear-gradient(270deg,#30e5de 0%,#00aff7 100%);border-radius:14px;width:max-content;color:#ffffff;&::after{position:absolute;content:'';z-index:-1;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:16px solid transparent;display:block;right:58px;bottom:-23px;opacity:1;border-top:8px solid #27dce2;}}"]),r=n("J2m7"),Co=n.n(r),No=n("NRtB"),To=function(e){var t=e.giftIdMapDetail,i=void 0===t?{}:t,r=Object(Z.useRef)([]),e=Tn.a.getUserId();r.current=JSON.parse(localStorage.getItem(Be.ac)||"{}")[e]||[];t=Object(Z.useMemo)(function(){return 0},[]),e=Object(Z.useCallback)(function(){for(var e=[],t=Y()(r.current);e.length<12&&0<t.length;){var n=t[0],a=i[n];a&&(n=a.id,a=a.name,a=Object.assign(Object.assign({},i[n]),{id:n,name:a}),e.push(a)),t.shift()}return e},[i]);return{usedGiftHistoryArr:r.current,fetchHistoryList:e,historyListPaddingItem:t}},So=n("PHiW"),Ao=(mn={},Qe()(mn,ue.b.JAPANESE,io.a.JAPAN),Qe()(mn,ue.b.ENGLISH,io.a.ENGLISH),Qe()(mn,ue.b.KOREAN,io.a.KOREAN),mn),Lo=function(e){var t=e.labelConfig,n=e.labelList,c=e.setLabelList,l=e.setLabelConfig,a=To({}).usedGiftHistoryArr;Object(Z.useEffect)(function(){var o=Y()(n);a.length&&o.unshift({label:Object(ue.f)("used_gift_title"),type:So.a.RECENT});function e(e){var n=Object(zn.a)(new Date),t=e.filter(function(e){var t=e.start_time_unix,e=e.end_time_unix;return n.isAfter(t)&&n.isBefore(e)}),a=o.findIndex(function(e){return e.type===So.a.ALL}),i=o.slice(0,a+1),r=Ao[ue.d];t.forEach(function(e){var t=e._id,n=e.lang_list,e=(Co()(n,function(e){return e.location===io.a.JAPAN})||{}).title,n=(Co()(n,function(e){return e.location===r})||{}).title;i.push({label:n||e,type:t})}),c(i),l(e)}return t.length?e(t):c(o),No.b.on(No.a.CONFIGURE_GIFT_LABEL_UPDATE,e),function(){No.b.off(No.a.CONFIGURE_GIFT_LABEL_UPDATE,e)}},[c])},bt=n.p+"assets/file/0cd583f57f7dd7814329b3a09811f4e6.png",Do=T.default.div.withConfig({componentId:"qi8y4k-0"})(["position:relative;flex:0 1 auto;max-width:32%;margin:0 30px;min-width:0;"]),Po=T.default.div.withConfig({componentId:"qi8y4k-1"})(["width:100%;overflow:hidden;"]),Ro=T.default.div.withConfig({componentId:"qi8y4k-2"})(["white-space:nowrap;transform:translateX(",");transition:transform ease 500ms;"],function(e){e=e.$transX;return e?"".concat(e,"px"):0}),zo=T.default.div.withConfig({componentId:"qi8y4k-3"})(["display:inline-block;cursor:pointer;"]),rn=Object(T.css)(["position:absolute;top:50%;transform:translateY(-50%);font-size:0;"]),Mo=T.default.div.withConfig({componentId:"qi8y4k-4"})(["",";left:","px;"],rn,-30),Go=T.default.div.withConfig({componentId:"qi8y4k-5"})(["",";right:","px;"],rn,-30),Fo="#20bef3",Uo=Object(T.default)(X.b).withConfig({componentId:"qi8y4k-6"})(["height:26px;background-color:#f5f5f5;cursor:pointer;border-radius:4px;"," &:not(.weight){color:#cccccc;}&:not(.disabled):hover{color:",";background-color:rgba(32,190,243,0.1);}&.disabled{cursor:not-allowed;}"],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";"],e?"#3C3F43":"#f5f5f5")},Fo),Ho=T.default.div.withConfig({componentId:"qi8y4k-7"})(["position:absolute;width:100%;height:100%;top:0;left:0;i{width:5px;height:5px;background:#ff5000;border-radius:50%;opacity:1;display:block;right:0;top:0;position:absolute;}.new-pack-gift-warn{position:absolute;bottom:-52px;width:max-content;right:-10px;font-size:14px;padding:0 16px 0 19px;line-height:40px;color:#ffffff;height:40px;background:",";box-shadow:0px 3px 10px rgba(0,0,0,0.16);border-radius:80px;font-weight:normal;.new-pack-gift-warn-icon{width:22px;height:27px;background:url(",") no-repeat center;position:absolute;left:-17px;top:-7px;}em{width:0;height:0;border:9px solid ",";border-color:transparent transparent "," transparent;display:block;position:absolute;right:22px;top:-15px;}}"],Fo,bt,Fo,Fo),Bo=T.default.div.withConfig({componentId:"qi8y4k-8"})(["max-width:78px;font-size:14px;padding:4px 1px 2px 0;margin:0 10px;border-bottom:solid 2px transparent;"," ",";",";"],function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"rgba(255, 255, 255, 0.7)":"#666666")},function(e){return e.active?Object(T.css)(["color:",";font-weight:600;border-bottom:solid 2px;"],Fo):""},en.a),Wo=Object(T.default)(Bo).withConfig({componentId:"qi8y4k-9"})(["position:relative;display:flex;align-items:center;margin:0 6px 0 20px;overflow:visible;svg:not(.weight){color:",";}z-index:10;"],function(e){return e.active?Fo:"#999999"}),qo=(Object(T.default)(Ga.a).withConfig({componentId:"qi8y4k-10"})(["margin-right:4px;"]),T.default.span.withConfig({componentId:"qi8y4k-11"})(["padding-top:2px;",";"],en.a)),Ko={label:Object(ue.f)("bag_tab"),type:So.a.BOX},Yo=T.default.div.withConfig({componentId:"pquwfo-0"})(["margin-bottom:10px;display:flex;align-items:center;justify-content:flex-end;.pack{position:relative;}"]),Vo=T.default.div.withConfig({componentId:"pquwfo-1"})(["display:flex;justify-content:flex-end;align-items:center;"]),Xo=T.default.div.withConfig({componentId:"pquwfo-2"})(["display:flex;align-items:center;justify-content:center;margin:0 14px;"," font-size:16px;"],function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"#FFCB1C":"#3a3a3a")}),Qo=T.default.div.withConfig({componentId:"pquwfo-3"})(["background-color:rgba(242,165,37,0.1);width:72px;height:23px;font-size:12px;color:#f2a525;border-radius:12px;line-height:23px;text-align:center;cursor:pointer;"]),Jo=T.default.img.withConfig({componentId:"pquwfo-4"})(["margin-right:6px;width:25px;height:25px;"]),Zo=Object(i.b)(function(e){return{account:e.userFinance.account}})(function(e){var t,a=e.account,n=e.containerWidth,i=e.changeType,r=e.labelConfig,o=e.setLabelConfig,c=Object(Z.useState)(0),l=ne()(c,2),s=l[0],u=l[1],f=Object(Z.useState)(!1),e=ne()(f,2),d=e[0],p=e[1],c=Object(Z.useState)(),l=ne()(c,2),m=l[0],g=l[1],f=Object(Z.useContext)(fe.a),b=f.activityConfig,e=f.anchorInfo,h=V.a.getState().user,c=Object(uo.a)(),l=c.couponList,_=c.fetchCoupon,f=Object(Z.useCallback)(function(){var e;d&&h&&(p(!1),delete(e=JSON.parse(localStorage.getItem(Be.X)||"{}"))[null==h?void 0:h.user_id],localStorage.setItem(Be.X,JSON.stringify(e)))},[d,h]),c=Object(Z.useMemo)(function(){var e;return!(m||null!==(e=null==b?void 0:b.firstTopUp)&&void 0!==e&&e.state)&&(_(),!0)},[m,b,_]);return Object(Z.useEffect)(function(){function e(e){h&&h.user_id===e&&V.a.dispatch(Object(ta.b)())}h&&null!=h&&h.user_id&&1===JSON.parse(localStorage.getItem(Be.X)||"{}")[h.user_id]&&p(!0);function t(){p(!0)}return de.h.on(de.g.UPDATE_USER_ACCOUNT,e),de.h.on(de.g.UPDATE_PACK_GIFT_LIST_AFTER_CB,t),function(){de.h.off(de.g.UPDATE_USER_ACCOUNT,e),de.h.off(de.g.UPDATE_PACK_GIFT_LIST_AFTER_CB,t)}},[h]),Object(Z.useEffect)(function(){function e(){Object(so.k)().then(function(e){Object(or.f)(Be.I,e),g(e.find(function(e){return"vip_recharge"===e.sale_type}))})}var t=Object(or.c)(Be.I);t?g(t.find(function(e){return"vip_recharge"===e.sale_type})):e(),a&&0<=Number(a)&&u(Number(a));function n(e){var t;e&&null!==(t=null==e?void 0:e.data)&&void 0!==t&&t.availableBalance&&u(null===(e=null==e?void 0:e.data)||void 0===e?void 0:e.availableBalance)}return oe.a.on(Je.b,n),Yn.b.on(Yn.a.UPDATE_RECHARGE_SALE_PACKAGE,e),function(){Yn.b.off(Yn.a.UPDATE_RECHARGE_SALE_PACKAGE,e),oe.a.off(Je.b,n)}},[a]),$.a.createElement(Yo,null,$.a.createElement(Ir,{changeType:i,closeGiftPoint:f,labelConfig:r,setLabelConfig:o,isShowPackGiftWarn:d}),$.a.createElement(Re.a,null,m&&h&&$.a.createElement(xr,{title:m.title}),!m&&null!==(t=null==b?void 0:b.firstTopUp)&&void 0!==t&&t.state?$.a.createElement(Er,{limitWidth:!!(n<855)}):null,!(!c||!l.length)&&$.a.createElement(yr,{liveType:e.liveType,limitWidth:!!(n<855)})),$.a.createElement(Vo,null,$.a.createElement(Xo,null,$.a.createElement(Jo,{src:fo,alt:""}),$.a.createElement("div",{className:"account"},s)),$.a.createElement(Qo,{onClick:function(){if(!h)return V.a.dispatch(Object(Wt.c)(!0));lo.a.openTopupDialog()}},Object(ue.f)("topup"))))}),$o=n("LtoX");(_t=Cr=Cr||{})[_t.SINGLE_GIFT_WIDTH=56]="SINGLE_GIFT_WIDTH",_t[_t.BASE_WIDTH=86]="BASE_WIDTH";function ec(e){var t=e.banners,a=e.id,n=Object(Z.useState)(null),i=(e=ne()(n,2))[0],r=e[1],n=Object(Z.useState)(0),n=(e=ne()(n,2))[0],o=e[1],c=Object(Z.useRef)(null),l=Object(Z.useRef)(null),s=Object(Z.useRef)(null),u=Object(Z.useRef)(null),f=Object(Z.useRef)(2e3);Object(Z.useEffect)(function(){t&&0<t.length&&t.forEach(function(e){-1<e.bannerIds.indexOf(a)&&r(e)})},[t,a]);var d=Object(Z.useCallback)(function(){var e=null===(t=l.current)||void 0===t?void 0:t.clientWidth,t=null===(t=c.current)||void 0===t?void 0:t.clientWidth;e<t&&(t=Math.ceil(t/60),o(t),c.current&&(c.current.style.transform="translateX(-100%)"),clearTimeout(u.current),u.current=setTimeout(function(){c.current&&(c.current.style.transform="translateX(0)"),o(0),setTimeout(function(){d()},f.current)},1e3*t))},[]);return Object(Z.useLayoutEffect)(function(){i&&i.bannerInfo&&0<i.bannerInfo.length&&(clearTimeout(s.current),s.current=setTimeout(function(){d()},f.current))},[i,d]),null===i?null:$.a.createElement(rc,{bgImg:i.bannerImg,animTime:n},$.a.createElement("div",{className:"banner-info",ref:l},$.a.createElement("span",{className:"banner-text",ref:c},i.bannerInfo)),$.a.createElement("div",{className:"banner-btn",onClick:function(){var e,t,n;if(i.actionDetail){switch(null===(e=i.actionDetail)||void 0===e?void 0:e.action_type){case 1:de.h.emit(de.e.OPEN_DIALOG,{reportData:{id:a,bannerId:i.bannerId},type:1,url:null===(t=i.actionDetail)||void 0===t?void 0:t.action_link});break;case 2:de.h.emit(de.e.OPEN_DIALOG,{reportData:{id:a,bannerId:i.bannerId},type:2,enPage:null===(n=i.actionDetail)||void 0===n?void 0:n.english_page,jaPage:null===(n=i.actionDetail)||void 0===n?void 0:n.japanese_page,koPage:null===(n=i.actionDetail)||void 0===n?void 0:n.korean_page});break;case 3:de.h.emit(null===(n=i.actionDetail)||void 0===n?void 0:n.action_link,{reportData:{id:a,bannerId:i.bannerId}})}ct.a.handleDataCount({lt:"click",af:"live_room",bf:"gift_banner",cf:i.bannerId,action:"click"})}}},Object(ue.f)("cat_box_detail"),$.a.createElement(X.b,{size:16,className:"arron-right",name:X.b.NAME.ARROW_RIGHT})))}function tc(e){var t=e.isLiving,a=e.giftInfo,n=e.currentHoverOffset,i=e.pageGiftNum,r=e.giftItem,o=e.setHoverFloat,c=e.setLeaveFloat,l=e.banners,s=(p=Object(Z.useContext)(fe.a)).anchorInfo,u=p.roomId,f=Object(Z.useState)(0),e=(m=ne()(f,2))[0],d=m[1],p=Object(Z.useState)(!1),m=(f=ne()(p,2))[0],g=f[1],p=Object(Z.useState)(""),p=(f=ne()(p,2))[0],b=f[1],f=Object(Z.useState)(function(){return a.comboList&&0<a.comboList.length?a.comboList[0].quantity:1}),h=(f=ne()(f,2))[0],_=f[1];Object(Z.useEffect)(function(){var e,t,n,a=Object(zn.a)(Date.now());r&&0<Object.keys(r).length&&(e=r,t=Object(zn.a)(e.markEffectStart),n=Object(zn.a)(e.markEffectEnd),(e.markType||a.isAfter(t)&&a.isBefore(n))&&(g(!0),b(e.markIcon||"")))},[r]);var v=Object(Z.useMemo)(function(){return 3<i&&n<Math.floor(i/2)},[n,i]);Object(Z.useEffect)(function(){var e=v?n*Cr.SINGLE_GIFT_WIDTH+128:n*Cr.SINGLE_GIFT_WIDTH+Cr.SINGLE_GIFT_WIDTH/2-32;d(e)},[n,v]);var x=Object(Z.useMemo)(function(){return{source_site:"gift_panel"}},[]),E=Object(Z.useCallback)(function(){return pc(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ya.z)({liveType:"".concat(s.liveType),propId:a.id,hostId:u});case 3:n=e.sent,1===(null===(t=null==n?void 0:n.body)||void 0===t?void 0:t.business_code)&&I.d.info(Object(ue.f)("can_not_send_exp_card")),0===(null===(t=null==n?void 0:n.body)||void 0===t?void 0:t.business_code)&&de.h.emit(de.g.UPDATE_USER_PACK,{giftId:null===(t=null===(t=null==n?void 0:n.body)||void 0===t?void 0:t.prop_pack)||void 0===t?void 0:t.prop_id,count:1,expire:null===(n=null===(n=null==n?void 0:n.body)||void 0===n?void 0:n.prop_pack)||void 0===n?void 0:n.expire_time}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),I.d.error(Object(ue.f)("common_network_error")),console.log("error",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,8]])}))},[s.liveType,a.id,u]),f=Object(Z.useCallback)(function(){return a.propType&&1===a.propType?(E(),!1):void de.h.emit(de.g.COMMON_SEND_GIFT,{giftId:a.id,curSelectCount:h,wsNonoParaData:x,eventCmd:qt.a.CMD_SEND_GIFT_PANEL_POSITION_SUCCESS})},[h,a,E,x]);return $.a.createElement(lc,{offsetLeft:e,isLeftPath:v,warn:a.validTime&&a.validTime-Date.now()<=864e6,onMouseEnter:function(){o(a)},onMouseLeave:function(){c()}},$.a.createElement(ec,{banners:l,id:a.id||0}),$.a.createElement("div",{className:"gift-context"},$.a.createElement("div",{className:"left-body"},$.a.createElement("div",{className:"gift-pic"},$.a.createElement(Or,{classStr:"gift-image",iconSize:68,picSrc:a.picture,defaultIconSrc:"icon-default-image"}),m&&""!==p&&$.a.createElement("img",{className:"gift-icon",alt:"",src:p}))),$.a.createElement("div",{className:"right-body"},$.a.createElement("div",{className:"gift-text"},a.name),$.a.createElement("div",{className:"gift-price"},!a.propType&&0<a.price?$.a.createElement(sc,{src:fo,alt:""}):null,0<a.price?"".concat(a.price,"x 1"):Object(ue.f)("gift_float_free_gift"),a.propType&&" pt"),a.validTime&&$.a.createElement("div",{className:"valid-date"},!a.propType&&Object(ue.f)("valid_date")+Object(zn.a)(a.validTime).format("YYYY-MM-DD"),a.propType&&Object(ue.f)("valid_date")+Object(zn.a)(a.validTime).format("YYYY-MM-DD HH:mm")))),$.a.createElement(uc,{isCenter:a.comboList&&0<a.comboList.length},a.comboList&&0<a.comboList.length?$.a.createElement($.a.Fragment,null,$.a.createElement(fc,null,a.comboList.slice(0,4).map(function(t,e){return $.a.createElement("div",{key:e,className:"combo-list ".concat(h===t.quantity?"selected":""),onClick:function(){var e;e=t.quantity,_(e)}},t.quantity)})),$.a.createElement(dc,{onClick:f,isLiving:t},Object(ue.f)("new_send"))):$.a.createElement(dc,{onClick:f,isLiving:t},Object(ue.f)("new_send"))))}function nc(e){var f=e.boxInfo,t=e.currentHoverOffset,n=e.pageGiftNum,d=e.isLiving,a=e.setHoverFloat,i=e.setLeaveFloat,p=e.roomId,m=e.liveType,r=e.banners,o=Object(Z.useState)(0),o=(e=ne()(o,2))[0],c=e[1],l=Object(Z.useMemo)(function(){return 3<n&&t<Math.floor(n/2)},[t,n]);Object(Z.useEffect)(function(){var e=l?t*Cr.SINGLE_GIFT_WIDTH+128:t*Cr.SINGLE_GIFT_WIDTH+Cr.SINGLE_GIFT_WIDTH/2-12;c(e)},[t,l]);var g=Object(Z.useMemo)(function(){return{source_site:"gift_panel"}},[]);return $.a.createElement(gc,{offsetLeft:o,isLeftPath:l,onMouseEnter:function(){a(f)},onMouseLeave:function(){i()}},$.a.createElement(ec,{banners:r,id:(null==f?void 0:f.boxId)||0}),$.a.createElement("div",{className:"gift-context"},$.a.createElement("div",{className:"left-body"},$.a.createElement("div",{className:"gift-pic"},$.a.createElement(Or,{classStr:"gift-image",iconSize:68,picSrc:f.boxImg,defaultIconSrc:"icon-default-image"}))),$.a.createElement("div",{className:"right-body"},$.a.createElement("div",{className:"gift-text"},f.boxName),$.a.createElement("div",{className:"gift-price"},0<f.boxAmount?$.a.createElement(bc,{src:fo,alt:""}):null,0<f.boxAmount?"".concat(f.boxAmount):Object(ue.f)("gift_float_free_gift")))),$.a.createElement(hc,null,$.a.createElement(_c,{onClick:function(){return vc(void 0,void 0,void 0,Ka.a.mark(function e(){var a,i,r,o,c,l,s,u;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ct.a.handleDataCount({lt:"box",af:"core",bf:"client",cf:"click",box_id:null==f?void 0:f.boxId}),d){e.next=3;break}return e.abrupt("return");case 3:if(r=V.a.getState(),i=r.user,r=r.userFinance,(null==i?void 0:i.user_id)===p)return I.d.error(Object(ue.f)("send_self_err")),e.abrupt("return");e.next=7;break;case 7:if((null==r?void 0:r.account)<(null==f?void 0:f.boxAmount))return de.h.emit(de.g.HANDLE_POKE_TOPUP),e.abrupt("return");e.next=10;break;case 10:return e.prev=10,o={liveType:m,giftBoxId:f.boxId,hostId:p},e.next=14,Object(Ya.x)(o);case 14:if(c=e.sent,console.log("box open res::",c),0!==(null==c?void 0:c.code)){e.next=36;break}l="",s={},u={},e.t0=null===(o=null==c?void 0:c.body)||void 0===o?void 0:o.type,e.next=1===e.t0?23:2===e.t0?27:35;break;case 23:return l=null===(a=null===(a=null==c?void 0:c.body)||void 0===a?void 0:a.gift_items[0])||void 0===a?void 0:a.gift_id,s={gift_box:{type:1,id:null===(a=null==c?void 0:c.body)||void 0===a?void 0:a.gift_box_id,name:null===(a=null==c?void 0:c.body)||void 0===a?void 0:a.gift_box_name}},n=void 0,n=(t={giftId:l,giftBoxInfo:s}).giftId,t=t.giftBoxInfo,de.h.emit(de.g.COMMON_SEND_GIFT,{giftId:n,giftExtInfo:{balance:1,boxInfo:t},curSelectCount:1,wsNonoParaData:g}),e.abrupt("break",36);case 27:return u.category=3,u.effect_res_url=f.svgUrl,u.giftImg=null===(a=null==c?void 0:c.body)||void 0===a?void 0:a.prop_items[0].prop_img,u.effect_dynamic_items=["gift_img"],de.h.emit(de.c.GIFT_ADD_LUXURY_GIFT,u),de.h.emit(de.g.UPDATE_USER_ACCOUNT,null==i?void 0:i.user_id),I.d.info(Object(ue.f)("get_exp_card_tips")),e.abrupt("break",36);case 35:return e.abrupt("break",36);case 36:e.next=51;break;case 38:e.prev=38,e.t1=e.catch(10),e.t2=null===e.t1||void 0===e.t1?void 0:e.t1.code,e.next=1===e.t2?43:2===e.t2?45:3===e.t2?47:49;break;case 43:return I.d.error(Object(ue.f)("gift_box_no_exist")),e.abrupt("break",51);case 45:return I.d.error(Object(ue.f)("pay_message_insufficient_balance")),e.abrupt("break",51);case 47:case 49:return I.d.error(Object(ue.f)("common_network_error")),e.abrupt("break",51);case 51:case"end":return e.stop()}var t,n},e,null,[[10,38]])}))},isLiving:d},Object(ue.f)("send_gift"))))}function ac(){var e=Object(Z.useContext)(ao).width,t=Object(Z.useState)(!1),n=(o=ne()(t,2))[0],a=o[1],i=Object(Z.useState)({}),t=(c=ne()(i,2))[0],r=c[1],o=Object(Z.useState)(So.a.ALL),c=(i=ne()(o,2))[0],l=i[1],o=Object(Z.useState)(Object(io.b)()),o=(i=ne()(o,2))[0],i=i[1];return Object(Z.useEffect)(function(){function e(e){e&&(a(!0),r(e))}return de.h.on(de.e.OPEN_DIALOG,e),function(){de.h.off(de.e.OPEN_DIALOG,e)}},[]),$.a.createElement(Tc,null,$.a.createElement(Re.a,null,$.a.createElement(Zo,{changeType:function(e){l(e)},labelConfig:o,containerWidth:e,setLabelConfig:i})),$.a.createElement(Re.a,null,$.a.createElement(Nc,{giftType:c,containerWidth:e,labelConfig:o})),$.a.createElement(vr,{visible:n,data:t,onClose:function(){a(!1)}}))}var ic=n.p+"assets/file/9fd59dea523fc5f6fb5567def9857bab.png",rc=T.default.div.withConfig({componentId:"sc-1c8vbfd-0"})(["height:38px;font-size:12px;display:flex;align-items:center;color:#fff;justify-content:space-between;border-top-left-radius:4px;border-top-right-radius:4px;.banner-info{width:150px;overflow:hidden;margin-left:10px;white-space:nowrap;position:relative;height:15px;line-height:15px;}.banner-text{display:inline-block;position:absolute;top:0;left:0;}.arron-right{color:#fff;}.banner-btn{margin-right:10px;line-height:20px;height:20px;background-color:rgba(0,0,0,0.1);border-radius:10px;padding-left:8px;padding-right:2px;text-align:center;cursor:pointer;}",""],function(e){var t=e.bgImg,e=e.animTime;return Object(T.css)(["background-image:",";background-size:cover;.banner-text{transition:",";}"],t?"url(".concat(t,")"):"",0<e?"".concat(e,"s linear"):"0s linear")}),oc=n("Xamy"),cc=Object(T.keyframes)(["from{opacity:0;transform:translateX(-50%) translateX(-38px) scale(0);}to{opacity:1;transform:translateX(-50%) translateX(-38px) scale(1);}"]),lc=T.default.div.withConfig({componentId:"sc-1vmsb0c-0"})(["position:absolute;z-index:",";bottom:60px;width:256px;min-height:130px;border-radius:4px;display:flex;flex-direction:column;justify-content:space-between;transform:translateX(-50%) translateX(-40px) scale(0);transform-origin:168px 112px;"," box-shadow:0px 4px 19px 0px rgba(0,0,0,0.2);&::before{content:'';position:absolute;top:100%;left:0;height:10px;width:100%;display:block;}&::after{content:'';width:0;height:0;position:absolute;display:block;bottom:-7px;border-top:7px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent;","}> .gift-context{width:100%;display:flex;align-items:center;padding:10px;> .left-body{> .gift-pic{font-size:0;width:68px;height:68px;line-height:68px;text-align:center;position:relative;> .gift-icon{position:absolute;top:-3px;left:-3px;width:24px;object-fit:cover;}}}> .right-body{margin-left:20px;display:flex;flex-direction:column;overflow:hidden;> .gift-text{font-size:18px;line-height:22px;"," overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}> .gift-price{margin-top:5px;display:flex;align-items:center;font-size:14px;","}> .valid-date{"," font-size:12px;margin-top:5px;}}}"],oc.a.POPVER,function(e){var t=e.offsetLeft,e=e.theme.darkTheme;return Object(T.css)(["background-color:",";left:",";animation:"," 0.25s forwards;"],e?"#1B1F20":"#ffffff","".concat(t,"px"),t?cc:"none")},function(e){var t=e.isLeftPath,e=e.theme.darkTheme;return Object(T.css)(["border-top-color:",";left:",";transform:",";"],e?"#2E3637":"#ffffff",t?"4px":"60%",t?"translateX(60px)":"translateX(45px)")},function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"#ffffff":"#232323")},function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"rgba(255,255,255,0.5)":"#232323")},function(e){var t=e.warn,e=e.theme.darkTheme;return Object(T.css)(["color:",";"],t?"#FF5000":e?"rgba(255,255,255,0.65)":"#8d8d8d")}),sc=T.default.img.withConfig({componentId:"sc-1vmsb0c-1"})(["margin-right:5px;display:inline-block;width:16px;"]),uc=T.default.div.withConfig({componentId:"sc-1vmsb0c-2"})(["width:100%;height:47px;display:flex;align-items:center;padding:0 6px 0 12px;",""],function(e){var t=e.isCenter,e=e.theme.darkTheme;return Object(T.css)(["background-color:",";border-top:1px solid ",";justify-content:",";"],e?"#2E3637":"#ffffff",e?"#2E3637":"rgba(239, 239, 239, 0.5)",t?"space-between":"center")}),fc=T.default.div.withConfig({componentId:"sc-1vmsb0c-3"})(["display:flex;justify-content:flex-start;align-items:center;width:145px;> .combo-list{flex-shrink:0;margin-left:4px;width:42px;height:26px;text-align:center;line-height:26px;border-radius:4px;border:1px solid #efefef;font-size:14px;cursor:pointer;user-select:none;","}> .selected{border-color:#20bef3;color:#20bef3;","}"],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";border:1px solid ",";color:",";"],e?"#2e3637":"#ffffff",e?"#3f494a":"#efefef",e?"#a9a9a9":"#232323")},function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";"],e?"#1a2c2e":" rgba(32, 190, 243, 0.1) ")}),dc=T.default.div.withConfig({componentId:"sc-1vmsb0c-4"})(["width:48px;height:24px;text-align:center;line-height:24px;"," border-radius:4px;color:#fff;font-size:13px;cursor:pointer;"],function(e){e=e.isLiving;return Object(T.css)(["background-color:",";"],e?"#20bef3":"#c7c7c7")}),pc=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},mc=Object(T.keyframes)(["from{opacity:0;transform:translateX(-50%) translateX(-38px) scale(0);}to{opacity:1;transform:translateX(-50%) translateX(-38px) scale(1);}"]),gc=T.default.div.withConfig({componentId:"bey7v2-0"})(["position:absolute;z-index:",";bottom:60px;width:256px;min-height:130px;border-radius:4px;display:flex;flex-direction:column;justify-content:space-between;transform:translateX(-50%) translateX(-40px) scale(0);transform-origin:168px 112px;"," box-shadow:0px 4px 19px 0px rgba(0,0,0,0.2);&::before{content:'';position:absolute;top:100%;left:0;height:10px;width:100%;display:block;}&::after{content:'';width:0;height:0;position:absolute;display:block;bottom:-7px;border-top:7px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent;","}> .gift-context{width:100%;display:flex;align-items:center;padding:10px;> .left-body{> .gift-pic{font-size:0;width:68px;height:68px;line-height:68px;text-align:center;position:relative;> .gift-icon{position:absolute;top:-3px;left:-3px;width:24px;object-fit:cover;}}}> .right-body{margin-left:20px;display:flex;flex-direction:column;overflow:hidden;> .gift-text{font-size:18px;line-height:22px;"," overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}> .gift-price{margin-top:5px;display:flex;align-items:center;font-size:14px;","}> .valid-date{"," font-size:12px;margin-top:5px;}}}"],oc.a.POPVER,function(e){var t=e.offsetLeft,e=e.theme.darkTheme;return Object(T.css)(["background-color:",";left:",";animation:"," 0.25s forwards;"],e?"#1B1F20":"#ffffff","".concat(t,"px"),t?mc:"none")},function(e){var t=e.isLeftPath,e=e.theme.darkTheme;return Object(T.css)(["border-top-color:",";left:",";transform:",";"],e?"#2E3637":"#ffffff",t?"0":"50%",t?"translateX(60px)":"translateX(45px)")},function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"#ffffff":"#232323")},function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"rgba(255,255,255,0.5)":"#232323")},function(e){var t=e.warn,e=e.theme.darkTheme;return Object(T.css)(["color:",";"],t?"#FF5000":e?"rgba(255,255,255,0.65)":"#8d8d8d")}),bc=T.default.img.withConfig({componentId:"bey7v2-1"})(["margin-right:5px;display:inline-block;width:16px;"]),hc=T.default.div.withConfig({componentId:"bey7v2-2"})(["width:100%;height:47px;align-items:center;padding:0 6px 0 12px;",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";border-top:1px solid ",";"],e?"#2E3637":"#ffffff",e?"#2E3637":"rgba(239, 239, 239, 0.5)")}),_c=T.default.div.withConfig({componentId:"bey7v2-3"})(["width:48px;height:24px;text-align:center;line-height:24px;float:right;margin-top:11px;"," border-radius:4px;color:#fff;font-size:13px;cursor:pointer;"],function(e){e=e.isLiving;return Object(T.css)(["background-color:",";"],e?"#20bef3":"#c7c7c7")}),vc=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},xc=T.default.div.withConfig({componentId:"wpp8u-0"})(["display:flex;flex-direction:row;align-items:center;width:100%;min-height:60px;> .gift-container{display:flex;justify-content:flex-end;width:100%;> .display-bar{height:60px;"," width:fit-content;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center;> .gift-panel-close{float:right;"," flex:1;text-align:center;height:52px;line-height:52px;font-size:14px;}}}"],function(e){e=e.theme.darkTheme;return Object(T.css)(["background:",";"],e?"#292B2E":"#fcfcfc")},function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"rgba(255,255,255,0.35)":"#c6c6c6")}),Ec=T.default.div.withConfig({componentId:"wpp8u-1"})(["border-radius:4px;height:100%;flex-shrink:0;display:flex;align-items:center;justify-content:center;width:23px;cursor:pointer;> svg{color:#cccccc;}"," &:hover:not(.not-arrow){> svg{color:#20bef3;}background-color:rgba(32,190,243,0.1);}&.not-arrow{cursor:not-allowed;","}"],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";"],e?"#3C3F43":"#F5F5F5")},function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";"],e?"#3C3F43":"#F5F5F5")}),yc=T.default.div.withConfig({componentId:"wpp8u-2"})([""," position:relative;height:100%;.history-list{position:relative;display:flex;padding-right:5px;&::after{content:'';width:1px;height:43px;"," position:absolute;right:2px;top:50%;transform:translateY(-50%);}}.gift-type-title{width:56px;height:52px;text-align:center;line-height:52px;"," font-size:12px;}> .inner-list{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;> .real-list{width:100%;height:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-items:center;.out-item{width:56px;height:50px;display:flex;justify-content:center;align-items:center;padding:0 3px;border-radius:4px;position:relative;cursor:pointer;> .gift-item{box-sizing:border-box;width:52px;height:50px;display:flex;justify-content:center;align-items:center;font-size:0;position:relative;> .pack-balance{position:absolute;right:6px;bottom:2px;border-radius:50px;padding:0 2px;min-width:14px;height:16px;background-color:#20bef3;font-size:12px;color:#fff;text-align:center;line-height:16px;transform:scale(0.8);}}}}}"],function(e){e=e.width;return Object(T.css)(["width:",";"],"".concat(e,"px"))},function(e){e=e.theme.darkTheme;return Object(T.css)(["background:",";"],e?"#494c51":"#EDEFF0")},function(e){e=e.theme.darkTheme;return Object(T.css)(["color:",";"],e?"rgba(255, 255, 255, .9)":"#999999")}),Oc=T.default.div.withConfig({componentId:"wpp8u-3"})(["position:relative;height:100%;> .empty-list{padding:0 20px;text-align:center;line-height:50px;color:#c6c6c6;font-size:12px;display:flex;align-items:center;> .empty-img{width:36px;height:36px;margin-right:8px;}}"]),wc=function(e){var n=e.giftType,t=e.displayGiftList,a=e.displayBoxList,i=e.BoxPaddingItem,r=e.onEnter,o=e.onBoxEnter,c=e.historyListPaddingItem,l=e.onLeave,s=e.setPageGiftNum,u=e.maxGift,f=e.setPageSize,d=e.setPage,p=Object(Z.useMemo)(function(){var e=t.length;return n===So.a.ALL&&(e+=a.length),e},[a.length,t.length,n]);return Object(Z.useEffect)(function(){var e=Math.min(p,u);s(e),f(Math.ceil(p/e)),d(1)},[u,p,d,s,f]),{showGiftList:Object(Z.useMemo)(function(){return $.a.createElement($.a.Fragment,null,0<a.length&&n===So.a.ALL&&a.map(function(e,t){return $.a.createElement("div",{className:"out-item",key:e.boxId,onMouseEnter:function(){o(e,t,c)},onMouseLeave:function(e){l(e)}},$.a.createElement("div",{className:"gift-item"},$.a.createElement(Or,{classStr:"pic-img",picSrc:e.boxImg,iconSize:50,defaultIconSrc:"default-image"})))}),0<t.length&&t.map(function(e,t){return $.a.createElement("div",{className:"out-item",key:e.id,onMouseEnter:function(){r(e,t,0===i&&n===So.a.ALL?null==a?void 0:a.length:i,n===So.a.BOX?So.a.BOX:So.a.ALL)},onMouseLeave:function(e){l(e)}},$.a.createElement("div",{className:"gift-item"},$.a.createElement(Or,{classStr:"pic-img",picSrc:e.picture,iconSize:50,defaultIconSrc:"default-image"}),e.balance&&$.a.createElement("div",{className:"pack-balance"},e.balance)))}))},[a,t,n,i,c,o,r,l]),mergeGiftListLength:p}},kc=function(e){var o=e.labelConfig,c=e.giftIdMapDetail,l=e.setDisplayGiftList;return{fetchLabelGiftList:Object(Z.useCallback)(function(t){var e,n,a=null==o?void 0:o.find(function(e){return e._id===t}),i=Object(zn.a)(new Date),r=[];a&&(e=a.gift_ids,n=a.start_time_unix,a=a.end_time_unix,i.isAfter(n)&&i.isBefore(a)&&e.forEach(function(e){r.push(c[e])})),l(r)},[c,o,l])}},jc=n("IK+L"),Ic=function(e){var o=e.giftIdMapDetail,e=e.anchorInfo,c=e.liveType,l=e.categoryKey,s=e.gameKey,u=e.country,e=Object(Z.useState)(Object(jc.a)()),e=ne()(e,2),f=e[0],t=e[1],e=Object(Z.useMemo)(function(){var e=Object(zn.a)(new Date),r=[],t=c===ie.d.SHOW?l:s,n=(null==f?void 0:f.filter(function(e){return e.country===u}))||(null==f?void 0:f.filter(function(e){return"default"===e.country})),a=null==n?void 0:n.filter(function(e){return e.live_type===c}),i=null==a?void 0:a.find(function(e){return e.category.includes(t)});return i&&(n=i.special_config_list,a=i.start_time_unix,i=i.end_time_unix,e.isAfter(a)&&e.isBefore(i)&&null!=n&&n.forEach(function(e){var t=e.gift_id,n=e.mark_type,a=e.mark_icon,i=o[t];i&&r.push(Object.assign(Object.assign(Object.assign({},i),e),{id:t,markType:n,markIcon:a}))})),r},[l,u,s,o,f,c]);return Object(Z.useEffect)(function(){function e(e){t(e)}return No.b.on(No.a.CONFIGURE_GIFT_SPECIAL_UPDATE,e),function(){No.b.off(No.a.CONFIGURE_GIFT_SPECIAL_UPDATE,e)}},[]),{giftList:e}},Cc=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Nc=Object(i.b)(function(e){return{configure:e.configure}})(function(e){var i=e.configure,t=e.containerWidth,n=e.giftType,a=e.labelConfig,r=Math.floor((t-Cr.BASE_WIDTH)/Cr.SINGLE_GIFT_WIDTH),o=Object(Z.useContext)(fe.a),c=o.anchorInfo,l=o.roomId,s=o.layout,u=i.gift,f=u.allCountryDisplayList,d=u.giftIdMapDetail,p=Object(Z.useState)([]),m=ne()(p,2),g=m[0],b=m[1],h=Object(Z.useMemo)(function(){return g.length&&n===So.a.ALL?g.length:0},[g.length,n]),_=Object(Z.useState)([]),v=ne()(_,2),x=v[0],E=v[1],y=Object(Z.useState)([]),e=ne()(y,2),O=e[0],w=e[1],o=To({giftIdMapDetail:d}),u=o.historyListPaddingItem,k=o.fetchHistoryList,p=Object(Z.useState)(r||0),m=ne()(p,2),j=m[0],_=m[1],v=Object(Z.useState)(1),y=ne()(v,2),I=y[0],C=y[1],e=Object(Z.useState)(1),o=ne()(e,2),N=o[0],p=o[1],m=Object(Z.useState)("all"),v=ne()(m,2),T=v[0],S=v[1],y=Object(Z.useState)(1),e=ne()(y,2),A=e[0],L=e[1],o=Object(Z.useState)(null),m=ne()(o,2),D=m[0],P=m[1],v=Object(Z.useState)(null),y=ne()(v,2),e=y[0],R=y[1],o=Object(Z.useState)(0),m=ne()(o,2),v=m[0],z=m[1],y=Object(Z.useState)(Jn.g.LOADING),o=ne()(y,2),m=o[0],M=o[1],G=Ic({anchorInfo:c,giftIdMapDetail:d}).giftList,F=Object(Z.useCallback)(function(){M(Jn.g.LOADING);var t=[];O.forEach(function(e){d[e.id]&&(e=Object.assign(Object.assign({},d[e.id]),{id:e.id,name:e.name}),t.push(e))}),de.h.emit(de.g.SEND_GIFT_BY_KEYWORDS_CURRENT_HOST_GIFT_LIST,t),E(t),c.country&&M(Jn.g.SUCCESS)},[c.country,O,d]),U=Object(Z.useCallback)(function(){return Cc(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a,i,r;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return M(Jn.g.LOADING),e.prev=1,e.next=4,Object($o.g)({userId:c.anchorId});case 4:(r=e.sent)?(t=[],n=[],a=[],r.gift_pack&&r.gift_pack instanceof Array&&0<r.gift_pack.length&&(i=r.gift_pack,0<(t=i.map(function(e){return{id:e.gift_id,name:e.name,validTime:e.valid_time,balance:e.balance}})).length&&0<Object.keys(d).length&&t.forEach(function(e){var t;d[e.id]&&((t=Object.assign({},d[e.id])).id=e.id,t.name=e.name,t.validTime=e.validTime,t.balance=e.balance,e.id&&t.balance&&0<t.balance&&n.push(t))})),r.new_prop_pack&&r.new_prop_pack instanceof Array&&0<r.new_prop_pack.length&&(r=r.new_prop_pack,a=r.map(function(e){e={id:e.prop_id,name:e.prop_name,validTime:e.expire_time,balance:e.prop_count,picture:e.prop_img,propType:e.prop_type,price:e.prop_value,comboList:[{comboEffect:0,quantity:1}]};return e})),E([].concat(Y()(a),n))):E([]),M(Jn.g.SUCCESS),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),K.a.error(e.t0,{description:"获取直播间礼物包裹失败",report:!0}),M(Jn.g.ERROR);case 13:case"end":return e.stop()}},e,null,[[1,9]])}))},[c.anchorId,d]),H=Object(Z.useCallback)(function(){return Cc(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=i.giftBox,n=[],t)t.hasOwnProperty(a)&&n.push(t[a]);b(n);case 4:case"end":return e.stop()}},e)}))},[i]),B=Object(Z.useCallback)(function(e){return!(e<1||N<e)&&void C(e)},[N]),y=Object(Z.useCallback)(function(e,t,n,a){return 0!==Object.keys(e).length&&(S(a),L(t+1),P(e),z(t-(I-1)*j+n),void ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"gift",ft:"hover"}))},[I,j]),o=Object(Z.useCallback)(function(e,t,n){return 0!==Object.keys(e).length&&(L(t+1),R(e),z(t-(I-1)*j+n),void ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"box",ft:"hover"}))},[I,j]),W=Object(Z.useCallback)(function(e){var t=e.gift,n=e.count,a=V.a.getState().user,i={lt:"click",af:"live_room",bf:"gift_banner",cf:"most_visited_gift",action:"click",room_id:l,live_type:c.liveType,category_key:c.categoryKey,host_official_type:c.anchorGroup&&c.anchorGroup[0]||"normal",screen_mode:kn.a[s],gift_id:t.id,category:t.category,gift_cost:t.price*n,gift_count:n,gift_locate_type:T,gift_sort:A};ct.a.handleDataCount(i),T!==So.a.BOX&&((e=JSON.parse(localStorage.getItem(Be.ac)||"{}"))[a.user_id]?(-1!==(i=(n=Y()(e[a.user_id])).indexOf(t.id))&&n.splice(i,1),n.unshift(t.id),e[a.user_id]=n):e[a.user_id]=[t.id],localStorage.setItem(Be.ac,JSON.stringify(e)))},[c,T,A,s,l]);Object(Z.useEffect)(function(){function e(e){var t;e&&Object.keys(e).length&&(t=e.gift,e=e.count,t&&W({gift:t,count:e}))}return qt.b.on(qt.a.CMD_SEND_GIFT_PANEL_POSITION_SUCCESS,e),function(){qt.b.off(qt.a.CMD_SEND_GIFT_PANEL_POSITION_SUCCESS,e)}},[]);var q=kc({labelConfig:a,giftIdMapDetail:d,setDisplayGiftList:E}).fetchLabelGiftList;Object(Z.useEffect)(function(){var e=c.specialGiftList,t=void 0===e?[]:e,n=c.country,a=f.find(function(e){return"default"===e.country}),i=f.find(function(e){return e.country===n})||a||{defaultList:[],holidayList:[],holidayEndDate:new Date(0),holidayStartDate:new Date(0)},r=i.defaultList,o=i.holidayList,e=i.holidayEndDate,a=i.holidayStartDate,i=Object(zn.a)(new Date),r=Y()(r);0<o.length&&i.isAfter(Object(zn.a)(a))&&i.isBefore(Object(zn.a)(e))?r=Y()(o):G.length&&(r=G),0<t.length&&(r=[].concat(Y()(t),Y()(r))),w(r)},[f,c,G]),Object(Z.useEffect)(function(){function e(){qt.b.emit(qt.a.CMD_BANLANCE_NOT_ENOUGH)}return de.h.on(de.g.HANDLE_POKE_TOPUP,e),function(){de.h.off(de.g.HANDLE_POKE_TOPUP,e)}},[]),Object(Z.useEffect)(function(){var e;n===So.a.ALL?(F(),H()):n===So.a.BOX?U():n===So.a.RECENT?(e=k(),E(e)):q(n)},[F,k,q,H,n,U]),Object(Z.useEffect)(function(){function e(){U()}return pe.b.on(pe.a.UPDATE_GIFT_PACK,e),de.h.on(de.g.UPDATE_PACK_GIFT_LIST_AFTER_CB,e),function(){de.h.off(de.g.UPDATE_PACK_GIFT_LIST_AFTER_CB,e),pe.b.off(pe.a.UPDATE_GIFT_PACK,e)}},[U]),Object(Z.useEffect)(function(){if(n===So.a.BOX){var e=function(t){var e;t&&0!==Object.keys(t).length?x&&0<x.length&&(e=(e=x.map(function(e){return Object.assign(Object.assign({},e),{balance:e.id===t.giftId?e.balance-t.count:e.balance,validTime:t.expire||e.validTime})})).filter(function(e){return 0<e.balance}),E(Y()(e)),D&&D.balance&&(D.balance=D.balance-t.count,D.validTime=t.expire,0<D.balance?P(Object.assign({},D)):P(null))):U()};return de.h.on(de.g.UPDATE_USER_PACK,e),function(){de.h.off(de.g.UPDATE_USER_PACK,e)}}},[D,x,n,U]);r=wc({giftType:n,displayGiftList:x,displayBoxList:g,BoxPaddingItem:h,onEnter:y,onBoxEnter:o,historyListPaddingItem:u,onLeave:function(e){if(e.relatedTarget===window)return!1;P(null),R(null)},setPageGiftNum:_,maxGift:r,setPageSize:p,setPage:C}),p=r.showGiftList,r=r.mergeGiftListLength;return $.a.createElement(xc,{containerWidth:t},$.a.createElement("div",{className:"gift-container"},$.a.createElement("div",{className:"display-bar"},0===c.shieldSendGift?$.a.createElement($.a.Fragment,null,$.a.createElement(Ec,{className:"".concat(1===I?"not-arrow":""),onClick:function(){1!==I&&B(I-1)}},$.a.createElement(X.b,{name:X.b.NAME.ARROW_LEFT,size:23})),m===Jn.g.LOADING?$.a.createElement(ea.a,{size:24}):$.a.createElement($.a.Fragment,null,m===Jn.g.SUCCESS&&0<x.length||0<g.length&&n===So.a.ALL?$.a.createElement(yc,{width:j*Cr.SINGLE_GIFT_WIDTH},$.a.createElement("div",{className:"inner-list"},$.a.createElement("div",{className:"real-list",style:function(e,t,n,a){n=-((t-1)*n*Cr.SINGLE_GIFT_WIDTH),a=(e+a)*Cr.SINGLE_GIFT_WIDTH+5;return{width:"".concat(a,"px"),transform:"translateX(".concat(n,"px)")}}(r,I,j,h)},p)),D&&$.a.createElement(tc,{isLiving:c.living,giftInfo:D,key:D.id||0,giftItem:function(e,t){if(!(e&&e instanceof Array&&t))return!1;if(0<e.length){e=e.filter(function(e){return e.id===t});if(0<e.length)return e[0]}return!1}(O,D.id),pageGiftNum:j,currentHoverOffset:v,setHoverFloat:function(e){P(e)},setLeaveFloat:function(){P(null)},banners:null==i?void 0:i.giftBanner.gift}),e&&$.a.createElement(nc,{boxInfo:e,isLiving:c.living,key:e.boxId||0,pageGiftNum:j,roomId:l||0,currentHoverOffset:v,liveType:"".concat(c.liveType)||"",setHoverFloat:function(e){R(e)},setLeaveFloat:function(){R(null)},banners:(null==i?void 0:i.giftBanner.box)||[]})):$.a.createElement(yc,null,$.a.createElement(Oc,null,$.a.createElement("div",{className:"empty-list"},$.a.createElement("img",{src:ic,className:"empty-img",alt:""}),Object(ue.f)("gift:empty_list"))))),$.a.createElement(Ec,{className:"".concat(I===N?"not-arrow":""),onClick:function(){I!==N&&B(I+1)}},$.a.createElement(X.b,{name:X.b.NAME.ARROW_RIGHT,size:23}))):$.a.createElement("div",{className:"gift-panel-close"},Object(ue.f)("live_romm_close_gift_pannel")))))}),Tc=T.default.div.withConfig({componentId:"m57z8b-0"})(["display:block;padding:15px 20px;",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";"],e?"#121414":"#ffffff")}),Sc=T.default.div.withConfig({componentId:"sc-1nmc5jd-0"})(["z-index:1;position:absolute;top:0;left:0;width:100%;height:100%;user-select:none;pointer-events:none;overflow:hidden;.canvas-box{width:100%;height:",";position:absolute;top:",";overflow:hidden;left:0;}"," .room-chat-player__level3{position:absolute;bottom:0;left:0;user-select:none;pointer-events:none;}.room-chat-player__level2{width:0;height:0;display:none;}"],function(e){e=e.height;return"".concat(e,"px")},function(e){e=e.anchorHeight;return"".concat(e,"px")},function(e){return e.playerHidden&&Object(T.css)(["visibility:hidden;"])}),r=n("2HG2"),Ac=n.n(r),Lc=n("3457"),Dc=n.p+"assets/file/be5893ee279deaf1fafc00f1c3ed5b30.png",Pc=n.p+"assets/file/308b4757d43ce2bad78a01e784e91426.png",Rc=n.p+"assets/file/29c0f7b67d932f26217ae0c632ae474c.png",zc=n.p+"assets/file/97fb8653858a77167f36ef1f443249a5.png",Mc=n.p+"assets/file/9c31a7d81ca172fa1fa2bbb7a202b219.png",Gc=n.p+"assets/file/b3b447861c446a78829e41ab5d47bf3c.png",Fc=n.p+"assets/file/6afbacc9f97920a9002bdb2b94f009b5.png";function Uc(e){return new Promise(function(n){var a=new Image;a.crossOrigin="anonymous",a.src=e,a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var t=e.getContext("2d");t&&(t.beginPath(),t.arc(a.width/2,a.height/2,a.width/2,0,2*Math.PI),t.clip(),t.drawImage(a,0,0,a.width,a.width)),n(e.toDataURL())}})}function Hc(){function e(e){t=t||new Bc(n.current),e.userId===Tn.a.getUserId()?l(!1):l(!i),t.addGift(e)}var t,n=Object(Z.useRef)(null),a=Object(Z.useRef)(null),i=(o=Object(Z.useContext)(fe.a)).giftEffectDisplay,r=o.roomType,o=Object(Z.useState)(i),c=(o=ne()(o,2))[0],l=o[1];return Object(Z.useEffect)(function(){return de.h.on(de.c.GIFT_ADD_LUXURY_GIFT,e),function(){de.h.off(de.c.GIFT_ADD_LUXURY_GIFT,e)}},[i]),$.a.createElement(Wc,null,function(e){var t=e.height,e=e.width,t=t-(r===So.d.NORMAL?0:84)-133;return $.a.createElement(Sc,{height:t,playerHidden:c,anchorHeight:r===So.d.NORMAL?0:84},$.a.createElement("div",{className:"canvas-box"},$.a.createElement("canvas",{className:"room-chat-player__level3",ref:n,width:e,height:Math.max(e/(750/1334),t)}),$.a.createElement("canvas",{className:"room-chat-player__level2",ref:a})))})}var Bc=function(){function t(e){ir()(this,t),this.player=new Ac.a.Player(e),this.player.setContentMode("AspectFill"),this.player.loops=1,this.luxuryGiftQueue=[],this.playing=!1,this.videoItemCache={}}return rr()(t,[{key:"reset",value:function(){this.player.stopAnimation(),this.luxuryGiftQueue=[],this.playing=!1}},{key:"addGift",value:function(e){3===e.category&&!e.effect_res_url||(e.giftEffect&&e.userId===Tn.a.getUserId()?this.luxuryGiftQueue.unshift(e):this.luxuryGiftQueue.push(e),this.playing||this.play())}},{key:"loadVideoItem",value:function(t,n){var a=this,i=new Ac.a.Parser;if(this.videoItemCache[t])return n(this.videoItemCache[t]);Object(Lc.a)({id:t,url:"".concat(Sn.a.imgdlsvr,"/download/file/").concat(t)}).then(function(e){if(!e)return n(null);e=URL.createObjectURL(e);i.load(e,function(e){return a.videoItemCache[t]=e,n(e)})})}},{key:"play",value:function(){var t=this;this.playing=!0;var e,n,a=this.luxuryGiftQueue.shift();3===a.category&&(n=this.player,e="".concat(a.effect_res_url),this.loadVideoItem(e,function(e){return e?(n.setVideoItem(e),t.replaceDynamicItemsExceptAvatar(a),n.loops=a.count||1,n.startAnimation(),void n.onFinished(function(){t.playing=!1,n.clearDynamicObjects(),0<t.luxuryGiftQueue.length&&t.play()})):(t.playing=!1,n.clearDynamicObjects(),void(0<t.luxuryGiftQueue.length&&t.play()))}))}},{key:"truncateText",value:function(e,t){return e.length>t?"".concat(e.slice(0,t),"..."):e}},{key:"replaceDynamicItemsExceptAvatar",value:function(e){var t=e.userName,n=e.userImg,a=e.toName,i=e.toUserImg,r=e.level,o=e.category,c=e.count,l=e.giftImg,e=e.effect_dynamic_items,e=void 0===e?[]:e,s=[],u=this.player;3===o&&e.forEach(function(e){s.push(e)}),s.includes("sender_name")&&u.setText({text:this.truncateText(t,6),size:"bold 32px",color:"#fff"},"sender_name"),s.includes("to_name")&&u.setText({text:this.truncateText(a,6),size:"bold 32px",color:"#fff"},"to_name"),s.includes("colored_sender_name")&&(61<=r?u.setText({text:this.truncateText(t,8),size:"bold 32px",color:"#fff"},"colored_sender_name"):u.setText({text:this.truncateText(t,8),size:"32px",color:"#d3be8b"},"colored_sender_name")),s.includes("send_text_bg")&&(r=r<61?Dc:r<81?Pc:r<101?Rc:r<116?zc:r<131?Mc:r<145?Gc:Fc,u.setImage(r,"send_text_bg")),s.includes("to_head")&&Uc(i).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";u.setImage(e,"to_head")}),s.includes("sender_head")&&Uc(n).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";u.setImage(e,"sender_head")}),s.includes("count")&&u.setText({text:"X ".concat(c),size:"bold 32px",color:"#fff"},"count"),s.includes("gift_img")&&u.setImage(l,"gift_img")}}]),t}(),Wc=Object(T.default)(Hn.a).withConfig({componentId:"t15cl7-0"})(["height:100%;user-select:none;pointer-events:none;"]);function qc(e){this.data=e,this.next=null}var Kc=function(){function e(){ir()(this,e),this.head=null,this.tail=null,this.cursize=0}return rr()(e,[{key:"enqueue",value:function(e){e=new qc(e);null===this.head?this.head=e:this.tail.next=e,this.tail=e,this.cursize+=1}},{key:"dequeue",value:function(){var e=null;return null!==this.head&&(e=this.head.data,this.head=this.head.next,--this.cursize),e}},{key:"size",value:function(){return this.cursize}},{key:"isEmpty",value:function(){return 0===this.cursize}},{key:"clear",value:function(){this.head=null,this.tail=null,this.cursize=0}}]),e}(),Yc=Tn.a.getUserInfo(),Vc=function(){function e(){ir()(this,e),this.queue=new Kc}return rr()(e,[{key:"enqueue",value:function(e){if(e&&e.equals&&e.add){for(var t=this.queue.head;t;){var n=t.data;if(n&&n.equals&&n.add&&n.equals(e))return void n.add(e);t=t.next}this.queue.enqueue(e)}}},{key:"dequeue",value:function(){return this.queue.dequeue()}},{key:"isEmpty",value:function(){return this.queue.isEmpty()}},{key:"clear",value:function(){this.queue.clear()}}]),e}(),Xc=function(){function e(){ir()(this,e),this.userQueue=new Vc,this.level1Queue=new Vc,this.level2Queue=new Vc}return rr()(e,[{key:"enqueue",value:function(e){Yc&&Yc.user_id===e.userId?this.userQueue.enqueue(e):1===e.category?this.level1Queue.enqueue(e):2===e.category&&this.level2Queue.enqueue(e)}},{key:"dequeue",value:function(){var e=this.userQueue.dequeue();return(e=e||this.level1Queue.dequeue())||this.level2Queue.dequeue()}},{key:"isEmpty",value:function(){return this.level1Queue.isEmpty()&&this.level2Queue.isEmpty()}},{key:"clear",value:function(){this.level1Queue.clear(),this.level2Queue.clear()}}]),e}(),Qc=function(){function t(e){ir()(this,t),this.comboList=new Kc,e&&(this.userId=e.userId,this.giftId=e.giftId,this.category=e.category,this.firstComboItem=e)}return rr()(t,[{key:"equals",value:function(e){return null!=e&&e.userId===this.userId&&e.giftId===this.giftId}},{key:"hasNextComboItem",value:function(){return!this.comboList.isEmpty()}},{key:"nextComboItem",value:function(){return this.comboList.dequeue()}},{key:"add",value:function(e){this.comboList.enqueue(e)}}]),t}(),mn=n("7W2i"),Jc=n.n(mn),rn=n("a1gu"),Zc=n.n(rn),bt=n("Nsbk"),$c=n.n(bt),el=4,tl={STAY_TIME:3500,FADE_IN_TIME:300,FADE_OUT_TIME:100,TEXT_SCALE_TIME:400},nl={STAY_TIME:6e3,FADE_IN_TIME:300,FADE_OUT_TIME:100,TEXT_SCALE_TIME:1500},_t=n("PJYZ"),al=n.n(_t),il=n("jQBN"),rl=n("wPpL"),ol=function(){function t(e){ir()(this,t),this.player=new Ac.a.Player(e),this.player.setContentMode("AspectFill"),this.playing=!1,this.videoItemCache={}}return rr()(t,[{key:"stop",value:function(){this.player.stopAnimation(),this.playing=!1}},{key:"loadVideoItem",value:function(t,n){var a=this,i=new Ac.a.Parser;if(this.videoItemCache[t.id])return n(this.videoItemCache[t.id]);Object(Lc.a)(t).then(function(e){if(!e)return n(null);e=URL.createObjectURL(e);i.load(e,function(e){return a.videoItemCache[t.id]=e,n(e)})})}},{key:"run",value:function(e){var t=this;this.playing=!0;var n=this.player;this.loadVideoItem(e,function(e){return e?void(t.playing&&(n.setVideoItem(e),n.startAnimation())):(t.playing=!1,void n.clearDynamicObjects())})}}]),t}(),cl=n.p+"assets/file/4566ce81757819a04788790e907d6e52.png",ll=n.p+"assets/file/26417556fd5412ef8f5378902ef2e0e4.png",sl=n.p+"assets/file/fb9ea7f04623bfa72bb03487935d9a1a.png",ul=n.p+"assets/file/b957e88fc10f8dabc5923c32875b73a3.png",fl=Object(T.keyframes)(["0%{transform:translate3d(-110%,0,0);opacity:0;}100%{transform:translate3d(0,0,0);opacity:1;}"]),dl=Object(T.keyframes)(["0%{transform:scale(3);}100%{transform:scale(1);}"]),pl=Object(T.keyframes)(["0%{transform:translate3d(0,0,0);opacity:1;}100%{transform:translate3d(0,-50%,0);opacity:0;}"]),r=Object(T.keyframes)(["0%{transform:scale(1);}25%{transform:scale(0.9);}75%{transform:scale(1.1);}100%{transform:(1)}"]),ml=T.default.div.withConfig({componentId:"sc-35n8s5-0"})(["position:relative;margin:15px 0;transform:translate3d(-100%,0,0);opacity:0;"," "," .channel-player__bg{position:relative;background-size:100% 100%;background-repeat:no-repeat;}"," .channel-player__shine{position:absolute;pointer-events:none;height:180px;top:-60px;width:100%;left:-42px;}",""],function(e){return e.fadeIn&&Object(T.css)(["animation:"," 0.3s forwards;"],fl)},function(e){return e.fadeOut&&Object(T.css)(["animation:"," 0.1s forwards;"],pl)},function(e){var t=e.playingGiftInfo;if(t){if(t.category&&1===Number(t.category)){e=Number(t.comboEffect);if(0===e)return Object(T.css)([".channel-player__bg{width:291px;height:50px;background-image:url(",");}"],cl);if(1===e)return Object(T.css)([".channel-player__bg{width:291px;height:50px;background-image:url(",");}"],ll);if(2===e||3===e)return Object(T.css)([".channel-player__bg{width:291px;height:50px;background-image:url(",");}"],sl)}return t.category&&2===Number(t.category)?Object(T.css)([".channel-player__bg{width:342px;height:56px;background-image:url(",");}"],ul):void 0}},function(e){e=e.playingGiftInfo;if(e)return e.category&&1===Number(e.category)?Object(T.css)([".channel-player__shine{height:83px;top:-14px;left:0;}"]):void 0}),gl=T.default.div.withConfig({componentId:"sc-35n8s5-1"})(["position:absolute;top:0;left:0;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;align-items:center;padding:3px 0;height:",";.channel-player__avatar{width:38px;height:38px;margin-left:5px;flex-shrink:0;}",";.channel-player__user__info{margin-left:5px;display:flex;flex-direction:column;justify-content:center;color:#fff;max-width:120px;}.channel-player__user__username{font-size:14px;font-weight:bold;width:100%;color:#ecb536;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;text-shadow:1px 1px 2px rgba(0,0,0,0.6);max-width:120px;}",";.channel-player__user__giftname{margin-top:3px;font-size:12px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;text-shadow:1px 1px 2px rgba(0,0,0,0.6);}.channel-player__gift-image{height:63px;}.channel-player__count{font-size:32px;-webkit-text-stroke:1px #fff;color:#2a97e4;font-weight:900;white-space:nowrap;span{margin-left:5px;}"," "," ","}.channel-player__auto-scale-image{animation:"," 1s linear infinite;}"],function(e){e=e.playingGiftInfo;if(e)return e.category&&1===Number(e.category)?"50px;":"56px;"},function(e){e=e.playingGiftInfo;if(e)return e.category&&2===Number(e.category)?Object(T.css)([".channel-player__avatar{width:44px;height:44px;margin-left:6px;}"]):void 0},function(e){e=e.playingGiftInfo;if(e)return e.category&&1===Number(e.category)?Object(T.css)([".channel-player__user__info{max-width:90px;.channel-player__user__username{max-width:90px;}}"]):void 0},function(e){var t=e.playingGiftInfo;if(t){if(t.category&&1===Number(t.category)){e=Number(t.comboEffect);if(0===e)return"\n            color: #3fffc6;\n            -webkit-text-stroke: 1px #329b7a;\n          ";if(1===e)return"\n             color: #acdfff;\n            -webkit-text-stroke: 1px #2f86bd;\n          ";if(2===e||3===e)return"color: #ff9bb5;\n            -webkit-text-stroke: 1px #d22653;\n          "}return t.category&&2===Number(t.category)?"\n         color: #9577FF;\n        -webkit-text-stroke: 1px #4B30A7;\n        font-size: 36px;\n        ":void 0}},function(e){e=e.playingGiftInfo;return e&&999<e.countSum&&"font-size: 28px !important;"},function(e){return e.isScaleText&&Object(T.css)(["animation:"," 0.3s forwards;"],dl)},r);function bl(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=$c()(n);return t=a?(e=$c()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),Zc()(this,t)}}var hl=function(e){Jc()(n,e);var t=bl(n);function n(e){return ir()(this,n),(e=t.call(this,e)).state={status:el,isScaleText:!1,playingGiftInfo:null},e.playingComboList=null,e.timeId=null,e.level=1,e.timeConfig=tl,e.playStaying=e.playStaying.bind(al()(e)),e.playFadeout=e.playFadeout.bind(al()(e)),e.giftEffectPlayer=null,e}return rr()(n,[{key:"getStatus",value:function(){return this.state.status}},{key:"getPlayingComboList",value:function(){return this.playingComboList}},{key:"setLevel",value:function(e){2===e?(this.timeConfig=nl,this.level=2):(this.timeConfig=tl,this.level=1)}},{key:"insertNewComboList",value:function(e){var t=this.getStatus(),n=this.getPlayingComboList();n&&(n.add(e),2===t&&(this.state.isScaleText||this.checkNextCombo("")))}},{key:"reset",value:function(){clearTimeout(this.timeId),this.setState({status:el,isScaleText:!1,playingGiftInfo:null}),this.playingComboList=null,this.giftEffectPlayer&&this.giftEffectPlayer.stop()}},{key:"playGiftEffect",value:function(){this.endGiftEffect(),this.giftEffectPlayer||(this.giftEffectPlayer=new ol(this.effectLoader));var e={id:2===this.level?"level2_gift_shine_effect_file":"level1_gift_combo_shine_effect_file",url:(2===this.level?rl:il).a};this.giftEffectPlayer.run(e)}},{key:"endGiftEffect",value:function(){this.giftEffectPlayer&&this.giftEffectPlayer.playing&&this.giftEffectPlayer.stop()}},{key:"doScaleText",value:function(){var e=this;this.state.isScaleText?this.setState({isScaleText:!1},function(){e.scaleText&&e.setState({isScaleText:!0})}):this.setState({isScaleText:!0})}},{key:"checkNextCombo",value:function(e){var t=this.playingComboList.nextComboItem();t?(t=t.firstComboItem,this.setState({playingGiftInfo:t}),this.playComboCount()):e&&e()}},{key:"play",value:function(e){var t=this,n=e.firstComboItem;this.playingComboList=e,this.setState({playingGiftInfo:n},function(){t.setLevel(n.category),t.playFadeIn()})}},{key:"playFadeIn",value:function(){var e=this;clearTimeout(this.timeId);var t=this.state.playingGiftInfo;this.setState({status:1});1===this.level&&t.comboEffect<=0||this.playGiftEffect(),e.timeId=setTimeout(function(){e.playComboCount()},e.timeConfig.FADE_IN_TIME)}},{key:"playComboCount",value:function(){var e=this;clearTimeout(this.timeId),this.setState({status:2}),this.doScaleText(),this.timeId=setTimeout(function(){e.checkNextCombo(e.playStaying)},this.timeConfig.TEXT_SCALE_TIME)}},{key:"playStaying",value:function(){var e=this;clearTimeout(this.timeId),this.setState({isScaleText:!1}),this.timeId=setTimeout(function(){e.checkNextCombo(e.playFadeout)},this.timeConfig.STAY_TIME)}},{key:"playFadeout",value:function(){var e=this;clearTimeout(this.timeId),this.setState({status:3}),this.endGiftEffect(),this.timeId=setTimeout(function(){e.reset(),e.props.playNext()},this.timeConfig.FADE_OUT_TIME)}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.status,i=n.isScaleText,n=n.playingGiftInfo;return n&&(e=$.a.createElement(gl,{isScaleText:i,playingGiftInfo:n},$.a.createElement($e.b,{className:"channel-player__avatar",src:Fr.a.processServerImageUrl(n.userImg)}),$.a.createElement("div",{className:"channel-player__user__info"},$.a.createElement("div",{className:"channel-player__user__username"},n.userName),$.a.createElement("div",{className:"channel-player__user__giftname"},n.giftName," ",Object(ue.f)("send_gift_msg"))),$.a.createElement("img",{className:"channel-player__gift-image channel-player__auto-scale-image",src:Fr.a.processServerImageUrl(n.giftImg),alt:"channel-player__gift"}),$.a.createElement("div",{ref:this.scaleText,className:"channel-player__count"},"x",$.a.createElement("span",null,n.countSum)))),$.a.createElement(ml,{playingGiftInfo:n,fadeIn:1===a||2===a,fadeOut:3===a},$.a.createElement("div",{className:"channel-player__bg"}),e,$.a.createElement("div",{className:"channel-player__shine",ref:function(e){return t.effectLoader=e}}))}}]),n}($.a.PureComponent);function _l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw i}}}}function vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xl(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=$c()(n);return t=a?(e=$c()(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),Zc()(this,t)}}var El=T.default.div.withConfig({componentId:"sc-1432w4k-0"})(["position:absolute;top:15%;left:84px;"]),yl=function(e){Jc()(n,e);var t=xl(n);function n(e){return ir()(this,n),(e=t.call(this,e)).channelIds=[1,2,3],e}return rr()(n,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"getPlayer",value:function(e){return this["player".concat(e)]}},{key:"getSpareChannel",value:function(){for(var e=0;e<this.channelIds.length;e+=1){var t=this.channelIds[e];if(this.getPlayer(t).getStatus()===el)return t}return null}},{key:"checkPlayingCombo",value:function(e){for(var t=0;t<this.channelIds.length;t+=1){var n=this.channelIds[t],a=this.getPlayer(n),i=a.getStatus(),n=a.getPlayingComboList();if(3!==i&&i!==el&&n&&n.equals(e))return a.insertNewComboList(e),!0}return!1}},{key:"reset",value:function(){var t=_l(this.channelIds);try{for(t.s();!(e=t.n()).done;){var e=e.value;this.getPlayer(e).reset()}}catch(e){t.e(e)}finally{t.f()}}},{key:"play",value:function(e){var t=this.getSpareChannel();null!==t&&this.getPlayer(t).play(e)}},{key:"render",value:function(){var n=this,e=this.props.playNext;return $.a.createElement(El,null,this.channelIds.map(function(t){return $.a.createElement(hl,{ref:function(e){n["player".concat(t)]=e},key:t,playNext:e})}))}}]),n}($.a.Component),Ol=T.default.div.withConfig({componentId:"sc-1hd8ua5-0"})(["",""],function(e){e=e.playerHidden;return Object(T.css)(["display:",";"],e?"none":"block")}),wl=$.a.memo(function(){var n=Object(Z.useContext)(fe.a).giftEffectDisplay,e=Object(Z.useState)(n),t=ne()(e,2),e=t[0],a=t[1],i=Object(Z.useRef)(),r=Object(Z.useRef)(new Xc),o=Object(Z.useCallback)(function(){var e;i.current&&(null===i.current.getSpareChannel()||null!==(e=r.current.dequeue())&&i.current.play(e))},[]);return Object(Z.useEffect)(function(){function e(e){var t=new Qc(e);i.current&&(i.current.checkPlayingCombo(t)||(e.userId===Tn.a.getUserId()?a(!1):a(!n),r.current.enqueue(t),o()))}return de.h.on(de.g.GIFT_ADD_GIFT,e),function(){de.h.off(de.g.GIFT_ADD_GIFT,e)}},[o,n]),$.a.createElement(Ol,{playerHidden:e},$.a.createElement(yl,{ref:i,playNext:o}))}),kl=n("fND3"),jl=n("4qjP"),Il=n("EUdy"),Cl={LIVE:{route:"",text:Object(ue.f)("hot_live")},PLAYBACK:{route:"playback",text:Object(ue.f)("playback")},TIMELINE:{route:"timeline",text:Object(ue.f)("host_status")},HOSTTEAM:{route:"hostteam",text:Object(ue.f)("host_team_title")}};(mn={})[mn.Radio=0]="Radio",mn[mn.Checkbox=1]="Checkbox";function Nl(e){var a=e.activeRoute,i=e.setTab,t=e.roomId,n=Object(Il.a)(t).hostTeamGroups,e=Object(Z.useState)(Rl),e=(t=ne()(e,2))[0],r=t[1];return Object(Z.useEffect)(function(){var e;!n||n.length<=0?(e={LIVE:Cl.LIVE,PLAYBACK:Cl.PLAYBACK,TIMELINE:Cl.TIMELINE},r(Object.keys(e))):r(Rl)},[n]),$.a.createElement(Dl,null,e.map(function(e){var t=Cl[e],n=t.route===a;return $.a.createElement(Pl,{key:e,active:n,onClick:function(){return i(e)}},t.text)}))}function Tl(e){var o=e.roomId,n=e.channelkey,c=Object(Z.useRef)({}),t=Object(Z.useContext)(ao).width,a=Object(Z.useState)(Jn.g.LOADING),i=(u=ne()(a,2))[0],r=u[1],l=Object(Z.useState)(),a=(e=ne()(l,2))[0],s=e[1],u=Object(Z.useState)([]),e=(l=ne()(u,2))[0],f=l[1],u=Object(Z.useState)(!1),u=(l=ne()(u,2))[0],d=l[1],p=Object(Z.useCallback)(function(e,t){e=e.currentTarget.dataset.index;Ua.a.glean({lt:"rec_stat",ct:"click",dt:"client",et:"liveroom",room_id:o,recom_position:"liveroom_tab",recom_type:"live",position_in_recom:Number(e)+1,host_id:t.user_id,host_level:t.level,live_status:t.anchor_live,m_total_count:t.viewers,live_type:t.live_type,live_subtype:t.live_subtype,game_key:t.game_key,game_type:t.game_type,category_key:t.category_key,event_id:"C_ROOM_REC_CLICK",session:Ml.a.getSessionId()})},[o]),m=Object(Z.useCallback)(function(){return Gl(void 0,void 0,void 0,Ka.a.mark(function e(){var t;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r(Jn.g.LOADING),e.prev=1,e.next=4,Object($o.d)({roomId:o,channelKey:n});case 4:t=e.sent,(t=t.result)&&0!==t.length||d(!0),f(t),r(Jn.g.SUCCESS),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),K.a.error(e.t0,{description:"获取直播间直播列表失败",report:!0}),s(e.t0),r(Jn.g.ERROR);case 16:case"end":return e.stop()}},e,null,[[1,11]])}))},[o,n]);return Object(Z.useEffect)(function(){m()},[m]),a=i===Jn.g.SUCCESS?u?$.a.createElement(zl.a,{className:"empty-content"}):e.map(function(i,r){return $.a.createElement(Dr.b,{key:r,containerWidth:t,roomId:i.user_id,cover:Object(Sa.a)({url:i.pic,styleQuery:{size:Sa.b.median}}),title:i.anchor_intro,avatar:Object(Sa.a)({url:i.avatar,styleQuery:{size:Sa.b.mini}}),name:i.loginname,viewerCount:i.viewers,"data-index":r,autoReplay:1===i.auto_replay,onClick:function(e){p(e,i)},onEnter:function(){var e,t,n,a;e=r,n=(t=i).anchor_group,a=void 0===n?[]:n,n=ne()(a,1)[0],a="".concat(e,"_").concat(t.user_id,"_").concat(t.my_id),c.current[a]||(c.current[a]=!0,ct.a.handleDataCount(Object.assign(Object.assign({lt:"rec_stat",ct:"expose",dt:"client",et:"liveroom",room_id:o,recom_position:"liveroom_tab",recom_type:"live",position_in_recom:Number(e)+1,host_id:t.user_id,host_level:t.level,live_status:t.anchor_live,m_total_count:t.viewers,live_type:t.live_type,live_subtype:t.live_subtype,game_key:t.game_key,game_type:t.game_type,category_key:t.category_key,event_id:"C_ROOM_REC_EXPOSE"},t.log_id&&{live_id:t.log_id}),{host_official_type:n||""})))},stateFrom:Rr.a.liveroom_recom_bottom,subscriptionLive:!!i.sub_status})}):i===Jn.g.LOADING?$.a.createElement(Ul,null,$.a.createElement(ea.a,{size:36})):$.a.createElement(Va.a,{errorMessage:a.message,retry:m}),$.a.createElement(Fl,null,a)}function Sl(e){var r=e.userId,t=void 0===(c=e.type)?Jn.m.DEFAULT:c,o=Object(Z.useRef)({}),n=Object(Z.useContext)(ao).width,a=Object(Z.useState)(Jn.g.LOADING),e=(l=ne()(a,2))[0],i=l[1],c=Object(Z.useState)(),l=(a=ne()(c,2))[0],s=a[1],c=Object(Z.useState)([]),c=(a=ne()(c,2))[0],u=a[1],f=Object(Z.useCallback)(function(e,t){e=e.currentTarget.dataset.index;Ua.a.glean({lt:"rec_stat",ct:"click",dt:"client",et:"liveroom",room_id:r,recom_position:"liveroom_tab",position_in_recom:+e+1,recom_type:"video",host_id:t.user_id,video_id:t.live_id,video_time:t.video_length,video_watch_cnt:t.view_num,m_total_count:t.view_num,game_key:t.game_key,category_key:t.category_key,event_id:"C_ROOM_REC_CLICK",session:Ml.a.getSessionId()})},[r]),d=Object(Z.useCallback)(function(){return Hl(void 0,void 0,void 0,Ka.a.mark(function e(){var t;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(Jn.g.LOADING),e.prev=1,e.next=4,Object($o.e)({userId:r});case 4:t=e.sent,u(t),i(Jn.g.SUCCESS),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),K.a.error(e.t0,{description:"获取直播间回放视频列表失败",report:!0}),s(e.t0),i(Jn.g.ERROR);case 14:case"end":return e.stop()}},e,null,[[1,9]])}))},[r]);return Object(Z.useEffect)(function(){d()},[d]),l=e===Jn.g.SUCCESS?c&&0!==c.length?c.map(function(a,i){var e;return $.a.createElement(Pr.a,{title:a.title,containerWidth:n,anchorId:a.user_id,key:a.v_id,id:a.v_id,cover:Object(Sa.a)({url:a.video_pic,styleQuery:{size:Sa.b.median}}),duration:a.video_length,viewCount:a.view_num,avatar:Object(Sa.a)({url:null===(e=a.author_info)||void 0===e?void 0:e.pic,styleQuery:{size:Sa.b.mini}}),name:a.author_info.login_name,status:a.status,time:new Date(a.publish_time),onClick:function(e){f(e,a)},onEnter:function(){var e,t,n;t=a,n="".concat(e=i,"_").concat(t.user_id,"_").concat(t.my_id),o.current[n]||(o.current[n]=!0,ct.a.handleDataCount({lt:"rec_stat",ct:"expose",dt:"client",et:"liveroom",room_id:r,recom_position:"liveroom_tab",position_in_recom:+e+1,recom_type:"video",host_id:t.user_id,video_id:t.live_id,video_time:t.video_length,video_watch_cnt:t.view_num,m_total_count:t.view_num,game_key:t.game_key,category_key:t.category_key,event_id:"C_ROOM_REC_EXPOSE",game_type:(null===(t=null==t?void 0:t.game_info)||void 0===t?void 0:t.game_type)||""}))},type:t,stateFrom:Rr.a.liveroom_recom_bottom,subStatus:null==a?void 0:a.sub_status})}):$.a.createElement(zl.a,{className:"empty-content"}):e===Jn.g.LOADING?$.a.createElement(Wl,null,$.a.createElement(ea.a,{size:36})):$.a.createElement(Va.a,{errorMessage:l.message,retry:d}),$.a.createElement(Bl,null,l)}function Al(){var e=Object(Z.useContext)(ao).width,n=(r=Object(Z.useContext)(fe.a)).roomId,t=r.anchorInfo,a=r.loading,i=Object(ee.g)(),r=void 0===(o=Object(ee.i)().tab)?Yl:o,o=Object(Z.useCallback)(function(e){var t=Cl[e].route,e=te.g.replace(":room_id","".concat(n)),e=t===Yl?e.replace("/:tab?",""):e.replace(":tab?",t);i.replace(e)},[i,n]);return Kl.includes(r)?$.a.createElement(ql,null,$.a.createElement(Nl,{activeRoute:r,setTab:o,roomId:n}),r===Cl.LIVE.route&&!a&&$.a.createElement(Re.a,null,$.a.createElement(Tl,{roomId:n,channelkey:t.channelKey})),r===Cl.PLAYBACK.route&&$.a.createElement(Re.a,null,$.a.createElement("div",{className:"romm-relative-wrapper"},$.a.createElement(Sl,{userId:n}))),r===Cl.TIMELINE.route&&$.a.createElement(Re.a,null,$.a.createElement("div",{className:"romm-relative-wrapper"},$.a.createElement(kl.a,{userId:n}))),r===Cl.HOSTTEAM.route?$.a.createElement(Re.a,null,$.a.createElement("div",{className:"romm-relative-wrapper"},$.a.createElement(jl.a,{userId:n,containerWidth:e}))):null):$.a.createElement(ee.a,{to:te.g.replace(":room_id","".concat(n)).replace("/:tab?","")})}function Ll(){return $.a.createElement(ee.b,{path:te.g,render:function(){return $.a.createElement(Al,null)}})}var Dl=T.default.div.withConfig({componentId:"sc-1ejf92-0"})(["padding:20px 15px 0 20px;display:flex;align-items:center;",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";"],e?"#2E3033":"#fff")}),Pl=T.default.div.withConfig({componentId:"sc-1ejf92-1"})(["margin-right:30px;cursor:pointer;font-size:18px;font-weight:bold;border-width:0 0 4px 0;border-style:solid;padding-bottom:11px;",""],function(e){e=e.active;return Object(T.css)(["color:",";border-color:",";"],e?"var(--color-primary)":"var(--text-color-secondary)",e?"var(--color-primary)":"transparent")}),Rl=Object.keys(Cl),zl=n("n+8t"),Ml=n("T0Mm"),Gl=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Fl=T.default.div.withConfig({componentId:"mm9kzy-0"})(["font-size:0;> .empty-content{margin-top:150px;}"]),Ul=T.default.div.withConfig({componentId:"mm9kzy-1"})(["width:100%;margin:50px auto;text-align:center;"]),Hl=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Bl=T.default.div.withConfig({componentId:"sc-1nvyxq8-0"})(["font-size:0;> .empty-content{margin-top:150px;}"]),Wl=T.default.div.withConfig({componentId:"sc-1nvyxq8-1"})(["width:100%;margin:50px auto;text-align:center;"]),ql=T.default.div.withConfig({componentId:"xr43zp-0"})(["margin-top:10px;> .romm-relative-wrapper{margin:10px;}"]),Kl=Object.values(Cl).map(function(e){return e.route}),Yl=Cl.LIVE.route,rn=n("LPRd"),Vl=Object(T.default)(rn.a).withConfig({componentId:"s5dxz-0"})(["z-index:2;position:fixed;bottom:40px;right:390px;@media only screen and (max-width:900px){right:20px;}"]),Xl=n("55Ip"),Ql=n("Edz2"),Jl=n("qmwm"),Zl=n("bpoT"),$l=n("ydvT");function es(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ts(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw i}}}}function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ns(e){var o=e.width,a=(c=Object(Z.useContext)(fe.a)).roomId,i=c.anchorInfo,t=Object(Z.useState)([]),r=(e=ne()(t,2))[0],n=e[1],c=Object(Z.useState)(Jn.g.NOT_START),e=(t=ne()(c,2))[0],l=t[1],c=Object(Z.useState)(),c=(t=ne()(c,2))[0],s=t[1],u=Object(Z.useRef)(new Set),f=Object(Z.useRef)([]),d=Object(Zl.b)().jumpTo,p=Object(Z.useCallback)(function(){l(Jn.g.LOADING),Object(A.T)({query:2,roomId:a,limit:30,page:1}).then(function(r){n(function(e){var t=r.result||[],n=Y()(e),a=es(t);try{for(a.s();!(i=a.n()).done;){var i=i.value;u.current.has(i.clip_id)||(u.current.add(i.clip_id),n.push(i))}}catch(e){a.e(e)}finally{a.f()}return n}),l(Jn.g.SUCCESS)}).catch(function(e){K.a.error(e,{description:"获取直播间下剪辑视频失败",report:!0}),s(e),l(Jn.g.ERROR)})},[a]),m=Object(Z.useCallback)(function(e){var t=e.currentTarget.dataset.index,n=r[t].source_info;ct.a.handleDataCount({lt:"rec_stat",ct:"click",dt:"client",et:"liveroom",content_type:"video_clip",position:t,host_id:n.user_id,host_level:n.level,live_Id:n.id,live_status:11===n.anchor_live?1:0,level:n.level,m_total_count:n.viewers,live_type:n.live_type,live_subtype:n.live_subtype,host_official_type:n.anchor_group&&n.anchor_group[0]||"",game_key:n.category_key,game_type:null===(n=n.category_info)||void 0===n?void 0:n.platform,report_data:(null===(n=r[t])||void 0===n?void 0:n.report_data)||"",rec_reason:(null===(n=r[t])||void 0===n?void 0:n.rec_reason)||""}),d({curClipId:r[t].clip_id,cacheList:r,pageSize:30,source:$l.b.room,extData:{query:2,roomId:a}}),e.preventDefault(),e.stopPropagation()},[r,d,a]),g=Object(Z.useCallback)(function(e){var t,n=r[e],a=r[e].source_info;null!==(t=f.current)&&void 0!==t&&t.includes(n.clip_id)||(null!==(t=f.current)&&void 0!==t&&t.push(n.clip_id),ct.a.handleDataCount({lt:"rec_stat",ct:"expose",dt:"client",et:"liveroom",content_type:"video_clip",position:e,host_id:a.user_id,host_level:a.level,live_Id:a.id,live_status:11===a.anchor_live?1:0,level:a.level,m_total_count:a.viewers,live_type:a.live_type,live_subtype:a.live_subtype,host_official_type:a.anchor_group&&a.anchor_group[0]||"",game_key:a.category_key,game_type:null===(a=a.category_info)||void 0===a?void 0:a.platform,report_data:(null===(a=r[e])||void 0===a?void 0:a.report_data)||"",rec_reason:(null===(e=r[e])||void 0===e?void 0:e.rec_reason)||""}))},[r]);return Object(Z.useEffect)(function(){if(i.canClip){var t=!1,n=setInterval(function(){var e=Date.now()-i.liveStartTime;!t&&6e4<=e&&(t=!0,p(),clearInterval(n))},1e3);return function(){clearInterval(n)}}},[i.canClip,i.liveStartTime,p]),Object(Z.useEffect)(function(){i.living||n([])},[i.living]),r&&0!==r.length?$.a.createElement(rs,null,$.a.createElement("div",{className:"header"},$.a.createElement("div",{className:"bar"}),$.a.createElement("div",{className:"title"},Object(ue.f)("clip_title")),4<r.length&&$.a.createElement(Xl.b,{className:"more",to:"".concat(te.h.VIDEO,"/clip?from=live&room_id=").concat(a,"&title=").concat(Object(Ql.a)(i))},Object(ue.f)("view_more"))),$.a.createElement("div",{className:"content"},e===Jn.g.ERROR&&$.a.createElement(Va.a,{errorMessage:c.message,retry:p}),e===Jn.g.LOADING&&new Array(Jl.a.getCardAmountPerLine(o)).fill(0).map(function(e,t){return $.a.createElement(is,{key:t,containerWidth:o})}),e===Jn.g.SUCCESS&&r&&0<r.length&&r.slice(0,4).map(function(e,t){var n=e.title,a=e.cover,i=e.user_info.loginname,r=e.likes,e=e.clip_id;return $.a.createElement(as,{key:t,id:e,name:i,title:n,cover:a,like:r,"data-index":t,onClick:m,containerWidth:o,onEnter:function(){return g(t)}})}))):null}var as=Object(T.default)(Jl.a).withConfig({componentId:"sc-106900g-0"})(["margin:10px;"]),is=Object(T.default)(Jl.a.Skeleton).withConfig({componentId:"sc-106900g-1"})(["margin:10px;"]),rs=T.default.div.withConfig({componentId:"sc-106900g-2"})(["margin-top:10px;padding:20px 10px 10px 10px;> .header{padding:0 10px;display:flex;width:100%;align-items:center;margin-bottom:14px;> .bar{flex-shrink:0;background-color:#20bef3;width:4px;height:20px;border-radius:50px;margin-right:14px;}> .title{flex-shrink:0;font-size:20px;font-weight:bold;color:var(--text-color-primary);}> .more{text-align:right;font-size:12px;line-height:16px;color:#999999;cursor:pointer;margin-left:auto;}}",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";"],e?"#2E3033":"#fff")}),bt=n("sEfC"),os=n.n(bt),cs=n("jp0t"),ls=function(e){if(!e.endpoint)throw new Error("push subscription 'endpoint' missing");if(!e.keys)throw new Error("push subscription 'keys' missing");if(!e.keys.auth)throw new Error("push subscription 'keys.auth' missing");if(!e.keys.p256dh)throw new Error("push subscription 'keys.p256dh' missing");cs.a.request({method:cs.a.METHOD.POST,path:"/nonolive/msgbox/message/config/webSubscription",data:{subscription:e,clear:0}})},_t=n("n5Vj"),ss=n.n(_t),us=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},fs=function(){return"serviceWorker"in navigator},ds=new(function(){function e(){ir()(this,e),this.registration=null,this.isSupportServiceWorker=fs}return rr()(e,[{key:"register",value:function(){return us(this,void 0,void 0,Ka.a.mark(function e(){return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.isSupportServiceWorker()&&ss.a.register());case 1:case"end":return e.stop()}},e,this)}))}},{key:"getCurrentRegistration",value:function(){return us(this,void 0,void 0,Ka.a.mark(function e(){return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.registration)return e.abrupt("return",this.registration);e.next=2;break;case 2:if(this.register()){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("service worker runtime not available")));case 5:return this.registration=this.register(),e.abrupt("return",this.registration);case 7:case"end":return e.stop()}},e,this)}))}}]),e}()),ps=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},ms="BK03Omfu-YnhAggu_Falacue4JdPl14TR4My6UVCmpUXHgscGCHflRozCFDE6q63ank0IH8eGJ7DKNGrQ7IKOV4",gs=7200;function bs(){return"PushManager"in window&&"serviceWorker"in navigator}function hs(){return ps(this,void 0,void 0,Ka.a.mark(function e(){var t;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ds.getCurrentRegistration();case 2:return t=e.sent,e.next=5,t.pushManager.getSubscription();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}))}var _s=function(e){for(var e=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),t=atob(e),n=new Uint8Array(t.length),a=0;a<t.length;a+=1)n[a]=t.charCodeAt(a);return n};function vs(){return ps(this,void 0,void 0,Ka.a.mark(function e(){var t,n;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Bn.d())return K.a.error(new Error("fail to subscribe push: notification permission is denied"),{description:"subscribe error."}),e.abrupt("return");e.next=3;break;case 3:if(V.a.getState().user){e.next=6;break}return K.a.error(new Error("cannot be enabled logged out"),{description:"fail to subscribe push."}),e.abrupt("return");case 6:return e.next=8,hs();case 8:if(t=e.sent){e.next=16;break}return e.next=12,ds.getCurrentRegistration();case 12:return n=e.sent,e.next=15,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_s(ms)});case 15:t=e.sent;case 16:return n=t?t.toJSON():{},e.prev=17,e.next=20,function(t){return ps(this,void 0,void 0,Ka.a.mark(function e(){return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(t);case 2:Wn.a.setex(Be.eb,gs,1);case 3:case"end":return e.stop()}},e)}))}(n);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(17),K.a.error(e.t0,{description:"update push subscription to server fail."});case 25:case"end":return e.stop()}},e,null,[[17,22]])}))}function xs(e){return e.stopPropagation()}function Es(e){var t=e.mini,n=e.tipVisible,e=e.closeTip;return $.a.createElement(Ss,{mini:t},$.a.createElement(Ns.a,{isFollowing:!1,isMid:t}),n?$.a.createElement("div",{className:"tip",onClick:xs},$.a.createElement("img",{src:Ts,alt:"mildom",className:"logo"}),$.a.createElement("div",{className:"text"},Object(ue.f)("kol_follow_lead_tip")),$.a.createElement("div",{className:"arrow"}),$.a.createElement(X.b,{className:"close",name:X.a.CLOSE,size:16,onClick:e})):null)}function ys(e){var t=e.mini,n=e.anchorInfo,a=Object(Z.useState)(!n.living),a=(e=ne()(a,2))[0],i=e[1];return $.a.createElement(Cs.b,{followedComponent:$.a.createElement(Ns.a,{isFollowing:!0,isMid:t}),notFollowComponent:$.a.createElement(Es,{mini:t,tipVisible:a,closeTip:function(){return i(!1)}}),followUserId:n.anchorId,followCallback:function(){Yn.b.emit(Yn.a.FOLLOW_SOMEONE,n.anchorId),ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"quick_follow",ft:"follow"}),bs()&&Bn.c()&&!Wn.a.get(Be.db)&&de.h.emit(de.g.OPEN_WEB_PUSH_PERMISSION_DIALOG)},unfollowCallback:function(){return Yn.b.emit(Yn.a.UNFOLLOW_SOMEONE,n.anchorId)},guestUnFollowCallback:function(){Yn.b.emit(Yn.a.UNFOLLOW_SOMEONE,n.anchorId)},guestFollowCallback:function(){Yn.b.emit(Yn.a.FOLLOW_SOMEONE,n.anchorId)},needToConfirm:!0,confirmText:Object(ue.f)("unfollow_confirm_text"),anchorInfo:n,from:Cs.a.liveRoom})}function Os(e){var t=e.isJoin,n=void 0!==(a=e.isMini)&&a,a=e.name,e=Ds(e,["isJoin","isMini","name"]);return n?$.a.createElement(Ls.MiniContainer,Da()({className:t?"has":"no"},e),$.a.createElement("img",{src:As,alt:""})):$.a.createElement(Ls.Container,Da()({className:t?"has":"no"},e),$.a.createElement("img",{src:As,alt:""}),$.a.createElement("span",null,a))}function ws(e){var t=e.mini,n=e.joined,a=e.anchorInfo,e=e.fansGroupName;return $.a.createElement(Os,{isMini:t,isJoin:n,name:e,onClick:function(){var e=V.a.getState().user,t={lt:"click",af:"liveroom",bf:"jioned_fansgroup",cf:"fansgroup",action:"entrance_click",room_id:a.anchorId,live_type:a.liveType,category_key:a.liveType===ie.d.SHOW?a.categoryKey:a.gameKey,host_official_type:a.anchorGroup&&a.anchorGroup[0]||"",site:"top_botton",user_type:e?"guest":"login_user"};e&&(t.user_id=e.user_id,t.user_level=e.level),ct.a.handleDataCount(t),de.h.emit(de.d.SHOW_DESC_WIN)}})}function ks(e){var t=e.fansGroup,n=e.isMini,e=e.isMid;return t&&t.fansBadge?$.a.createElement(Rs.a,{isMini:n,isMid:e,onClick:function(){Tn.a.getLoginStatus()?de.h.emit(de.g.OPEN_SUBSCRIPTION_DIALOG):V.a.dispatch(Object(Wt.c)(!0))},isSubscribing:t.isGroupMember}):null}function js(e){var t=e.logo,n=e.introduction,a=void 0!==(a=e.mini)&&a,e=Gs(e,["logo","introduction","mini"]);return $.a.createElement(Fs,Da()({},e,{title:n}),$.a.createElement("div",{className:"logo",style:{backgroundImage:"url(".concat(t,")")}}),a?null:$.a.createElement("div",{className:"introduction"},n))}function Is(e){var t=e.roomId,n=Object(Z.useState)(0),n=(e=ne()(n,2))[0],a=e[1];return Object(Z.useEffect)(function(){function e(e){return a(e.userCount||1)}return C.a.on(t,N.q,e),function(){return C.a.off(t,N.q,e)}},[t]),n?$.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"line"}),$.a.createElement(Hs,null,$.a.createElement(X.b,{className:"noci",name:X.a.FIRE,size:18}),$.a.createElement("span",{className:"text"},n))):null}var Cs=n("WVB/"),Ns=n("Hhm/"),Ts=n.p+"assets/file/b7b939bea5f72cd00b746cf1dfd3db6a.png",Ss=T.default.div.withConfig({componentId:"sc-1m87jbx-0"})(["position:relative;> .tip{z-index:1;position:absolute;right:0;bottom:calc(100% + 15px);width:300px;padding:20px;border-radius:4px;display:flex;align-items:flex-end;> .logo{width:60px;height:50px;}> .text{margin-left:10px;color:var(--text-color-primary);line-height:1.5;font-size:14px;}> .arrow{border-width:6px;border-style:solid;position:absolute;top:100%;}> .close{cursor:pointer;position:absolute;top:10px;right:10px;}}",""],function(e){var t=e.mini,e=e.theme.darkTheme;return Object(T.css)(["> .tip{background-color:",";box-shadow:",";> .arrow{right:","px;border-color:"," transparent transparent transparent;}> .close{color:",";}}"],e?"#2E3033":"#fff",e?"0px 2px 10px rgba(0, 0, 0, 0.6)":"0px 2px 10px rgba(0, 0, 0, 0.16)",t?18:59,e?"#2E3033":"#fff",e?"rgb(255 255 255 / 0.3)":"#ccc")}),As=n.p+"assets/file/4ad4c91c4c00f8073de010b87f5f19a0.png",Ls={Container:T.default.div.withConfig({componentId:"lu6ye7-0"})(["height:32px;display:inline-flex;align-items:center;color:#00a9fa;white-space:nowrap;cursor:pointer;border-radius:16px;padding:0 16px;&.has{background:rgba(0,169,250,0.2);}&.no{border:1px solid #00a9fa;&:hover{background:rgba(32,190,243,0.1);}}> img{width:28px;height:28px;}span{font-size:14px;font-family:'Yu Gothic UI',sans-serif;letter-spacing:-1px;margin-left:4px;flex:0 0 auto;text-align:center;}"]),MiniContainer:T.default.div.withConfig({componentId:"lu6ye7-1"})(["width:48px;height:32px;flex-shrink:0;cursor:pointer;border-radius:16px;&.has{background:rgba(0,169,250,0.1);}&.no{border:1px solid #00a9fa;}> img{width:28px;height:28px;margin-left:10px;margin-top:2px;}"])},Ds=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n},Ps=n("nt+y"),Rs=n("y+UA"),zs=T.default.div.withConfig({componentId:"sc-1vkzgbk-0"})(["display:flex;align-items:center;> *{&:not(:last-child){margin-right:20px;}}> .title{flex:1;line-height:150%;font-weight:bold;color:var(--text-color-primary);font-size:20px;","}"],en.a),Ms=Object(i.b)(function(e){return{user:e.user}})(function(e){var t=e.user,n=e.containerWidth,a=e.anchorInfo,i=e.fansGroupInteractionData,r=Object(Ps.a)({anchorInfo:a}).guestGz,e=n<=960,n=t&&t.user_id===a.anchorId,t=a.anchorIntro||ie.b[a.liveType].defaultLiveIntroduction;return $.a.createElement(zs,null,$.a.createElement("div",{className:"title",title:t},t),n?null:$.a.createElement($.a.Fragment,null,$.a.createElement(ys,{mini:e,anchorInfo:a}),i.has_unlock&&(a.ifFollow||r||1===i.has_join)?$.a.createElement(ws,{mini:e,joined:!!i.has_join,anchorInfo:a,fansGroupName:i.fans_group_name}):null,a.fansGroup?$.a.createElement(ks,{fansGroup:a.fansGroup,isMid:e}):null))}),Gs=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n},Fs=T.default.div.withConfig({componentId:"sc-133ns6p-0"})(["display:flex;align-items:center;> .logo{border-radius:50%;width:20px;height:20px;background-size:cover;background-position:center;}> .introduction{margin-left:-13px;color:var(--color-primary);background-color:rgba(45,162,245,0.1);font-size:12px;padding:2px 8px 2px 15px;border-radius:10px;}"]),Us=n("t3Xz"),Hs=T.default.div.withConfig({componentId:"qbmfd9-0"})(["display:flex;align-items:center;> .noci{color:inherit;margin-bottom:1px;}"]),Bs=n("YIgd"),Ws=n.p+"assets/file/976a07115e76f4d43abf203b988ef801.png",qs=n.p+"assets/file/976a07115e76f4d43abf203b988ef801.png",Ks=n("MC2u"),Ys=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})};function Vs(e){return"".concat(window.location.origin,"/").concat(e,"?ts=").concat(Date.now(),"&from=pcShare")}function Xs(e){var t=e.roomId,n=e.title,a=e.gameKey,t=(e=du({roomId:t,title:n,gameKey:a})).onTwitterShare,n=e.onFacebookShare,a=e.onLineShare,i=e.onCopyLink,a=[{label:"Twitter",icon:pu,handler:t},{label:"Facebook",icon:mu,handler:n},{label:"LINE",icon:gu,handler:a},{label:"Copy link",icon:bu,handler:function(){return i().then(function(){return I.d.success(Object(ue.f)("share_copied"))})}}];return $.a.createElement(hu,null,a.map(function(e){var t=e.label,n=e.icon,e=e.handler;return $.a.createElement("div",{className:"item",onClick:e,key:t},$.a.createElement("img",{className:"noci",src:n,alt:t}),$.a.createElement("div",{className:"label"},t))}))}function Qs(e){var t=e.roomId,n=e.title,a=e.gameKey,e=Object(Z.useState)(!1),i=(e=ne()(e,2))[0],r=e[1];return Object(Z.useEffect)(function(){if(i){var e=function(){return setTimeout(function(){return r(!1)},0)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}},[i]),$.a.createElement(_u,null,$.a.createElement("div",{className:"noci",onClick:function(){return r(!0)}}),i?$.a.createElement(Bs.b,{className:"popup",placement:Bs.a.TOP,arrowX:"calc(100% - 30px)"},$.a.createElement(Xs,{roomId:t,title:n,gameKey:a})):null)}function Js(e){var t=e.openUninterestDialog,e=e.openReportDialog,t=[{label:Object(ue.f)("cmm_report"),handler:e},{label:Object(ue.f)("uninterest"),handler:t}];return $.a.createElement(wu,null,t.map(function(e){var t=e.label,e=e.handler;return $.a.createElement("div",{className:"menu",onClick:e,key:t},t)}))}function Zs(e){var t,n,i=e.roomId,a=e.logId,r=e.channelKey,o=e.liveType,c=e.categoryKey,l=e.gameKey,s=(m=(d=Object(Z.useState)(!1),d=ne()(d,2),t=d[0],n=d[1],Object(Z.useEffect)(function(){if(t){var e=function(){return setTimeout(function(){return n(!1)},0)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}},[t]),{open:t,onOpen:function(){return n(!0)}})).open,u=m.onOpen,f=Object(Z.useState)(!1),d=(e=ne()(f,2))[0],p=e[1],m=Object(Z.useState)(!1),e=(f=ne()(m,2))[0],g=f[1],m=Object(Z.useState)(!1),m=(f=ne()(m,2))[0],b=f[1];return $.a.createElement(ju,null,$.a.createElement("div",{className:"noci",onClick:u}),s?$.a.createElement(Bs.b,{className:"popup",placement:Bs.a.TOP,arrowX:"calc(100% - 20px)"},$.a.createElement(Js,{openUninterestDialog:function(){return b(!0)},openReportDialog:function(){return V.a.getState().user?g(!0):V.a.dispatch(Object(Wt.c)(!0))}})):null,$.a.createElement(xu.a,{visible:e,type:1,onClose:function(){return g(!1)},onComplete:function(n,a){return ku(void 0,void 0,void 0,Ka.a.mark(function e(){var t;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=V.a.getState(),t=t.user,e.prev=1,e.next=4,Object(A.ic)({user_id:t.user_id,report_user_id:i,report_type:n,desc:a});case 4:return g(!1),p(!0),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),K.a.error(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[1,9]])}))}}),$.a.createElement(Eu.a,{visible:d,onClose:function(){return p(!1)}}),m?$.a.createElement(vu.a,{onClose:function(){return b(!1)},onConfirm:function(){return Object(A.pc)({host_id:i,channel_key:r,live_type:o,category_key:1===o?c:l,mark_type:1,mark_status:1}).catch(function(e){return K.a.error(e,{description:"不感兴趣失败",report:!0})}).finally(function(){return I.d.success(Object(ue.f)("uninterest_success"))})},hostId:i,liveId:a}):null)}function $s(e){return e=e.anchorTypeLogo,$.a.createElement(Iu,{src:e})}function eu(e){var t=e.containerWidth,n=e.title,a=e.anchorName,i=e.anchorLevel,r=e.anchorId,o=e.channelKey,c=e.channelName,l=e.certificationLogo,s=e.certificationIntroduction,u=e.logId,f=e.liveType,d=e.categoryKey,p=e.gameKey,e=e.anchorTypeLogo,t=o&&c&&720<=t;return $.a.createElement(Cu,null,$.a.createElement("div",{className:"left"},$.a.createElement(Xl.b,{className:"name",to:te.h.PROFILE.replace(":user_id/:tab?",r.toString()),title:a},a),$.a.createElement(Us.a,{level:i}),l&&s?$.a.createElement(js,{logo:l,introduction:s,mini:!0}):null,e?$.a.createElement($s,{anchorTypeLogo:e}):null,$.a.createElement("div",{className:"id"},"ID:",r),t?$.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"line"}),$.a.createElement(Xl.b,{className:"channel",to:te.b.CHANNEL_DETAIL.replace(":key/:tab?",o),title:c},c)):null,$.a.createElement(Is,{roomId:r})),$.a.createElement(Qs,{roomId:r,title:n,gameKey:p}),$.a.createElement(Zs,{roomId:r,logId:u,channelKey:o,liveType:f,categoryKey:d,gameKey:p}))}function tu(e){return e=e.liveTag,$.a.createElement(Nu,{to:"".concat(te.h.SEARCH,"?search_value=").concat(encodeURIComponent(e))},e)}function nu(e){return e=e.liveTagList,$.a.createElement(Tu,null,e.map(function(e){return $.a.createElement(tu,{key:e,liveTag:e})}))}function au(e){var t=e.containerWidth,n=e.style,a=(i=Object(Z.useContext)(fe.a)).loading,e=i.anchorInfo,i=i.fansGroupInteractionData;return a?null:$.a.createElement(Pu,{style:n},$.a.createElement(Xl.b,{className:"avatar-box",to:"".concat(te.h.PROFILE.replace(":user_id/:tab?",e.anchorId.toString()),"?from=1")},$.a.createElement($e.b,{src:e.avatar,size:60})),$.a.createElement("div",{className:"right"},$.a.createElement(Ms,{containerWidth:t,anchorInfo:e,fansGroupInteractionData:i}),$.a.createElement(eu,{containerWidth:t,title:e.anchorIntro,anchorName:e.name,anchorLevel:e.level,anchorId:e.anchorId,channelKey:e.channelKey,channelName:Object(ue.e)(e.channelLang).text,certificationLogo:e.certificationLogo,certificationIntroduction:e.certificationIntro,logId:e.logId,liveType:e.liveType,categoryKey:e.categoryKey,gameKey:e.gameKey,anchorTypeLogo:e.anchorTypeLogo}),e.liveTags&&e.liveTags.length?$.a.createElement(nu,{liveTagList:e.liveTags}):null,e.liveIntro?$.a.createElement(Du,{introduction:e.liveIntro}):null))}function iu(e){return $.a.createElement(Re.a,null,$.a.createElement(au,e))}function ru(e){var t=e.roomId,n=Object(Z.useState)(0),n=(e=ne()(n,2))[0],a=e[1];return Object(Z.useEffect)(function(){function e(e){return a(e.userCount||1)}return C.a.on(t,N.q,e),function(){return C.a.off(t,N.q,e)}},[t]),n?$.a.createElement(Ru,null,$.a.createElement(X.b,{className:"noci",name:X.a.FIRE,size:14}),$.a.createElement("div",{className:"text"},n)):null}function ou(e){var t=e.anchorInfo,e=e.self;return $.a.createElement(zu,null,$.a.createElement($e.b,{src:t.avatar,size:30}),$.a.createElement("div",{className:"info"},$.a.createElement("div",{className:"name"},t.name),$.a.createElement(ru,{roomId:t.anchorId})),e?null:$.a.createElement(Cs.b,{followedComponent:$.a.createElement(Ns.a,{isFollowing:!0,isMini:!0}),notFollowComponent:$.a.createElement(Ns.a,{isFollowing:!1,isMini:!0}),followUserId:t.anchorId,followCallback:function(){Yn.b.emit(Yn.a.FOLLOW_SOMEONE,t.anchorId),ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"quick_follow",ft:"follow"}),bs()&&Bn.c()&&!Wn.a.get(Be.db)&&de.h.emit(de.g.OPEN_WEB_PUSH_PERMISSION_DIALOG)},unfollowCallback:function(){return Yn.b.emit(Yn.a.UNFOLLOW_SOMEONE,t.anchorId)},guestUnFollowCallback:function(){Yn.b.emit(Yn.a.UNFOLLOW_SOMEONE,t.anchorId)},guestFollowCallback:function(){Yn.b.emit(Yn.a.FOLLOW_SOMEONE,t.anchorId)},needToConfirm:!0,confirmText:Object(ue.f)("unfollow_confirm_text"),anchorInfo:t,from:Cs.a.liveRoom}))}function cu(e){var t=e.joined,n=e.anchorInfo;return $.a.createElement(Fu,{onClick:function(){var e=V.a.getState().user,t={lt:"click",af:"liveroom",bf:"jioned_fansgroup",cf:"fansgroup",action:"entrance_click",room_id:n.anchorId,live_type:n.liveType,category_key:n.liveType===ie.d.SHOW?n.categoryKey:n.gameKey,host_official_type:n.anchorGroup&&n.anchorGroup[0]||"",site:"top_botton",user_type:e?"guest":"login_user"};e&&(t.user_id=e.user_id,t.user_level=e.level),ct.a.handleDataCount(t),de.h.emit(de.d.SHOW_DESC_WIN)}},$.a.createElement("img",{src:t?Gu:Mu,alt:"fans group"}))}function lu(){var e,t,n,a=Object(Z.useContext)(fe.a),i=a.layout,r=a.anchorInfo,o=a.playMode,c=a.roomId,l=a.chatPanelType,s=a.loading,u=a.isAdmin,f=a.luckyDraw,d=a.adminType,p=a.headlineEnable,m=a.currentHeadline,g=(_=(e=c,h=Object(Z.useState)(!1),_=ne()(h,2),a=_[0],t=_[1],n=Object(Z.useRef)(null),h=Object(Z.useCallback)(os()(function(){var e=n.current.scrollTop;t(300<=e)},300),[]),_=Object(Z.useCallback)(function(){n.current.scrollTop=0},[]),Object(Z.useLayoutEffect)(function(){n.current.scrollTop=0},[e]),{visible:a,toTop:_,ref:n,onScroll:h})).visible,b=_.toTop,h=_.ref,_=_.onScroll;return $.a.createElement($.a.Fragment,null,$.a.createElement(Re.a,null,$.a.createElement(Yu,{ref:h,onScroll:_},function(e){var t=e.width,e=e.height;return $.a.createElement(no,{value:{width:t}},i===ce.h.NORMAL&&g?$.a.createElement(Vl,{onClick:b}):null,$.a.createElement(_r,{containerWidth:t,containerHeight:e},$.a.createElement($.a.Fragment,null,i===ce.h.THEATER?$.a.createElement(Wu,{className:qu.a}):null,$.a.createElement(U,null),$.a.createElement(xe,null))),i!==ce.h.FULLSCREEN&&o===ce.k.LIVE?$.a.createElement(ac,null):null,i===ce.h.NORMAL?$.a.createElement($.a.Fragment,null,$.a.createElement(iu,{containerWidth:t,style:Vu}),$.a.createElement(ns,{width:t}),$.a.createElement(Ll,null)):null)})),$.a.createElement(Re.a,null,$.a.createElement(Ca.b,{isFullScreen:i===ce.h.FULLSCREEN},o===ce.k.LIVE&&$.a.createElement("div",{style:{display:i!==ce.h.FULLSCREEN?"block":"none"}},$.a.createElement(Re.a,null,$.a.createElement(Na.a,{anchorInfo:r,type:Jn.k,visible:!0}))),$.a.createElement(Ta.a,{popoutMode:"chat",roomId:c,loading:s,roomSettingPage:!1,anchorInfo:r,layout:i,isAdmin:u,luckyDraw:f,playMode:o,adminType:d,roomType:So.d.NORMAL,headlineEnable:p,currentHeadline:m,openHeadlineDialog:function(){if(m){var e={lt:"rec_stat",af:"live_room",bf:"grab_headline",cf:"banner",action:"click",headline_id:m.id,live_type:r.liveType,headline_type:m.replacement?2:1,user_type:1,giver_id:m.sendUserId,recipient_id:r.anchorId,gift_id:m.giftId,gift_amount:m.giftAmount,gift_coins:m.giftTotalPrice,room_id:r.anchorId};return r.liveType===ie.d.GAME?e.game_key=r.gameKey:e.category_key=r.categoryKey,ct.a.handleDataCount(e),Ku.b.emit(Ku.a.OPEN_DIALOG,{headline:m,source:Un.b.BANNER})}}}),l!==ce.g.REALTIME_PLAYBACK_PLAYBACK&&$.a.createElement(Ca.a,null,$.a.createElement(wl,null),$.a.createElement(Hc,null)))))}function su(){return $.a.createElement(Zu,null,$.a.createElement("div",{className:"room-anchor-panel__avatar-container"},$.a.createElement(Qu.a.Circle,{size:40})),$.a.createElement("div",{className:"room-anchor-panel__info-container"},$.a.createElement("div",{className:"room-anchor-panel__anchor-intro"},$.a.createElement(Qu.a,{height:20,width:360})),$.a.createElement("div",{className:"room-anchor-panel__common-info"},$.a.createElement(Qu.a,{height:12,width:70}),$.a.createElement(Qu.a,{height:12,width:70}),$.a.createElement(Qu.a,{height:12,width:70}),$.a.createElement(Qu.a,{height:12,width:70}))),$.a.createElement("div",{className:"room-anchor-panel__side"},$.a.createElement(Qu.a,{height:32,width:84}),$.a.createElement(Qu.a,{height:32,width:84}),$.a.createElement(Qu.a.Circle,{size:34})))}function uu(e){var t=e.bannerPic,n=e.bannerLink,a=e.scrollRef,i=Object(Z.useRef)(null);return Object(Z.useLayoutEffect)(function(){var e=null,t=setTimeout(function(){var e=a.current;if(!e||!i)return!1;var t=i.current,n=0;t&&"number"==typeof t.height&&(n=t.height);e=e.scrollHeight-(window.innerHeight-44)-2;!function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=a.current.scrollTop;t<e&&a.current.scrollTo({top:e-t,behavior:"smooth"})}(Math.min(e,n-20))},1e3);return function(){clearTimeout(t),t=null,cancelAnimationFrame(e),e=null}},[]),$.a.createElement($u,{target:"_blank",bannerLink:n,href:Fr.a.addDistroInfoToUrl(n)},!!t&&$.a.createElement("img",{className:"match-room-banner",src:Fr.a.processServerImageUrl(t),ref:i,alt:""}))}function fu(e){var t=e.hostInfos,n=e.themeIcon;if(!t||t.length<2)return null;var i=void 0===(e=n.schedule_item_row)?"":e,r=void 0===(e=n.schedule_item_hover)?"":e,o=void 0===(n=n.schedule_item_active)?"":n;return $.a.createElement(rf,null,t.map(function(e){return $.a.createElement(of,{key:e.user_id,scheduleItemRow:i,scheduleItemHover:r,scheduleItemActive:o,className:(t=e,n=window.location.pathname,(a=t.custom_room_name)&&n==="/".concat(a)||Object(Ql.e)(t)&&n==="/".concat(t.user_id)||n==="/".concat(t.user_id)?"active":"")},$.a.createElement(Xl.b,{to:"/".concat(e.user_id)},$.a.createElement("div",{className:"ellipsis"},e.loginname),Object(Ql.d)(e)&&$.a.createElement("div",{className:"living"},$.a.createElement(ef.b,{size:8,color:ef.a.WHITE}))));var t,n,a}))}var du=function(e){var t=this,a=e.roomId,i=e.title,r=e.gameKey;return{onTwitterShare:Object(Z.useCallback)(function(){return Ys(t,void 0,void 0,Ka.a.mark(function e(){var t,n;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(A.lc)({roomId:a,platform:"Twitter"}),ct.a.handleDataCount({lt:"pcclick",ct:"liveroom",dt:"share",click_time:Object(Ye.b)("clickTime")||"",event_id:"C_ROOM_SHARE_CLICK",et:"Twitter"}),t=["Mildom"],r)return e.prev=4,e.next=7,Promise.race([Object(A.gb)(r),Object(Ks.a)(1e3)]);e.next=14;break;case 7:n=e.sent,t=[].concat(Y()((n.share_titles||[]).filter(function(e){return!!e})),Y()(t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),K.a.error(e.t0,{description:"获取游戏分享标签列表失败"});case 14:return e.abrupt("return",window.open("https://www.twitter.com/share?text=".concat(encodeURIComponent("".concat(i).concat(t.map(function(e){return" #".concat(e)}).join(""))),"&url=").concat(encodeURIComponent(Vs(a)))));case 15:case"end":return e.stop()}},e,null,[[4,11]])}))},[a,i,r]),onFacebookShare:Object(Z.useCallback)(function(){return Object(A.lc)({roomId:a,platform:"Facebook"}),ct.a.handleDataCount({lt:"pcclick",ct:"liveroom",dt:"share",click_time:Object(Ye.b)("clickTime")||"",event_id:"C_ROOM_SHARE_CLICK",et:"Line"}),window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(Vs(a))))},[a]),onLineShare:Object(Z.useCallback)(function(){return Object(A.lc)({roomId:a,platform:"Line"}),ct.a.handleDataCount({lt:"pcclick",ct:"liveroom",dt:"share",click_time:Object(Ye.b)("clickTime")||"",event_id:"C_ROOM_SHARE_CLICK",et:"Facebook"}),window.open("https://social-plugins.line.me/lineit/share?text=".concat(encodeURIComponent(i),"&url=").concat(encodeURIComponent(Vs(a))))},[a,i]),onCopyLink:Object(Z.useCallback)(function(){return ct.a.handleDataCount({lt:"pcclick",ct:"liveroom",dt:"share",click_time:Object(Ye.b)("clickTime")||"",event_id:"C_ROOM_SHARE_CLICK",et:"Copylink"}),window.navigator.clipboard.writeText(Vs(a))},[a])}},pu=n.p+"assets/file/058048ccd0d157463ef147367358a8c2.png",mu=n.p+"assets/file/d5541e62a47e7b5100a6dd41ede6721c.png",gu=n.p+"assets/file/4292539927e900dca6242b953564619b.png",bu=n.p+"assets/file/b5d81e6e91777546dc455959cbc66e41.png",hu=T.default.div.withConfig({componentId:"sc-1hrhz5b-0"})(["padding:20px;display:flex;align-items:center;> .item{&:not(:last-child){margin-right:20px;}cursor:pointer;display:flex;flex-direction:column;align-items:center;> .noci{width:48px;height:48px;}> .label{margin-top:5px;font-size:12px;color:var(--text-color-primary);white-space:nowrap;}}"]),_u=T.default.div.withConfig({componentId:"sc-2tqej2-0"})(["position:relative;> .noci{cursor:pointer;width:20px;height:20px;background-size:cover;background-position:cneter;}> .popup{z-index:1;position:absolute;bottom:calc(100% + 10px);right:-20px;}",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["> .noci{background-image:url(",");}"],e?qs:Ws)}),vu=n("SWY8"),xu=n("7bX1"),Eu=n("Tk9O"),yu=n.p+"assets/file/6e6ebcc2b012717420b6bc4c7315def7.png",Ou=n.p+"assets/file/6e6ebcc2b012717420b6bc4c7315def7.png",wu=T.default.div.withConfig({componentId:"sc-64cfzv-0"})(["display:flex;flex-direction:column;padding:5px 0;> .menu{white-space:nowrap;padding:8px 15px;cursor:pointer;font-size:12px;color:var(--text-color-primary);&:hover{color:var(--color-primary);}}"]),ku=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},ju=T.default.div.withConfig({componentId:"sc-6gb8my-0"})(["position:relative;> .noci{cursor:pointer;width:20px;height:20px;background-size:cover;background-position:cneter;}> .popup{position:absolute;bottom:calc(100% + 10px);right:-10px;}",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["> .noci{background-image:url(",");}"],e?Ou:yu)}),Iu=T.default.img.withConfig({componentId:"jup8dy-0"})(["width:20px;height:20px;"]),Cu=T.default.div.withConfig({componentId:"sc-14gyybb-0"})(["display:flex;align-items:center;> *{&:not(:last-child){margin-right:20px;}}> .left{flex:1;min-width:0;display:flex;align-items:center;color:var(--text-color-secondary);font-size:14px;> *{&:not(:last-child){margin-right:10px;}}> .line{width:1px;height:14px;}> .name{color:inherit;"," &:hover{color:var(--color-primary);}}> .channel{color:var(--color-primary);","}}",""],en.a,en.a,function(e){e=e.theme.darkTheme;return Object(T.css)(["> .left{> .line{background-color:",";}}"],e?"#3C3F43":"#EDEFF0")}),Nu=Object(T.default)(Xl.b).withConfig({componentId:"p1a129-0"})(["font-size:12px;color:var(--text-color-primary);height:20px;line-height:20px;border-radius:10px;padding:0 12px;margin:10px 10px 0 0;&:hover{color:var(--color-primary);background-color:rgba(32,190,243,0.1);}",""],function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";"],e?"#3C3F43":"#f5f5f5")}),Tu=T.default.div.withConfig({componentId:"as95bd-0"})(["display:flex;flex-wrap:wrap;align-items:center;"]),r=n("wMS7"),Su=n.n(r),Au=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,Lu=T.default.div.withConfig({componentId:"u7nnmt-0"})(["margin-top:10px;> .introduction{margin-right:150px;overflow:hidden;> .content{font-size:","px;color:var(--text-color-secondary);line-height:",";white-space:pre-line;a{color:var(--color-primary);}}}> .toggle{margin-top:10px;font-size:14px;color:var(--color-primary);cursor:pointer;}"],14,1.71),Du=$.a.memo(function(e){var t=e.introduction,n=Object(Z.useRef)(null),a=Object(Z.useState)(!1),i=ne()(a,2),r=i[0],o=i[1],e=Object(Z.useState)(0),a=ne()(e,2),i=a[0],c=a[1],e=Object(Z.useState)(!1),a=ne()(e,2),e=a[0],l=a[1];Object(Z.useLayoutEffect)(function(){var e=n.current.clientHeight;o(71.82<e),c(Math.max(71.82,e))},[t]);a=Object(Z.useMemo)(function(){return Su.a.sanitize(t.replace(new RegExp(Au,"g"),function(e){return'<a href="'.concat(e,'" target="_blank">').concat(e,"</a>")}),{ADD_ATTR:["target"]})},[t]);return $.a.createElement(Lu,null,$.a.createElement("div",{className:"introduction",style:{maxHeight:e?i:71.82}},$.a.createElement("div",{className:"content",ref:n,dangerouslySetInnerHTML:{__html:a}})),r?$.a.createElement("div",{className:"toggle"},$.a.createElement("span",{onClick:function(){return l(function(e){return!e})}},e?Object(ue.f)("profile_introduce_fold"):Object(ue.f)("profile_introduce_unfold"))):null)}),Pu=T.default.div.withConfig({componentId:"sc-1vx524e-0"})(["padding:20px;border-width:0 0 1px 0;font-size:0;> .avatar-box{vertical-align:top;display:inline-block;margin-right:","px;}> .right{vertical-align:top;width:calc(100% - ","px);display:inline-flex;flex-direction:column;> *{&:not(:last-child){margin-bottom:10px;}}}",""],10,70,function(e){e=e.theme.darkTheme;return Object(T.css)(["background-color:",";border-color:",";"],e?"#2E3033":"#fff",e?"#3C3F43":"#edeff0")}),mn="rgba(0, 0, 0, 0.4)",Ru=T.default.div.withConfig({componentId:"cnjhkb-0"})(["margin-top:3px;display:flex;align-items:center;color:rgb(255 255 255 / 0.7);> .noci{color:inherit;margin-bottom:2px;}> .text{font-size:12px;}"]),zu=T.default.div.withConfig({componentId:"sc-7b3ykw-0"})(["border-radius:","px;background:",";max-width:300px;display:flex;align-items:center;padding:10px;> .info{margin:0 10px;flex:1;min-width:0;display:flex;flex-direction:column;> .name{font-size:12px;color:rgb(255 255 255 / 0.9);","}}"],25,mn,en.a),Mu=n.p+"assets/file/eeb4137873d4dfd11f3338df6520cf23.png",Gu=n.p+"assets/file/4ad4c91c4c00f8073de010b87f5f19a0.png",Fu=T.default.div.withConfig({componentId:"dq2js5-0"})(["width:","px;height:","px;border-radius:50%;background:",";cursor:pointer;display:flex;align-items:center;justify-content:center;> img{width:32px;height:32px;}"],50,50,mn),Uu=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n},Hu=T.default.div.withConfig({componentId:"w58d6n-0"})(["display:flex;height:","px;> *{&:not(:last-child){margin-right:10px;}}"],50),Bu=T.default.div.withConfig({componentId:"w58d6n-1"})(["width:","px;height:","px;border-radius:50%;background:",";display:flex;align-items:center;justify-content:center;"],50,50,mn),Wu=Object(i.b)(function(e){return{user:e.user}})(function(e){var t=e.user,n=Uu(e,["user"]),a=Object(Z.useContext)(fe.a),i=a.anchorInfo,e=a.fansGroupInteractionData,a=Object(Ps.a)({anchorInfo:i}).guestGz,t=Boolean(t&&t.user_id===i.anchorId);return $.a.createElement(Hu,n,$.a.createElement(ou,{anchorInfo:i,self:t}),t?null:$.a.createElement($.a.Fragment,null,e.has_unlock&&(i.ifFollow||a||1===e.has_join)?$.a.createElement(cu,{joined:!!e.has_join,anchorInfo:i,fansGroupName:e.fans_group_name}):null,i.fansGroup?$.a.createElement(Bu,null,$.a.createElement(ks,{fansGroup:i.fansGroup,isMini:!0})):null))}),qu=n("fe75"),Ku=n("83By"),Yu=Object(T.default)(Hn.a).withConfig({componentId:"xb72g0-0"})(["flex:1;min-width:0;display:flex;flex-direction:column;scroll-behavior:smooth;overflow:auto;",""],ft.a),Vu={marginTop:10},Xu=n("BmRU"),Qu=n("db1X"),Ju=n("TbWM"),Zu=Object(T.default)(Ju.a).withConfig({componentId:"sc-100x8je-0"})([".room-anchor-panel__common-info{> div{margin-right:10px;}}.room-anchor-panel__side{> div{margin-left:20px;border-radius:16px;}}"]),$u=T.default.a.withConfig({componentId:"sc-1jjaivq-0"})(["display:flex;justify-content:center;overflow:hidden;position:relative;min-height:400px;"," .match-room-banner{width:100%;object-fit:cover;}"],function(e){return!e.bannerLink&&"pointer-events: none;"}),ef=n("9Smi"),tf=n.p+"assets/file/3813f3a00066aabb0728aaae1eafffce.png",nf=n.p+"assets/file/2d1d0ca9f2400d2904e97aeba8bf7db1.png",af=n.p+"assets/file/b219239f8cbadd29b985fdc662046c53.png",rf=T.default.div.withConfig({componentId:"xpx544-0"})(["width:100%;position:absolute;left:0;top:0;transform:translateY(-100%);display:flex;flex-wrap:wrap;.living{background-color:RGB(255,86,82);width:16px;height:16px;border-radius:50%;display:flex;align-items:center;justify-content:center;position:absolute;top:-3px;right:-3px;}"]),of=T.default.div.withConfig({componentId:"xpx544-1"})(["flex-shrink:0;font-size:14px;color:#b5b5b5;padding:0 10px;width:150px;height:45px;text-align:center;line-height:46px;background:"," no-repeat center/100%;margin-right:10px;margin-bottom:10px;position:relative;&:hover{background:"," no-repeat center/100%;}&.active{color:#fff;background:"," no-repeat center/100%;}"],function(e){e=e.scheduleItemRow;return"url(".concat(e?Fr.a.processServerImageUrl(e):tf,")")},function(e){e=e.scheduleItemHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):nf,")")},function(e){e=e.scheduleItemActive;return"url(".concat(e?Fr.a.processServerImageUrl(e):af,")")});var cf=n.p+"assets/svg/6cc13918c0d32511af6f3349b71c06ff.svg";var lf=n.p+"assets/svg/4c5221526bc4afa576d2f2a3b0f18637.svg";rn=n.p+"assets/svg/a34947a56ec6e437a5e50f8bbc18ba2b.svg";function sf(e){var a,t=e.match;function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.scrollTop;t<n&&(a=window.requestAnimationFrame(i.bind(null,e,t)),e.scrollTo(0,n-(n-t)/8))}return Object(Z.useEffect)(function(){return function(){cancelAnimationFrame(a)}},[a]),$.a.createElement(Cf,{matchStatus:t.match_status},$.a.createElement("div",{className:"fps-schedule__match-time"},t.match_time),$.a.createElement("div",{className:"fps-schedule__match-main"},$.a.createElement("div",{title:t.match_progress,className:"fps-schedule__match-name ellipsis"},t.match_progress),$.a.createElement("div",{className:"fps-schedule__match-state",onClick:function(){return function(e){var t;2===e&&(e=(t=document.querySelector(".match-room-container"))&&t.firstElementChild,t=document.querySelector(".match-room-banner"),e&&t&&(t=getComputedStyle(t),t=parseInt(t.height,10),parseInt(e.scrollTop,10)<=t||i(e,Math.max(0,t-20))))}.call(void 0,t.match_status)}},Nf[t.match_status])))}function uf(e){var r=e.scheduleInfo,t=e.themeIcon,n=Object(Z.useState)(0),a=ne()(n,2),i=a[0],o=a[1],c=Object(Z.useState)(0),l=(j=ne()(c,2))[0],s=j[1],u=Object(Z.useState)(0),f=(k=ne()(u,2))[0],d=k[1],p=Object(Z.useCallback)(function(){var e=r.data;return e&&0!==e.length&&e[f].matches||[]},[r,f]),m=Object(Z.useCallback)(function(){var e=r.data;return!!e&&7<e.length},[r]),g=Object(Z.useCallback)(function(){for(var e=p(),t=0,n=0;n<e.length;n+=1)if(1===e[n].is_default){t=n;break}var a=e.length-4,a=Math.min(t,a);s(a)},[p]);function b(){return 4<p().length}function h(){var e=p();return l+4<e.length}Object(Z.useEffect)(function(){!function(){var e=r.data;if(e){for(var t=0,n=0;n<e.length;n+=1)if(1===e[n].is_default){t=n;break}var a,i=0;m()&&(a=e.length-7,i=Math.min(t,a)),d(t),o(i)}}()},[]),Object(Z.useEffect)(function(){g()},[g]);var _=Object(Z.useCallback)(function(){return m()?147*i:0},[i,m]),v=Object(Z.useCallback)(function(){var e=r.data;return!!e&&i+7<e.length},[r,i]),x=Object(Z.useCallback)(function(){i<=0||o(i-1)},[i]),E=Object(Z.useCallback)(function(){v()&&o(i+1)},[v,i]);if(!r)return null;if(e=r.module_name,n=r.module_name_color,a=r.module_background_image,!(c=r.data)||0===c.length)return null;var u=void 0===(j=t.left_divider)?"":j,y=void 0===(k=t.schedule_item_row)?"":k,O=void 0===(j=t.schedule_item_hover)?"":j,w=void 0===(k=t.schedule_item_active)?"":k,k=void 0===(j=t.left_arrow_row)?"":j,t=void 0===(j=t.left_arrow_hover)?"":j,j=c[f].matches;return $.a.createElement(If,{className:"match-module__common-module",VISIBLE_DATES:7,DATE_WIDTH:147,VISIBLE_MATCHES:4,MATCH_WIDTH:256,isDatesAbleSlide:m(),isMatchesAbleSlide:b(),calcMatchesTransfrom:b()?256*l:0,calcDatesTransfrom:_(),bgImage:a},$.a.createElement(Of,{moduleNameColor:n,leftDivider:u},e),$.a.createElement("div",{className:"fps-schedule-container"},$.a.createElement("div",{className:"fps-schedule__dates"},$.a.createElement("div",{className:"fps-schedule__dates-container"},$.a.createElement("div",{className:"fps-schedule__dates-slider"},c.map(function(e,t){return $.a.createElement("div",{key:t,className:"fps-schedule__date-wrap"},$.a.createElement(wf,{scheduleItemRow:y,scheduleItemHover:O,scheduleItemActive:w,active:f===t,onClick:function(){(function(e){d(e)}).call(void 0,t)}},$.a.createElement("div",{className:"fps-schedule__date-time ellipsis"},e.date),$.a.createElement("div",{className:"fps-schedule__date-name ellipsis"},e.competition_progress)))}))),$.a.createElement(kf,{leftArrowRow:k,leftArrowHover:t,left:30,hidden:!m(),disabled:i<=0,className:"fps-schedule__left-small",onClick:x}),$.a.createElement(jf,{leftArrowRow:k,leftArrowHover:t,right:30,hidden:!m(),disabled:!v(),className:"fps-schedule__right-small",onClick:E})),$.a.createElement("div",{className:"fps-schedule__matches"},$.a.createElement("div",{className:"fps-schedule__matches-container"},$.a.createElement("div",{className:"fps-schedule__matches-slider"},j.map(function(e,t){return $.a.createElement("div",{key:t,className:"fps-schedule__match-wrap"},$.a.createElement(sf,{key:t,match:e}))}))),$.a.createElement(kf,{leftArrowRow:k,leftArrowHover:t,left:10,hidden:!b(),disabled:l<=0,className:"fps-schedule__left",onClick:function(){l<=0||s(l-1)}}),$.a.createElement(jf,{leftArrowRow:k,leftArrowHover:t,right:10,hidden:!b(),disabled:!h(),className:"fps-schedule__right",onClick:function(){h()&&s(l+1)}}))))}function ff(e){var r=e.scoreInfo,t=e.themeIcon,n=Object(Z.useState)(0),a=ne()(n,2),i=a[0],o=a[1],c=Object(Z.useState)(0),l=(T=ne()(c,2))[0],s=T[1],u=Object(Z.useState)(0),f=(C=ne()(u,2))[0],d=C[1],p=Object(Z.useState)(0),m=(N=ne()(p,2))[0],g=N[1],b=Object(Z.useCallback)(function(){var e=r.data;return e&&0!==e.length&&e[f].matches||[]},[r,f]),h=Object(Z.useCallback)(function(){var e=r.data;return!!e&&7<e.length},[r]),_=Object(Z.useCallback)(function(){for(var e=b(),t=0,n=0;n<e.length;n+=1)if(1===e[n].is_default){t=n;break}var a=e.length-8,a=Math.min(t,a);s(a)},[b]);function v(){return 8<b().length}Object(Z.useEffect)(function(){!function(){var e=r.data;if(e){for(var t=0,n=0;n<e.length;n+=1)if(1===e[n].is_default){t=n;break}var a,i=0;h()&&(a=e.length-7,i=Math.min(t,a)),d(t),o(i)}}()},[]),Object(Z.useEffect)(function(){_()},[_]);var x=Object(Z.useCallback)(function(){return h()?147*i:0},[i,h]),E=Object(Z.useCallback)(function(){var e=r.data;return!!e&&i+7<e.length},[r,i]),y=Object(Z.useCallback)(function(){i<=0||o(i-1)},[i]),O=Object(Z.useCallback)(function(){E()&&o(i+1)},[E,i]);if(!r)return null;var w=r.module_name,e=r.module_name_color,n=r.module_background_image;if(!(a=r.data)||0===a.length)return null;var c=b(),u=void 0===(T=t.left_divider)?"":T,k=void 0===(C=t.schedule_item_row)?"":C,j=void 0===(p=t.schedule_item_hover)?"":p,I=void 0===(N=t.schedule_item_active)?"":N,C=void 0===(T=t.left_arrow_row)?"":T,N=void 0===(p=t.left_arrow_hover)?"":p,t=(T=c[m]||{}).detail_type,p=T.table_data,T=T.image_link;return $.a.createElement(Df,{VISIBLE_DATES:7,DATE_WIDTH:147,VISIBLE_MATCHES:8,MATCH_WIDTH:124,activeMatch:m,isDatesAbleSlide:h(),isMatchesAbleSlide:v(),calcMatchesTransfrom:v()?124*l:0,calcDatesTransfrom:x(),bgImage:n,className:"match-module__common-module"},$.a.createElement(Of,{moduleNameColor:e,leftDivider:u},w),$.a.createElement("div",{className:"fps-score-container"},$.a.createElement("div",{className:"fps-schedule__dates"},$.a.createElement("div",{className:"fps-schedule__dates-container"},$.a.createElement("div",{className:"fps-schedule__dates-slider"},a.map(function(e,t){return $.a.createElement("div",{key:t,className:"fps-schedule__date-wrap"},$.a.createElement(wf,{scheduleItemRow:k,scheduleItemHover:j,scheduleItemActive:I,active:f===t,onClick:function(){return function(e){d(e)}.call(void 0,t)}},$.a.createElement("div",{className:"fps-schedule__date-name ellipsis"},e.competition_date)))}))),$.a.createElement(kf,{leftArrowRow:C,leftArrowHover:N,left:30,hidden:!h(),disabled:i<=0,className:"fps-schedule__left-small",onClick:y}),$.a.createElement(jf,{leftArrowRow:C,leftArrowHover:N,right:30,hidden:!h(),disabled:!E(),className:"fps-schedule__right-small",onClick:O})),$.a.createElement("div",{className:"fps-score__matches",hidden:c.length<2},$.a.createElement("div",{className:"fps-score__matches-container"},$.a.createElement("div",{className:"fps-score__matches-slider"},c.map(function(e,t){return $.a.createElement("div",{key:t,className:"fps-score__match-wrap"},$.a.createElement("div",{className:"fps-score__match-item ellipsis",onClick:function(){(function(e){g(e)}).call(void 0,t)}},e.competition_progress))}))),$.a.createElement(kf,{leftArrowRow:C,leftArrowHover:N,left:30,hidden:!v(),disabled:i<=0,className:"fps-schedule__left-small",onClick:function(){l<=0||s(l-1)}}),$.a.createElement(jf,{leftArrowRow:C,leftArrowHover:N,right:30,hidden:!v(),disabled:!E(),className:"fps-schedule__right-small",onClick:function(){var e;e=b(),l+8<e.length&&s(l+1)}})),"image"===t?$.a.createElement("div",{className:"fps-score__data-image-container"},$.a.createElement("img",{src:Fr.a.processServerImageUrl(T),alt:""})):$.a.createElement("div",{className:"fps-score__data-table-container"},p&&p.map(function(e,t){return $.a.createElement("div",{key:t,className:"fps-score__data-table-row"},e.map(function(e,t){return $.a.createElement(Pf,{key:t,type:e.type,value:e.value},$.a.createElement("span",null,e.value))}))}))))}function df(e){var t=e.teamInfo,n=e.themeIcon;if(!t)return null;var a=t.module_name,i=t.module_name_color,e=t.module_background_image,t=t.data,n=void 0===(n=n.left_divider)?"":n;return t&&0!==t.length?$.a.createElement(Rf,{className:"match-module__common-module",teams:t,bgImage:e},$.a.createElement(Of,{moduleNameColor:i,leftDivider:n},a),$.a.createElement("div",{className:"fps-team__list"},t.map(function(e,t){return $.a.createElement("div",{key:t,title:e.member_name,className:"fps-team__item"},$.a.createElement("img",{src:Fr.a.processServerImageUrl(e.member_icon),alt:e.member_name}))}))):null}function pf(e){var a,t=e.match;function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.scrollTop;t<n&&(a=window.requestAnimationFrame(i.bind(null,e,t)),e.scrollTo(0,n-(n-t)/8))}return Object(Z.useEffect)(function(){return function(){cancelAnimationFrame(a)}},[]),$.a.createElement(Hf,{matchStatus:t.match_status},$.a.createElement("div",{className:"moba-schedule__match-time"},t.match_time),$.a.createElement("div",{className:"moba-schedule__match-main"},$.a.createElement("div",{className:"moba-schedule__match-info"},$.a.createElement("div",{className:"moba-schedule__match-team"},$.a.createElement("img",{className:"moba-schedule__match-team-logo",src:Fr.a.processServerImageUrl(t.a_pic),alt:t.a_pic}),$.a.createElement("div",{className:"moba-schedule__match-team-name ellipsis"},t.a_name)),$.a.createElement("div",{className:"moba-schedule__match-progress"},t.a_point&&t.b_point?$.a.createElement("div",{className:"moba-schedule__match-score"},t.a_point,":",t.b_point):$.a.createElement("div",{className:"moba-schedule__match-vs"},"VS")),$.a.createElement("div",{className:"moba-schedule__match-team"},$.a.createElement("img",{className:"moba-schedule__match-team-logo",src:Fr.a.processServerImageUrl(t.b_pic),alt:t.b_pic}),$.a.createElement("div",{className:"moba-schedule__match-team-name ellipsis"},t.b_name))),$.a.createElement("div",{className:"moba-schedule__match-state",onClick:function(){return function(e){var t;2===e&&(e=(t=document.querySelector(".match-room-container"))&&t.firstElementChild,t=document.querySelector(".match-room-banner"),e&&t&&(t=getComputedStyle(t),t=parseInt(t.height,10),parseInt(e.scrollTop,10)<=t||i(e,Math.max(0,t-20))))}.call(void 0,t.match_status)}},Bf[t.match_status])))}function mf(e){var r=e.scheduleInfo,t=e.themeIcon,n=Object(Z.useState)(0),a=ne()(n,2),i=a[0],o=a[1],c=Object(Z.useState)(0),l=(y=ne()(c,2))[0],s=y[1],u=Object(Z.useState)(0),f=(O=ne()(u,2))[0],d=O[1],p=Object(Z.useCallback)(function(){var e=r.data;return e&&0!==e.length&&e[f].matches||[]},[r,f]),m=Object(Z.useCallback)(function(){var e=r.data;return!!e&&7<e.length},[r]),g=Object(Z.useCallback)(function(){for(var e=p(),t=0,n=0;n<e.length;n+=1)if(1===e[n].is_default){t=n;break}var a=e.length-4,a=Math.min(t,a);s(a)},[p]);function b(){return 4<p().length}function h(){var e=p();return l+4<e.length}Object(Z.useEffect)(function(){!function(){var e=r.data;if(e){for(var t=0,n=0;n<e.length;n+=1)if(1===e[n].is_default){t=n;break}var a,i=0;m()&&(a=e.length-7,i=Math.min(t,a)),d(t),o(i)}}()},[]),Object(Z.useEffect)(function(){g()},[g]);var _=Object(Z.useCallback)(function(){return m()?147*i:0},[i,m]),v=Object(Z.useCallback)(function(){var e=r.data;return!!e&&i+7<e.length},[r,i]),x=Object(Z.useCallback)(function(){i<=0||o(i-1)},[i]),E=Object(Z.useCallback)(function(){v()&&o(i+1)},[v,i]);if(!r)return null;if(e=r.module_name,n=r.module_name_color,a=r.module_background_image,!(c=r.data)||0===c.length)return null;var y=c[f].matches,O=void 0===(u=t.left_divider)?"":u,w=void 0===(u=t.schedule_item_row)?"":u,k=void 0===(u=t.schedule_item_hover)?"":u,j=void 0===(u=t.schedule_item_active)?"":u,u=void 0===(u=t.left_arrow_row)?"":u,t=void 0===(t=t.left_arrow_hover)?"":t;return $.a.createElement(Uf,{className:"match-module__common-module",VISIBLE_DATES:7,DATE_WIDTH:147,VISIBLE_MATCHES:4,MATCH_WIDTH:256,isDatesAbleSlide:m(),isMatchesAbleSlide:b(),calcMatchesTransfrom:b()?256*l:0,calcDatesTransfrom:_(),bgImage:a},$.a.createElement(zf,{moduleNameColor:n,leftDivider:O},e),$.a.createElement("div",{className:"moba-schedule-container"},$.a.createElement("div",{className:"moba-schedule__dates"},$.a.createElement("div",{className:"moba-schedule__dates-container"},$.a.createElement("div",{className:"moba-schedule__dates-slider"},c.map(function(e,t){return $.a.createElement("div",{key:t,className:"moba-schedule__date-wrap"},$.a.createElement(Mf,{scheduleItemRow:w,scheduleItemHover:k,scheduleItemActive:j,active:f===t,onClick:function(){(function(e){d(e)}).call(void 0,t)}},$.a.createElement("div",{className:"moba-schedule__date-time ellipsis"},e.date),$.a.createElement("div",{className:"moba-schedule__date-name ellipsis"},e.competition_progress)))}))),$.a.createElement(Gf,{leftArrowRow:u,leftArrowHover:t,left:-24,hidden:!m(),className:"moba-schedule__left-small",disabled:i<=0,onClick:x}),$.a.createElement(Ff,{leftArrowRow:u,leftArrowHover:t,right:-24,hidden:!m(),className:"moba-schedule__right-small",disabled:!v(),onClick:E}),$.a.createElement("div",null)),$.a.createElement("div",{className:"moba-schedule__matches"},$.a.createElement("div",{className:"moba-schedule__matches-container",style:{width:"".concat(1024,"px")}},$.a.createElement("div",{className:"moba-schedule__matches-slider"},y.map(function(e,t){return $.a.createElement("div",{key:t,className:"moba-schedule__match-wrap"},$.a.createElement(pf,{key:t,match:e}))}))),$.a.createElement(Gf,{leftArrowRow:u,leftArrowHover:t,left:-24,hidden:!b(),disabled:l<=0,className:"moba-schedule__left",onClick:function(){l<=0||s(l-1)}}),$.a.createElement(Ff,{leftArrowRow:u,leftArrowHover:t,right:-24,hidden:!b(),disabled:!h(),className:"moba-schedule__right",onClick:function(){h()&&s(l+1)}}))))}function gf(e){return e=e.team,$.a.createElement(Xf,{teamRank:e.team_rank},$.a.createElement("div",{className:"moba-score__group-team-rank"},$.a.createElement("i",null)),$.a.createElement("div",{className:"moba-score__group-team-info"},e.team_pic?$.a.createElement("img",{className:"moba-score__group-team-icon",src:Fr.a.processServerImageUrl(e.team_pic),alt:""}):null,$.a.createElement("div",{className:"moba-score__group-team-name ellipsis",title:e.team_name},e.team_name)),$.a.createElement("div",{className:"moba-score__group-team-win-lose ellipsis"},e.team_win_lose),$.a.createElement("div",{className:"moba-score__group-team-score ellipsis"},e.team_score))}function bf(e){var r=e.scoreInfo,t=e.themeIcon,n=Object(Z.useState)(0),a=ne()(n,2),i=a[0],o=a[1],c=Object(Z.useState)(0),l=(j=ne()(c,2))[0],s=j[1],u=Object(Z.useState)(0),f=(I=ne()(u,2))[0],d=I[1],p=Object(Z.useState)(0),m=(S=ne()(p,2))[0],g=S[1],b=Object(Z.useCallback)(function(){var e=r.data;return e&&0!==e.length&&e[f].matches||[]},[r,f]),h=Object(Z.useCallback)(function(){var e=r.data;return!!e&&7<e.length},[r]),_=Object(Z.useCallback)(function(){return 8<b().length},[b]),v=Object(Z.useCallback)(function(){for(var e,t=b(),n=0,a=0;a<t.length;a+=1)if(1===t[a].is_default){n=a;break}_()&&(e=t.length-8,e=Math.min(n,e)),s(e),g(n)},[b,_]);function x(){var e=b();return l+8<e.length}Object(Z.useEffect)(function(){!function(){var e=r.data;if(e){for(var t=0,n=0;n<e.length;n+=1)if(1===e[n].is_default){t=n;break}var a,i=0;h()&&(a=e.length-7,i=Math.min(t,a)),d(t),o(i)}}()},[]),Object(Z.useEffect)(function(){v()},[v]);var E=Object(Z.useCallback)(function(){return h()?147*i:0},[i,h]),y=Object(Z.useCallback)(function(){var e=r.data;return!!e&&i+7<e.length},[r,i]),O=Object(Z.useCallback)(function(){i<=0||o(i-1)},[i]),w=Object(Z.useCallback)(function(){y()&&o(i+1)},[y,i]);if(!r)return null;var k=r.module_name,e=r.module_name_color,n=r.module_background_image;if(!(a=r.data)||0===a.length)return null;var j=(c=b())[m]||{},I=void 0===(u=t.left_divider)?"":u,C=void 0===(p=t.schedule_item_row)?"":p,N=void 0===(S=t.schedule_item_hover)?"":S,T=void 0===(u=t.schedule_item_active)?"":u,S=void 0===(p=t.left_arrow_row)?"":p,p=void 0===(u=t.left_arrow_hover)?"":u,t=j.detail_type,u=j.table_data,j=j.image_link;return $.a.createElement(Vf,{className:"match-module__common-module",activeMatch:m,VISIBLE_DATES:7,DATE_WIDTH:147,VISIBLE_MATCHES:8,MATCH_WIDTH:124,isDatesAbleSlide:h(),isMatchesAbleSlide:_(),calcMatchesTransfrom:_()?124*l:0,calcDatesTransfrom:E(),bgImage:n},$.a.createElement(zf,{moduleNameColor:e,leftDivider:I},k),$.a.createElement("div",{className:"moba-score-container"},$.a.createElement("div",{className:"moba-schedule__dates"},$.a.createElement("div",{className:"moba-schedule__dates-container"},$.a.createElement("div",{className:"moba-schedule__dates-slider"},a.map(function(e,t){return $.a.createElement("div",{key:t,className:"moba-schedule__date-wrap"},$.a.createElement(Mf,{scheduleItemRow:C,scheduleItemHover:N,scheduleItemActive:T,active:f===t,onClick:function(){(function(e){d(e),v()}).call(void 0,t)}},$.a.createElement("div",{className:"moba-schedule__date-name ellipsis"},e.competition_date)))}))),$.a.createElement(Gf,{leftArrowRow:S,leftArrowHover:p,left:-24,hidden:!h(),className:"moba-schedule__left-small",disabled:i<=0,onClick:O}),$.a.createElement(Ff,{leftArrowRow:S,leftArrowHover:p,right:-24,hidden:!h(),className:"moba-schedule__right-small",disabled:!y(),onClick:w})),$.a.createElement("div",{className:"moba-score__matches",hidden:c.length<2},$.a.createElement("div",{className:"moba-score__matches-container"},$.a.createElement("div",{className:"moba-score__matches-slider"},c.map(function(e,t){return $.a.createElement("div",{key:t,className:"moba-score__match-wrap"},$.a.createElement("div",{className:"moba-score__match-item ellipsis",onClick:function(){(function(e){g(e)}).call(void 0,t)}},e.competition_progress))}))),$.a.createElement(Gf,{leftArrowRow:S,leftArrowHover:p,left:30,hidden:!_(),disabled:l<=0,className:"moba-schedule__left-small",onClick:function(){l<=0||s(l-1)}}),$.a.createElement(Ff,{leftArrowRow:S,leftArrowHover:p,right:30,hidden:!_(),className:"moba-schedule__right-small",disabled:!x(),onClick:function(){x()&&s(l+1)}})),"image"===t?$.a.createElement("div",{className:"moba-score__data-image-container"},$.a.createElement("img",{src:Fr.a.processServerImageUrl(j),alt:""})):$.a.createElement("div",{className:"moba-score__data-table-container"},u&&u.map(function(e,t){var n=e.name,a=e.header,e=e.body;return $.a.createElement("div",{key:t,className:"moba-score__data-group"},$.a.createElement("div",{className:"moba-score__data-group-name"},n),$.a.createElement("div",{className:"moba-score__data-group-header"},a&&a.map(function(e,t){return $.a.createElement("span",{key:t},e)})),$.a.createElement("div",{className:"moba-score__data-group-body"},e&&e.map(function(e,t){return $.a.createElement(gf,{key:t,team:e})})))}))))}function hf(e){var t=e.matchData,n=e.themeIcon;if(!t)return null;var a=t.competition_schedule,e=t.competition_detail,t=t.competition_members;return $.a.createElement(Qf,{key:"match-module"},a&&("fps"===a.competition_type?$.a.createElement(uf,{scheduleInfo:a,themeIcon:n}):$.a.createElement(mf,{scheduleInfo:a,themeIcon:n})),e&&("fps"===e.competition_type?$.a.createElement(ff,{scoreInfo:e,themeIcon:n}):$.a.createElement(bf,{scoreInfo:e,themeIcon:n})),$.a.createElement(df,{teamInfo:t,themeIcon:n}))}function _f(e){var t=e.data,n=e.activityId;return $.a.createElement(Zf,{href:Fr.a.addDistroInfoToUrl(t.link),rel:"noopener noreferrer",target:"_blank",className:"room-activity-entry",onClick:function(){ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"roomentry",ft:n})},styleData:t},$.a.createElement("img",{src:t.pic,className:"activity-entry-rank__pic",alt:""}),t.topTitle?$.a.createElement("div",{className:"activity-entry-rank__group-name ellipsis"},t.topTitle):null,$.a.createElement("div",{className:"activity-entry-rank__content"},$.a.createElement("div",{className:"activity-entry-rank__title ellipsis"},t.title),$.a.createElement("div",{className:"activity-entry-rank__main"},$.a.createElement("div",{className:"activity-entry-rank__main-rank-number"},99<t.number?"99+":t.number),$.a.createElement("div",{className:"activity-entry-rank__main-rank-desc ellipsis"},t.numberDesc))))}var bt=n.p+"assets/svg/ee0c77e5def735be090975f5c5e53b6e.svg",vf=T.default.div.withConfig({componentId:"ytlcx0-0"})(["width:100%;height:100%;display:flex;flex-direction:column;position:relative;overflow:auto;"," .match-room-container{background-color:",";overflow:visible;}.match-room__body{width:1800px;position:relative;margin:0 auto 20px auto;}@media screen and (max-width:2100px){.match-room__body{width:1650px;}}@media screen and (max-width:2000px){.match-room__body{width:1500px;}}@media screen and (max-width:1800px){.match-room__body{width:1380px;}}@media screen and (max-width:1700px){.match-room__body{width:1300px;}}@media screen and (max-width:1600px){.match-room__body{width:1200px;}}@media screen and (max-width:1460px){.match-room__body{width:1100px;}.match-room__body .room-activity-entrances{right:10px;}}.match-room__main{position:relative;",";}.match-room__player-area{margin-right:380px;display:flex;flex-direction:column;align-items:center;position:relative;"," ","}.match-room__player-container{position:relative;width:100%;padding-bottom:0;","}.match-room__player-wrapper{position:relative;top:0;left:0;width:100%;height:100%;}.match-room__chat{position:absolute;top:0;right:0;width:370px;height:100%;background-color:transparent;flex-shrink:0;"," "," .chat-panel{background-color:#15191b;border-color:#2c2e2e;}}.match-room__player__full-page-btn{cursor:pointer;position:absolute;right:0;top:50%;transform:translateY(-50%);width:14px;height:116px;background-size:100% 100%;"," background-image:url(",");&:hover{background-image:url(",");}","}"],ft.a,function(e){return e.themeColor||"#262626"},function(e){var t=e.fullPageMode;return(e.theatreMode||t)&&"z-index: ".concat(oc.a.THEATRE,";\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #262626;\n    .gift-panel {\n      border-radius: 0;\n    }")},function(e){var t=e.theatreMode,e=e.fullTheatreMode;return t&&"\n    width: calc(100% - 360px);\n    height: 100%;\n    background: #000;\n    .room_player_container{\n        padding-bottom: 0;\n      }\n    ".concat(e&&"width: 100%;\n        margin-right: 0;\n      ","\n   ")},function(e){return e.fullPageMode&&"\n    margin-right:0;\n    height: 100%;\n    width: calc(100%);\n   "},function(e){var t=e.theatreMode,e=e.fullPageMode;return(t||e)&&"\n      height: 100%;\n      flex: 1;\n    padding-bottom: 0;\n      "},function(e){var t=e.theatreMode,n=e.fullTheatreMode,e=e.fullPageMode;return(n&&t||e)&&"\n      right: -100%;\n      "},function(e){return e.theatreMode&&e.theme.darkTheme&&"\n      background-color: #2b2b2b;\n    "},function(e){return e.hiddenFullBtn&&Object(T.css)(["display:none;"])},rn,bt,function(e){return e.fullTheatreMode&&Object(T.css)(["background-image:url(",");&:hover{background-image:url(",");}"],cf,lf)}),xf=n.p+"assets/file/787987c22c35a2817ad1e62f8c2897e7.png",Ef=n.p+"assets/file/064f3cef000d330f432cedc8c8e8e348.png",yf=n.p+"assets/file/0fa0bdd2c771fb52dc7918273a3d01c2.png",Of=T.default.div.withConfig({componentId:"sc-12h99nv-0"})(["font-size:38px;font-weight:bold;line-height:51px;color:",";display:flex;justify-content:center;align-items:center;white-space:nowrap;&:before{content:'';width:430px;height:40px;background:"," no-repeat;background-size:contain;background-position:center;margin-right:10px;}&:after{content:'';width:430px;height:40px;transform:scale(-1,1);background:"," no-repeat;background-size:contain;background-position:center;margin-left:10px;}"],function(e){return e.moduleNameColor&&"#141720"},function(e){e=e.leftDivider;return"url(".concat(e?Fr.a.processServerImageUrl(e):xf,") ")},function(e){e=e.leftDivider;return"url(".concat(e?Fr.a.processServerImageUrl(e):xf,") ")}),wf=T.default.div.withConfig({componentId:"sc-12h99nv-1"})(["cursor:pointer;font-size:12px;color:#b5b5b5;padding:0 15px;width:150px;height:45px;background:"," no-repeat;background-size:100% 100%;display:flex;flex-direction:column;justify-content:center;align-items:center;&:hover{background:"," no-repeat;background-size:100% 100%;}",""],function(e){e=e.scheduleItemRow;return"url(".concat(e?Fr.a.processServerImageUrl(e):tf,") ")},function(e){e=e.scheduleItemHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):nf,") ")},function(e){return e.active&&Object(T.css)(["color:#fff;background:"," no-repeat;background-size:100% 100%;"],function(e){e=e.scheduleItemActive;return"url(".concat(e?Fr.a.processServerImageUrl(e):af,") ")})}),kf=T.default.div.withConfig({componentId:"sc-12h99nv-2"})(["background:"," no-repeat;background-size:contain;left:",";&:hover{background:"," no-repeat;background-size:contain;}",""],function(e){e=e.leftArrowRow;return e?"url(".concat(Fr.a.processServerImageUrl(e),")"):"url(".concat(Ef,") ")},function(e){e=e.left;return e?"".concat(e,"px"):"10px"},function(e){e=e.leftArrowHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):yf,") ")},function(e){return e.disabled&&Object(T.css)(["display:none;cursor:not-allowed;background:"," no-repeat;background-size:contain;"],function(e){e=e.leftArrowHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):yf,") ")})}),jf=T.default.div.withConfig({componentId:"sc-12h99nv-3"})(["background:"," no-repeat;background-size:contain;right:10px;right:",";transform:scale(-1,1) translateY(-50%);&:hover{background:"," no-repeat;background-size:contain;transform:scale(-1,1) translateY(-50%);}",""],function(e){e=e.leftArrowRow;return"url(".concat(e?Fr.a.processServerImageUrl(e):Ef,") ")},function(e){e=e.right;return e?"".concat(e,"px"):"10px"},function(e){e=e.leftArrowHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):yf,") ")},function(e){return e.disabled&&Object(T.css)(["display:none;cursor:not-allowed;background:"," no-repeat;background-size:contain;transform:scale(-1,1) translateY(-50%);"],function(e){e=e.leftArrowHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):yf,") ")})}),If=T.default.div.withConfig({componentId:"sc-1e2347n-0"})(["background-image:",";.fps-schedule-container{width:1100px;border-radius:8px;margin:25px auto 0 auto;padding:30px 0;}.fps-schedule__dates{width:1100px;margin:0 auto 25px;position:relative;}.fps-schedule__dates-container{margin:0 auto;overflow:hidden;width:",";}.fps-schedule__dates-slider{display:flex;transition:transform 0.2s ease-in-out;"," transform:","}.fps-schedule__date-wrap{width:147px;flex-shrink:0;display:flex;justify-content:center;}.fps-schedule__date-time{width:100%;text-align:center;margin-bottom:5px;}.fps-schedule__date-name{width:100%;text-align:center;}.fps-schedule__left,.fps-schedule__right{cursor:pointer;width:46px;height:46px;position:absolute;top:50%;}.fps-schedule__left-small,.fps-schedule__right-small{cursor:pointer;width:46px;height:46px;position:absolute;top:50%;}.fps-schedule__left-small,.fps-schedule__left{transform:translateY(-50%);}.fps-schedule__matches{width:1100px;margin:0 auto;position:relative;}.fps-schedule__matches-container{margin:0 auto;overflow:hidden;width:","}.fps-schedule__matches-slider{display:flex;transition:transform 0.2s ease-in-out;"," transform:","}.fps-schedule__match-wrap{width:256px;flex-shrink:0;display:flex;justify-content:center;}"],function(e){e=e.bgImage;return e?"url(".concat(Fr.a.processServerImageUrl(e),")"):""},function(e){var t=e.VISIBLE_DATES,e=e.DATE_WIDTH;return"".concat(t*e,"px")},function(e){return!e.isDatesAbleSlide&&Object(T.css)(["justify-content:center;"])},function(e){e=e.calcDatesTransfrom;return e&&"translateX(".concat(-e,"px)")},function(e){var t=e.VISIBLE_MATCHES,e=e.MATCH_WIDTH;return"".concat(t*e,"px")},function(e){return!e.isMatchesAbleSlide&&Object(T.css)(["justify-content:center;"])},function(e){e=e.calcMatchesTransfrom;return"translateX(".concat(-e,"px)")}),Cf=T.default.div.withConfig({componentId:"sc-1e2347n-1"})(["width:240px;height:157px;border-radius:4px;overflow:hidden;display:flex;flex-direction:column;.fps-schedule__match-time{font-size:12px;color:#fff;background:#20232b;width:100%;height:30px;text-align:center;line-height:30px;white-space:nowrap;}.fps-schedule__match-main{flex:1;background:#141720;display:flex;flex-direction:column;align-items:center;}.fps-schedule__match-name{font-size:16px;margin:30px 0;max-width:100%;color:",";}.fps-schedule__match-state{font-size:12px;color:#fff;height:24px;padding:0 10px;line-height:24px;border-radius:4px;",";}"],function(e){return 2===e.matchStatus?"#FF6868":"#fff"},function(e){e=e.matchStatus;return 1===e?Object(T.css)(["background-color:#317ae9;"]):2===e?Object(T.css)(["cursor:pointer;background-color:#ec567f;"]):3===e?Object(T.css)(["background-color:#545454;"]):void 0}),Nf={1:Object(ue.f)("match_not_start"),2:Object(ue.f)("match_playing"),3:Object(ue.f)("match_end")},Tf=n.p+"assets/file/76253940bdc9125928a2270330db6697.png",Sf=n.p+"assets/file/f267f175982d069132fe2d00fb69921b.png",Af=n.p+"assets/file/15020ca37384535ff49b0f646577fb6a.png",Lf=n.p+"assets/file/1c3764acbae865858b0161551e4245aa.png",Df=T.default.div.withConfig({componentId:"xebpto-0"})(["background-image:",";.fps-score-container{width:1100px;border-radius:8px;margin:25px auto 0 auto;padding:30px 0;}.fps-schedule__dates{width:1100px;margin:0 auto 25px;position:relative;}.fps-schedule__dates-container{margin:0 auto;overflow:hidden;width:",";}.fps-schedule__dates-slider{display:flex;transition:transform 0.2s ease-in-out;"," transform:","}.fps-schedule__date-wrap{width:147px;flex-shrink:0;display:flex;justify-content:center;}.fps-schedule__left-small,.fps-schedule__right-small{cursor:pointer;width:18px;height:28px;position:absolute;top:50%;}.fps-score__matches{width:1100px;position:relative;margin:0 auto 25px;}.fps-score__matches-container{margin:0 auto;overflow:hidden;width:","}.fps-score__matches-slider{display:flex;transition:transform 0.2s ease-in-out;"," transform:","}.fps-score__match-item{cursor:pointer;flex-shrink:0;font-size:12px;color:#9F9F9F;width:108px;height:30px;text-align:center;line-height:30px;padding:0 15px;border-radius:4px;background:rgba(255,255,255,.2);&:nth-child(8n){margin-right:0;}&:hover{color:#1B0C13;background:#F8B551;}}.fps-score__match-wrap{width:124px;flex-shrink:0;display:flex;justify-content:center;","}.fps-score__data-image-container{width:1000px;margin:0 auto;min-height:400px;&>img{width:100%;height:auto;}}.fps-score__data-table-container{width:1000px;border-radius:4px;overflow:hidden;margin:0 auto;border:1px solid rgba(255,255,255,.2);background-color:rgba(0,0,0,.4);}.fps-score__data-table-row{font-size:14px;font-weight:bold;color:#fff;display:flex;width:980px;height:42px;margin:5px auto;background:rgba(255,255,255,.1);border-radius:4px;&:first-child{width:100%;height:48px;padding:0 10px;margin:0;border-radius:0;background-color:rgba(255,255,255,.2);}&:nth-child(2){margin-top:10px;}&:last-child{margin-bottom:10px;}}"],function(e){e=e.bgImage;return e?"url(".concat(Fr.a.processServerImageUrl(e),")"):""},function(e){var t=e.VISIBLE_DATES,e=e.DATE_WIDTH;return"".concat(t*e,"px")},function(e){return!e.isDatesAbleSlide&&Object(T.css)(["justify-content:center;"])},function(e){e=e.calcDatesTransfrom;return e&&"translateX(".concat(-e,"px)")},function(e){var t=e.VISIBLE_MATCHES,e=e.MATCH_WIDTH;return"".concat(t*e,"px")},function(e){return!e.isMatchesAbleSlide&&Object(T.css)(["justify-content:center;"])},function(e){e=e.calcMatchesTransfrom;return"translateX(".concat(-e,"px)")},function(e){e=e.activeMatch;return Object(T.css)(["&:nth-child(",") .fps-score__match-item{color:#1b0c13;background:#f8b551;}"],e+1)}),Pf=T.default.div.withConfig({componentId:"xebpto-1"})(["flex:1;display:flex;justify-content:center;align-items:center;"," ",""],function(e){var t=e.type,e=e.value;return"rank"===t&&Object(T.css)(["span{width:41px;height:33px;text-align:center;line-height:30px;background-size:100% 100%;background-image:url(",");}"],1==e?Tf:2==e?Sf:3==e?Af:4==e?Lf:"")},function(e){return"total_points"===e.type&&Object(T.css)(["span{color:#ffa41a;}"])}),Rf=T.default.div.withConfig({componentId:"rxed8c-0"})(["background-image:",";.fps-team__list{width:792px;margin:25px auto 0 auto;display:flex;flex-wrap:wrap;","}.fps-team__item{flex-shrink:0;width:97px;height:97px;border-radius:50%;border:2px solid rgba(255,255,255,0.2);display:flex;justify-content:center;align-items:center;margin-right:42px;margin-bottom:20px;overflow:hidden;&:nth-child(6n){margin-right:0;}& > img{width:80px;height:80px;object-fit:cover;border-radius:50%;vertical-align:bottom;}}"],function(e){e=e.bgImage;return e?"url(".concat(Fr.a.processServerImageUrl(e),")"):""},function(e){return e.teams.length<6&&Object(T.css)(["justify-content:center;"])}),zf=T.default.div.withConfig({componentId:"srjrz7-0"})(["font-size:38px;font-weight:bold;line-height:51px;color:",";display:flex;justify-content:center;align-items:center;white-space:nowrap;&:before{content:'';width:430px;height:40px;background:",";background-repeat:no-repeat;background-size:contain;background-position:center;margin-right:10px;}&:after{content:'';width:430px;height:40px;transform:scale(-1,1);background:",";background-repeat:no-repeat;background-size:contain;background-position:center;margin-left:10px;}"],function(e){return e.moduleNameColor||"#141720"},function(e){e=e.leftDivider;return"url(".concat(e?Fr.a.processServerImageUrl(e):xf,")")},function(e){e=e.leftDivider;return"url(".concat(e?Fr.a.processServerImageUrl(e):xf,")")}),Mf=T.default.div.withConfig({componentId:"srjrz7-1"})(["cursor:pointer;font-size:12px;color:#b5b5b5;padding:0 15px;width:124px;height:46px;background:",";background-repeat:no-repeat;background-size:100% 100%;display:flex;flex-direction:column;justify-content:center;align-items:center;&:hover{background:",";background-repeat:no-repeat;background-size:100% 100%;}",""],function(e){e=e.scheduleItemRow;return"url(".concat(e?Fr.a.processServerImageUrl(e):tf,")")},function(e){e=e.scheduleItemHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):nf,")")},function(e){return e.active&&Object(T.css)(["color:#fff;background:",";background-repeat:no-repeat;background-size:100% 100%;"],function(e){e=e.scheduleItemActive;return"url(".concat(e?Fr.a.processServerImageUrl(e):af,")")})}),Gf=T.default.div.withConfig({componentId:"srjrz7-2"})(["background:",";background-repeat:no-repeat;background-size:contain;left:",";&:hover{background:",";background-repeat:no-repeat;background-size:contain;}",""],function(e){e=e.leftArrowRow;return"url(".concat(e?Fr.a.processServerImageUrl(e):Ef,")")},function(e){e=e.left;return e?"".concat(e,"px"):"10px"},function(e){e=e.leftArrowHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):yf,")")},function(e){return e.disabled&&Object(T.css)(["display:none;cursor:not-allowed;background:",";background-repeat:no-repeat;background-size:contain;"],function(e){e=e.leftArrowHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):yf,")")})}),Ff=T.default.div.withConfig({componentId:"srjrz7-3"})(["background:",";background-repeat:no-repeat;background-size:contain;right:10px;right:",";transform:scale(-1,1) translateY(-50%);&:hover{background:",";background-repeat:no-repeat;background-size:contain;transform:scale(-1,1) translateY(-50%);}",""],function(e){e=e.leftArrowRow;return"url(".concat(e?Fr.a.processServerImageUrl(e):Ef,")")},function(e){e=e.right;return e?"".concat(e,"px"):"10px"},function(e){e=e.leftArrowHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):yf,")")},function(e){return e.disabled&&Object(T.css)(["display:none;cursor:not-allowed;background:",";background-repeat:no-repeat;background-size:contain;transform:scale(-1,1) translateY(-50%);"],function(e){e=e.leftArrowHover;return"url(".concat(e?Fr.a.processServerImageUrl(e):yf,")")})}),Uf=T.default.div.withConfig({componentId:"ppnmjf-0"})(["background-image:",";.moba-schedule-container{width:1100px;border-radius:8px;margin:25px auto 0 auto;padding:30px 0;}.moba-schedule__dates{width:1100px;margin:0 auto 25px;position:relative;}.moba-schedule__dates-container{margin:0 auto;overflow:hidden;width:",";}.moba-schedule__dates-slider{display:flex;transition:transform 0.2s ease-in-out;"," transform:","}.moba-schedule__date-wrap{width:147px;flex-shrink:0;display:flex;justify-content:center;}.moba-schedule__date-time{width:100%;text-align:center;margin-bottom:5px;}.moba-schedule__date-name{width:100%;text-align:center;}.moba-schedule__left,.moba-schedule__right{cursor:pointer;width:46px;height:46px;position:absolute;top:50%;}.moba-schedule__left-small,.moba-schedule__right-small{cursor:pointer;width:46px;height:46px;position:absolute;top:50%;}.moba-schedule__left,.moba-schedule__left-small{transform:translateY(-50%);}.moba-schedule__matches{width:1100px;margin:0 auto;position:relative;}.moba-schedule__matches-container{margin:0 auto;overflow:hidden;}.moba-schedule__matches-slider{display:flex;transition:transform 0.2s ease-in-out;"," transform:","}.moba-schedule__match-wrap{width:256px;flex-shrink:0;display:flex;justify-content:center;}"],function(e){e=e.bgImage;return e?"url(".concat(Fr.a.processServerImageUrl(e),")"):""},function(e){var t=e.VISIBLE_DATES,e=e.DATE_WIDTH;return"".concat(t*e,"px")},function(e){return!e.isDatesAbleSlide&&Object(T.css)(["justify-content:center;"])},function(e){e=e.calcDatesTransfrom;return e&&"translateX(".concat(-e,"px)")},function(e){return!e.isMatchesAbleSlide&&Object(T.css)(["justify-content:center;"])},function(e){e=e.calcMatchesTransfrom;return"translateX(".concat(-e,"px)")}),Hf=T.default.div.withConfig({componentId:"ppnmjf-1"})(["width:240px;height:170px;border-radius:4px;overflow:hidden;display:flex;flex-direction:column;.moba-schedule__match-time{font-size:12px;color:#fff;background:#20232b;width:100%;height:30px;text-align:center;line-height:30px;white-space:nowrap;}.moba-schedule__match-main{flex:1;text-align:center;padding:0 5px;background:#141720;}.moba-schedule__match-info{display:flex;justify-content:space-between;align-items:center;margin-top:15px;}.moba-schedule__match-team{flex-shrink:0;width:85px;display:flex;flex-direction:column;justify-content:space-between;align-items:center;}.moba-schedule__match-team-logo{width:60px;height:60px;object-fit:cover;border-radius:50%;}.moba-schedule__match-team-name{font-size:12px;font-weight:bold;color:#fff;width:100%;text-align:center;padding:0 10px;margin-top:8px;}.moba-schedule__match-progress{display:flex;flex-direction:column;align-items:center;}.moba-schedule__match-score{font-size:22px;font-weight:bold;color:#fff;}.moba-schedule__match-vs{font-size:30px;font-weight:bold;color:rgba(255,255,255,0.3);}.moba-schedule__match-state{display:inline-block;min-width:60px;margin-top:5px;font-size:12px;color:#fff;height:24px;padding:0 10px;line-height:24px;border-radius:4px;",";}"],function(e){e=e.matchStatus;return 1===e?Object(T.css)(["background-color:#317ae9;"]):2===e?Object(T.css)(["cursor:pointer;background-color:#ec567f;"]):3===e?Object(T.css)(["background-color:#545454;"]):void 0}),Bf={1:Object(ue.f)("match_not_start"),2:Object(ue.f)("match_playing"),3:Object(ue.f)("match_end")},Wf=n.p+"assets/file/a9aec3685665716bc02248fb9c7e0a7e.png",qf=n.p+"assets/file/414a67153c99129fc6d3691dc111f8dd.png",Kf=n.p+"assets/file/7fdfcec332359f1e0fe1b4e309ea80a0.png",Yf=n.p+"assets/file/90d6ebed163af0445d4819dc5a069087.png",Vf=T.default.div.withConfig({componentId:"sc-13crszf-0"})(["background-image:",";.moba-score-container{width:1100px;border-radius:8px;margin:25px auto 0 auto;padding:30px 0 10px 0;}.moba-schedule__dates{width:1100px;margin:0 auto 25px;position:relative;}.moba-schedule__dates-container{margin:0 auto;overflow:hidden;width:",";}.moba-schedule__dates-slider{display:flex;transition:transform 0.2s ease-in-out;"," transform:","}.moba-schedule__date-wrap{width:147px;flex-shrink:0;display:flex;justify-content:center;}.moba-schedule__left-small,.moba-schedule__right-small{cursor:pointer;width:46px;height:46px;position:absolute;top:50%;}.moba-schedule__left-small{transform:translateY(-50%);}.moba-score__matches{width:1100px;position:relative;margin:0 auto 25px;}.moba-score__matches-container{margin:0 auto;overflow:hidden;width:",";}.moba-score__matches-slider{display:flex;transition:transform 0.2s ease-in-out;"," transform:","}.moba-score__match-item{cursor:pointer;flex-shrink:0;font-size:12px;color:#9f9f9f;width:108px;height:30px;text-align:center;line-height:30px;padding:0 15px;border-radius:4px;background:rgba(255,255,255,0.2);&:nth-child(8n){margin-right:0;}&:hover{color:#1b0c13;background:#f8b551;}&.active{color:#1b0c13;background:#f8b551;}}.moba-score__match-wrap{width:124px;flex-shrink:0;display:flex;justify-content:center;","}.moba-score__data-image-container{width:1000px;margin:0 auto;padding-bottom:20px;min-height:400px;& > img{width:100%;height:auto;}}.moba-score__data-table-container{display:flex;flex-wrap:wrap;justify-content:center;}.moba-score__data-group{width:490px;margin-right:20px;margin-bottom:20px;&:nth-child(2n){margin-right:0;}}.moba-score__data-group-name{font-size:18px;color:#141720;text-align:center;margin-bottom:10px;}.moba-score__data-group-header{height:50px;background:#141720;border-radius:4px;display:flex;align-items:center;margin-bottom:10px;span{font-size:14px;color:#fff;text-align:center;padding:0 10px;overflow:hidden;word-break:break-all;}span:nth-child(1){flex:1;}span:nth-child(2){flex:1.3;}span:nth-child(3){flex:1;}span:nth-child(4){flex:1.1;}}.moba-score__data-group-body{font-size:14px;color:#fff;}"],function(e){e=e.bgImage;return e?"url(".concat(Fr.a.processServerImageUrl(e),")"):""},function(e){var t=e.VISIBLE_DATES,e=e.DATE_WIDTH;return"".concat(t*e,"px")},function(e){return!e.isDatesAbleSlide&&Object(T.css)(["justify-content:center;"])},function(e){e=e.calcDatesTransfrom;return e&&"translateX(".concat(-e,"px)")},function(e){var t=e.VISIBLE_MATCHES,e=e.MATCH_WIDTH;return"".concat(t*e,"px")},function(e){return!e.isMatchesAbleSlide&&Object(T.css)(["justify-content:center;"])},function(e){e=e.calcMatchesTransfrom;return"translateX(".concat(-e,"px)")},function(e){e=e.activeMatch;return Object(T.css)(["&:nth-child(",") .moba-score__match-item{color:#1b0c13;background:#f8b551;}"],e+1)}),Xf=T.default.div.withConfig({componentId:"sc-13crszf-1"})(["height:50px;border-radius:4px;display:flex;align-items:center;background:#535565;margin-bottom:10px;&:last-child{margin-bottom:0;}.moba-score__group-team-rank i{display:inline-block;width:41px;height:33px;background-size:contain;","}.moba-score__group-team-rank{flex:1;text-align:center;}.moba-score__group-team-info{flex:1.3;display:flex;align-items:center;}.moba-score__group-team-icon{width:42px;height:42px;object-fit:cover;border-radius:50%;margin-left:15px;margin-right:6px;}.moba-score__group-team-name{font-size:12px;width:80px;}.moba-score__group-team-win-lose{flex:1;text-align:center;}.moba-score__group-team-score{flex:1.1;color:#ecb930;text-align:center;}"],function(e){e=e.teamRank,e=parseInt(e,10);return 1===e?Object(T.css)(["background-image:url(",");"],Wf):2===e?Object(T.css)(["background-image:url(",");"],qf):3===e?Object(T.css)(["background-image:url(",");"],Kf):4===e?Object(T.css)(["background-image:url(",");"],Yf):void 0}),Qf=T.default.div.withConfig({componentId:"sc-1wiep4e-0"})([".match-module__common-module{padding:40px 0 20px 0;background-position:center center;background-size:cover;}.fps-match-module__common-title{font-size:38px;font-weight:bold;color:#141720;display:flex;justify-content:center;align-items:center;white-space:nowrap;&::before{content:'';width:255px;height:10px;background:url('../../assets/match_room/title_l.png') no-repeat;background-size:contain;margin-right:10px;}&::after{content:'';width:255px;height:10px;background:url('../../assets/match_room/title_r.png') no-repeat;background-size:contain;margin-left:10px;}}.moba-match-module__common-title{font-size:38px;font-weight:bold;color:#141720;display:flex;justify-content:center;align-items:center;white-space:nowrap;&::before{content:'';width:255px;height:10px;background:url('../../assets/match_room/title_l.png') no-repeat;background-size:contain;margin-right:10px;}&::after{content:'';width:255px;height:10px;background:url('../../assets/match_room/title_r.png') no-repeat;background-size:contain;margin-left:10px;}}"]),_t=n("Y+p1"),Jf=n.n(_t),Zf=T.default.a.withConfig({componentId:"sc-1nvboks-0"})([".activity-entry-rank__pic{width:100%;height:100%;object-fit:cover;}.activity-entry-rank__group-name{z-index:1;position:absolute;bottom:78px;left:50%;transform:translateX(-50%);white-space:nowrap;font-size:12px;padding:2px 10px;min-width:40px;max-width:100px;text-align:center;border-radius:8px;color:",";background-color:",";}.activity-entry-rank__content{width:100px;height:60px;border-radius:4px;overflow:hidden;position:absolute;left:10px;bottom:10px;background:rgba(0,0,0,0.5);}.activity-entry-rank__title{font-size:12px;height:18px;text-align:center;line-height:18px;padding:0 5px;background:rgba(0,0,0,0.8);color:",";}.activity-entry-rank__main-rank-number{font-size:16px;text-align:center;margin-top:5px;color:",";}.activity-entry-rank__main-rank-desc{font-size:12px;color:#f2a525;text-align:center;margin-top:2px;}"],function(e){return e.styleData.topTitleColor||"#fff"},function(e){return e.styleData.topTitleBg||""},function(e){return e.styleData.titleColor||"#f2a525"},function(e){return e.styleData.numberColor||"#fff"}),r=n("+dPx"),$f=n.n(r),en=n.p+"assets/file/8c47b52dc9734d846d8ef1039fb0a17d.png",ed=n.p+"assets/file/7a144ceb0b0c7232851e658dbcd5d43c.png",td=n.p+"assets/file/bccd092231eff61e0dffb65ba0768f0a.png",nd=n.p+"assets/file/0ca9011bb427ad3460f849289cca5180.png",ad=T.default.a.withConfig({componentId:"zmjtoq-0"})([".activity-entry-pk__top-pic{display:block;height:30px;margin:0 auto 5px auto;}.activity-entry-pk__content{width:110px;height:100px;border-radius:4px;overflow:hidden;background:rgba(0,0,0,0.5);margin-left:5px;}.activity-entry-pk__title{font-size:12px;font-weight:bold;height:18px;text-align:center;line-height:18px;padding:0 5px;background:rgba(0,0,0,0.8);",";}.activity-entry-pk__vs-info{display:flex;justify-content:space-between;align-items:center;margin:7px;}.activity-entry-pk__member{position:relative;}.activity-entry-pk__vs-icon{width:20px;height:20px;background-image:url(",");background-size:100% 100%;}.activity-entry-pk__member-avatar{width:30px;height:30px;vertical-align:bottom;border:2px solid #fff;border-radius:50%;}.activity-entry-pk__progress-wrapper{font-size:12px;color:#fff;height:16px;display:flex;position:relative;}.activity-entry-pk__progress-left,.activity-entry-pk__progress-right{height:100%;span{position:absolute;top:2px;}}.activity-entry-pk__progress-left{"," span{left:5px;}}.activity-entry-pk__progress-right{"," span{right:5px;}}.activity-entry-pk__footer{font-size:12px;color:rgba(255,255,255,0.8);display:flex;justify-content:space-between;align-items:center;padding:0 3px;margin-top:6px;span{color:#f2a525;&.white{color:#fff;}}}.nono-dark-theme{.activity-entry-pk__title{background:rgba(44,44,44,0.8);}.activity-entry-pk__content{background:rgba(95,95,95,0.85);}}"],function(e){e=e.styleData;return e.titleColor&&Object(T.css)(["color:",";"],e.titleColor)},en,function(e){var t=e.leftProgress,e=e.leftMember;return Object(T.css)(["width:","%;background-color:",";"],t,e.progressBarColor)},function(e){var t=e.rightProgress,e=e.rightMember;return Object(T.css)(["width:","%;background-color:",";"],t,e.progressBarColor)}),id=T.default.div.withConfig({componentId:"zmjtoq-1"})(["position:absolute;left:0;top:0;width:100%;height:100%;border-radius:50%;background-color:rgba(0,0,0,0.5);background-position:center center;background-repeat:no-repeat;background-size:30px 12px;"," ",""],function(e){e=e.member;return 1!==e.win&&1!==e.lose&&1!==e.tie&&Object(T.css)(["display:none;"])},function(e){e=e.member;return e.win?Object(T.css)(["background-image:url(",");"],nd):e.lose?Object(T.css)(["background-image:url(",");"],ed):e.tie?Object(T.css)(["background-image:url(",");"],td):void 0});function rd(e){if(e)return"";if(999999<e){var t=e/1e6;return"".concat(Math.floor(100*t)/100,"M")}if(999<e){t=e/1e3;return"".concat(Math.floor(10*t)/10,"K")}return e}function od(e){var t=e.data,n=e.activityId,a=t.title,i=t.top_pic,r=t.endTime,o=t.settlementStatus,c=t.teamList,l=c[0]||{},s=c[1]||{},u=50,f=50;return l&&(e=l.maxProgress,c=void 0===(c=l.progress)?0:c,f=100-(u=(u=Math.floor(c/e*100))&&50)),$.a.createElement(ad,{href:Fr.a.addDistroInfoToUrl(t.link),rel:"noopener noreferrer",target:"_blank",className:"room-activity-entry",styleData:t,leftProgress:u,rightProgress:f,leftMember:l,rightMember:s,onClick:function(){ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"roomentry",ft:n})}},$.a.createElement("img",{src:i,className:"activity-entry-pk__top-pic",alt:""}),$.a.createElement("div",{className:"activity-entry-pk__content"},$.a.createElement("div",{className:"activity-entry-pk__title"},a||""),$.a.createElement("div",{className:"activity-entry-pk__vs-info"},$.a.createElement("div",{className:"activity-entry-pk__member"},$.a.createElement("img",{className:"activity-entry-pk__member-avatar",src:l.pic,alt:""}),$.a.createElement(id,{member:l})),$.a.createElement("i",{className:"activity-entry-pk__vs-icon"}),$.a.createElement("div",{className:"activity-entry-pk__member"},$.a.createElement("img",{className:"activity-entry-pk__member-avatar",src:s.pic,alt:""}),$.a.createElement(id,{member:s}))),$.a.createElement("div",{className:"activity-entry-pk__progress-wrapper"},$.a.createElement("div",{className:"activity-entry-pk__progress-left"},$.a.createElement("span",null,rd(l.progress)||0)),$.a.createElement("div",{className:"activity-entry-pk__progress-right"},$.a.createElement("span",null,rd(s.progress)||0))),$.a.createElement("div",{className:"activity-entry-pk__footer"},$.a.createElement("span",{className:"white"},u,"%"),1===o?$.a.createElement("span",null,"End"):$.a.createElement($f.a,{daysInHours:!0,date:r,renderer:function(e){var t=e.hours,n=e.minutes,a=e.seconds;return e.completed?$.a.createElement("span",null,"Loading"):$.a.createElement("span",null,"".concat(t,":").concat(n,":").concat(a))}}),$.a.createElement("span",{className:"white"},f,"%"))))}var mn=n.p+"assets/file/9c984247b6fbe9c98ddec736412d7839.png",cd=T.default.a.withConfig({componentId:"szgir4-0"})([".activity-entry-monster__pic{display:block;width:90px;margin:0 auto;}.activity-entry-monster__group-name{z-index:1;position:absolute;bottom:60px;left:50%;transform:translateX(-50%);white-space:nowrap;font-size:12px;padding:2px 10px;min-width:40px;max-width:100px;text-align:center;border-radius:8px;color:",";background-color:",";}.activity-entry-monster__content{width:100px;height:70px;border-radius:4px;overflow:hidden;position:absolute;left:10px;bottom:0;background:rgba(0,0,0,0.5);}.activity-entry-monster__life-num{display:flex;justify-content:center;align-items:center;margin-top:10px;img{height:24px;margin-right:3px;}span{font-size:16px;color:#fff;text-shadow:1px 1px 1px rgba(0,0,0,0.3);}}.activity-entry-monster__progress-wrapper{width:90px;height:8px;border-radius:4px;overflow:hidden;background-color:#d3d3d3;margin:2px auto 8px auto;}.activity-entry-monster__progress-bar{max-width:100%;height:8px;border-radius:4px;background-color:#4bc57e;background-image:url(",");background-size:100px 8px;width:",";",";}.activity-entry-monster__remain-life{font-size:12px;color:#fff;text-align:center;text-shadow:1px 1px 1px rgba(0,0,0,0.3);.max-point{color:rgba(255,255,255,0.5);}}.nono-dark-theme{.activity-entry-monster__content{background:rgba(95,95,95,0.85);}}"],function(e){return e.styleData.topTitleColor||"#fff"},function(e){return e.styleData.topTitleBg||"#f2a525"},mn,function(e){e=e.pointPercentValue;return"".concat(e,"%")},function(e){e=e.pointPercentValue;return 60<e?Object(T.css)(["background-color:#4bc57e;"]):30<e?Object(T.css)(["background-color:#fbd41e;"]):Object(T.css)(["background-color:#e33d3d;"])});function ld(e){if(e)return"";if(999999<e){var t=e/1e6;return"".concat(Math.floor(10*t)/10,"M")}return e}function sd(e){var t=e.data,n=e.activityId,a=void 0===(i=t.point)?0:i,e=t.maxPoint,i=Math.floor(a/e*100);return $.a.createElement(cd,{href:Fr.a.addDistroInfoToUrl(t.link),rel:"noopener noreferrer",target:"_blank",className:"room-activity-entry",styleData:t,pointPercentValue:i,onClick:function(){ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"roomentry",ft:n})}},$.a.createElement("img",{src:t.monsterPic,className:"activity-entry-monster__pic",alt:""}),t.topTitle?$.a.createElement("div",{className:"activity-entry-monster__group-name ellipsis"},t.topTitle):null,$.a.createElement("div",{className:"activity-entry-monster__content"},$.a.createElement("div",{className:"activity-entry-monster__life-num"},$.a.createElement("img",{src:t.lifePic,alt:""}),$.a.createElement("span",null," x ",t.lifeNumber||0)),$.a.createElement("div",{className:"activity-entry-monster__progress-wrapper"},$.a.createElement("div",{className:"activity-entry-monster__progress-bar"})),$.a.createElement("div",{className:"activity-entry-monster__remain-life"},$.a.createElement("span",null,ld(a)||0),$.a.createElement("span",{className:"max-point"},"/",ld(e)))))}function ud(e){var t=e.effect,n=e.giftList,a=Object(Z.useState)(t.giftPic),a=(e=ne()(a,2))[0],e=e[1];return t&&t.effectId&&Date.now()>t.startTime&&Date.now()<t.endTime?((n=n.find(function(e){return e.gift_id===t.effectId}))&&e(n.pic),e=t.startTime,n=t.endTime,e=Math.floor((n-Date.now())/(n-e)*100),$.a.createElement(pd,{pointPercentValue:e,effectStatus:t.status},$.a.createElement("img",{src:a,className:"room-activity-entry__effect-gift",alt:""}),$.a.createElement("div",{className:"room-activity-entry__effect-progress-wrapper"},$.a.createElement("div",{className:"room-activity-entry__effect-progress-bar"})),$.a.createElement("i",{className:"room-activity-entry__effect-status"}))):null}var fd=n.p+"assets/file/c2c7474980e789574a589c5ae818f983.png",ft=n.p+"assets/file/d6acdbb87a8996d95984aa85c066a8b3.png",dd=n.p+"assets/file/87571eb290719ef00920defb32b118c0.png",pd=T.default.div.withConfig({componentId:"sc-1l3ueyp-0"})(["width:100px;height:30px;background:",";border-radius:4px;position:absolute;left:10px;bottom:-35px;display:flex;justify-content:space-between;align-items:center;.room-activity-entry__effect-gift{width:26px;}.room-activity-entry__effect-progress-wrapper{width:70px;height:8px;border-radius:4px;overflow:hidden;background-color:#d3d3d3;}.room-activity-entry__effect-progress-bar{max-width:100%;height:8px;border-radius:4px;background-color:#fbd41e;background-image:url(",");background-size:70px 8px;width:",";}.room-activity-entry__effect-status{width:20px;height:20px;background-image:url(",");background-size:100% 100%;&.state-1{background-image:url('../../assets/icons/nn_ic_buff_increase.png');}","}"],function(e){return e.theme.darkTheme?"rgba(95, 95, 95, .85)":"rgba(0, 0, 0, 0.5)"},mn,function(e){e=e.pointPercentValue;return"".concat(e,"%")},ft,function(e){e=e.effectStatus,e=parseInt(e,10);return 2===e?Object(T.css)(["background-image:url(",");"],fd):3===e?Object(T.css)(["background-image:url(",");"],dd):void 0}),rn=n.p+"assets/file/3204027d6f65771cd535d384dba1f4ee.png",md=T.default.div.withConfig({componentId:"sc-1inptju-0"})(["z-index:1;position:absolute;top:320px;right:-30px;"," .room-activity__tiny-entry{cursor:pointer;display:block;width:28px;height:28px;background-image:url(",");background-size:100% 100%;&:hover{opacity:0.8;}}.room-activity-entry__container{position:relative;}.room-activity-entry__close{width:20px;height:20px;border-radius:50%;background:rgba(74,74,74,0.8);display:flex;justify-content:center;align-items:center;cursor:pointer;position:absolute;top:5px;right:-12px;svg{width:8px;height:8px;fill:#fff;}&:hover{opacity:0.8;}}.room-activity-entry__carousel{width:120px;height:135px;overflow:hidden;}.room-activity-entry__slider{display:flex;transition:transform 0.2s ease-in-out;will-change:transform;transform:",";}.room-activity-entry__dot-wrapper{width:100%;display:flex;justify-content:center;margin-top:5px;}.room-activity-entry__arrow-wrap{width:20px;height:20px;border-radius:50%;background-color:#fff;box-shadow:0 0 4px rgba(90,90,90,0.6);justify-content:center;align-items:center;display:flex;cursor:pointer;position:absolute;top:95px;opacity:0;svg{width:10px;height:10px;fill:#e33d3d;}&:hover{opacity:0.8 !important;}&.left{left:-12px;}&.right{right:-12px;}}.room-activity-entrances:hover .room-activity-entry__arrow-wrap{opacity:1;}.room-activity-entry{width:120px;height:135px;flex-shrink:0;position:relative;}.room-activity-entry__drag-area{cursor:move;width:100%;height:20px;position:absolute;top:0;left:0;user-select:none;}"],function(e){return e.hidden&&Object(T.css)(["display:none;"])},rn,function(e){e=e.calcTransfrom;return e&&"translateX(".concat(-e,"%)")}),gd=T.default.i.withConfig({componentId:"sc-1inptju-1"})(["cursor:pointer;width:8px;height:8px;border-radius:4px;margin:0 2px;",";"],function(e){var t=e.theme.darkTheme,e=e.active;return t?Object(T.css)(["background-color:",";"],e?"#e33d3d":"rgba(255, 255, 255, 0.5)"):Object(T.css)(["background-color:",";"],e?"#e33d3d":"rgba(0, 0, 0, 0.3)")});var bd=n.p+"assets/svg/b1c759b6bd2cf82b2da19c2008f37748.svg";var hd=n.p+"assets/svg/e76bbad378a16a943fac258617783344.svg";function _d(e){function c(e){return Array.isArray(e)?((e=Array.from(e)).sort(function(e,t){return t.weight-e.weight}),e.slice(0,10)):[]}function n(e){var t=e,e=m.length-1;t<0?t=e:e<t&&(t=0),v(t)}function t(){return 1<m.length}function a(){t()&&!O&&(y=y||setInterval(function(){n(_+1)},5e3))}function i(){clearInterval(y),y=null}function r(e){w&&E&&(e=e.clientY-(k-j),(d?-400:-10)<e&&(E.current.top="".concat(e,"px")))}function o(){w=!1}function l(e,t){var n,a,i,r,o;e===s&&t.activity_id&&(a=t.activity_id,1===t.enable?(i=a,r=t,-1!==(e=(o=m).findIndex(function(e){return e.activity_id===i}))?(t=o[e],Jf()(r,t)||(o[e]=r,e=c(o),g(e))):(o.push(r),o=c(o),g(o))):(n=a,-1<(a=(o=m).findIndex(function(e){return e.activity_id===n}))&&(o.splice(a,1),g(o),v(0))))}var s=e.roomId,u=e.theatreMode,f=e.anchorInfo,d=e.isInMatchRoom,p=Object(Z.useState)([]),m=(b=ne()(p,2))[0],g=b[1],e=Object(Z.useState)(!1),b=(p=ne()(e,2))[0],h=p[1],e=Object(Z.useState)(0),_=(p=ne()(e,2))[0],v=p[1],e=Object(Z.useState)([]),e=(p=ne()(e,2))[0],x=p[1],E=Object(Z.useRef)(null),y=null,O=!1,w=!1,k=0,j=0;return Object(Z.useEffect)(function(){g([]),h(!1),v(0)},[s]),Object(Z.useEffect)(function(){return de.h.on(de.a.CHATSERVER_ON_ACTIVITY_CAROUSEL_TYPE,l),document.addEventListener("mousemove",r),document.addEventListener("mouseup",o),x([]),function(){de.h.off(de.a.CHATSERVER_ON_ACTIVITY_CAROUSEL_TYPE,l),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o),i()}},[]),f.living?null:0===m.length?(i(),null):(a(),f=(f=m[_])&&f.effect,$.a.createElement(md,{ref:E,calcTransfrom:100*_,hidden:u},b?$.a.createElement("i",{className:"room-activity__tiny-entry",onClick:function(){return h(!1)}}):$.a.createElement("div",{className:"room-activity-entry__container",onMouseEnter:function(){O=!0,i()},onMouseLeave:function(){O=!1,a()}},$.a.createElement("div",{className:"room-activity-entry__carousel"},$.a.createElement("div",{className:"room-activity-entry__slider"},m.map(function(e){switch(e.category){case"pointV2":return $.a.createElement(_f,{key:e.activity_id,activityId:e.activity_id,data:e.content});case"PKV2":return $.a.createElement(od,{key:e.activity_id,activityId:e.activity_id,data:e.content});case"monster":return $.a.createElement(sd,{key:e.activity_id,activityId:e.activity_id,data:e.content});default:return null}}))),$.a.createElement(ud,{giftList:e,effect:f}),t()&&$.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"room-activity-entry__arrow-wrap left",onClick:function(){return n(_-1)}},$.a.createElement(bd,null)),$.a.createElement("div",{className:"room-activity-entry__arrow-wrap right",onClick:function(){return n(_+1)}},$.a.createElement(hd,null))),t()&&$.a.createElement("div",{className:"room-activity-entry__dot-wrapper"},m.map(function(e,t){return $.a.createElement(gd,{key:e.activity_id,onClick:function(){return n(t)},active:_===t})})),$.a.createElement("div",{className:"room-activity-entry__drag-area",onMouseDown:function(e){var t;E&&(t=E.current,w=!0,k=e.clientY,j=parseFloat(t.top))}}),$.a.createElement("div",{className:"room-activity-entry__close",onClick:function(){h(!0),ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"roomentry",ft:"micrify"})}},$.a.createElement(yd,null)))))}function vd(e){var t=e.className,e=e.viewers;return $.a.createElement("span",{className:t},e||0)}function xd(e){var t=void 0===(n=e.anchorGroup)?[]:n,n=e.className,e="";return-1!==t.indexOf(ie.a.OFFICIAL)?e=kd:-1!==t.indexOf(ie.a.SHOW_CANDIDATE)&&(e=jd),e?$.a.createElement(Id,{className:n},$.a.createElement("img",{className:"official-logo",src:e,alt:"official-logo"})):null}var Ed,yd=n.p+"assets/svg/976702862fbc48adf73e67d8b63eaf28.svg",Od=n("HfY0"),wd=n("zYx1"),kd=n.p+"assets/file/40e249bdd6d384d4709e231d022f1329.png",jd=n.p+"assets/file/7d94f943284e70015c27c7087fde56d4.png",Id=T.default.div.withConfig({componentId:"sc-1nnsba7-0"})(["width:20px;height:20px;.official-logo{width:100%;height:100%;}"]),Cd=n.p+"assets/file/4ad4c91c4c00f8073de010b87f5f19a0.png",Nd=n.p+"assets/file/eeb4137873d4dfd11f3338df6520cf23.png",Td={marginLeft:15},Sd=T.default.div.withConfig({componentId:"bbusju-0"})(["position:relative;"]),Ad=T.default.div.withConfig({componentId:"bbusju-1"})(["cursor:pointer;.fans-group-icon{width:32px;height:32px;}"]);(bt=Ed=Ed||{}).default="default",bt.theater="theater";function Ld(e){var t=e.isJoin,n=e.isMini,a=e.anchorInfo,i=e.name,e=void 0===(r=e.type)?Ed.default:r,r=Object(Z.useCallback)(function(){var e,t;a&&(e=(null==(t=Tn.a.getUserInfo())?void 0:t.user_id)||0,t={lt:"click",af:"liveroom",bf:"jioned_fansgroup",cf:"fansgroup",action:"entrance_click",room_id:a.anchorId,live_type:a.liveType,category_key:1===a.liveType?a.categoryKey:a.gameKey,host_official_type:a.anchorGroup&&a.anchorGroup[0]||"",site:"top_botton",user_type:e&&0===e?"guest":"login_user"},e&&0!==e&&(t.user_id=e,t.user_level=a.level),ct.a.handleDataCount(t)),de.h.emit(de.d.SHOW_DESC_WIN)},[a]);return e===Ed.default?$.a.createElement(Sd,{onClick:r},$.a.createElement(Os,{name:i||"",isMini:n,isJoin:t,style:Td})):e===Ed.theater?$.a.createElement(Ad,{onClick:r},t?$.a.createElement("img",{src:Nd,className:"fans-group-icon",alt:""}):$.a.createElement("img",{src:Cd,className:"fans-group-icon",alt:""})):null}function Dd(e){var t=e.hostInfo,n=e.className;return(e=Object(Ql.b)(t))?(t=e.logo,e=e.intro,t&&e?$.a.createElement(Md,{className:n},$.a.createElement("img",{className:"certification-logo",src:Fr.a.processServerImageUrl(t),alt:""})):null):null}function Pd(e){var t=void 0===(n=e.channelKey)?"":n,n=e.channelLang,a=e.playerWidth,e=function(e){if(!e||!e.length)return"";var t=Tn.a.getCountry(),n=e.find(function(e){return!(!e.location||e.location!==t)});if(n)return n.text;n=e.find(function(e){return"default"===e.location});return(n||e[0]).text}(n),n=Object(Z.useMemo)(function(){return a<=800?{maxWidth:120}:a<=1300?{maxWidth:176}:{}},[a]);return e?$.a.createElement("div",{className:"room-anchor-panel__channel"},$.a.createElement(Xl.b,{target:"_blank",to:te.b.CHANNEL_DETAIL.replace(":key",t).replace(":tab",zd.i.LIVE),style:n,className:"room-anchor-panel__channel__link",title:e},Object(ue.f)("cmm_category"),":",$.a.createElement("span",null,e))):$.a.createElement("div",null)}var Rd,zd=n("9asd"),Md=T.default.div.withConfig({componentId:"qc71kn-0"})(["width:20px;height:20px;flex-shrink:0;.certification-logo{width:100%;height:100%;}"]),Gd=n("3cpl"),Fd=T.default.div.withConfig({componentId:"xghwpf-0"})(["height:'100%';width:'100%';.mildom_popover{position:absolute;background:#fff;z-index:",";border-radius:4px;color:#232323;box-shadow:0px 4px 20px rgba(0,0,0,0.2);animation:panelFloat 0.25s forwards;}.mildom_popover-pointer{position:absolute;width:0;height:0;bottom:-7px;border-top:7px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent;}",""],oc.a.POPVER,function(e){return e.theme.darkTheme&&Object(T.css)([".mildom_popover{background:#20bef3;background-color:#202526;color:#fff;}.mildom_popover-pointer{border-top:7px solid #202526;border-left:7px solid transparent;border-right:7px solid transparent;}"])});(_t=Rd=Rd||{}).HOVER="hover",_t.CLICK="click";function Ud(e){function t(){s(!1)}var n=e.popoverStyle,a=e.pointerStyle,i=e.visible,r=e.content,o=e.trigger,c=e.direction,e=e.children,i=Object(Z.useState)(!!i),l=(i=ne()(i,2))[0],s=i[1],i=Object(Z.useRef)(null),a="bottom"===c?Object.assign({top:"50px",left:"0"},n):Object.assign({top:"-50px",left:"0"},a),c="bottom"===c?{left:"66%",bottom:"100%",transform:"translateX(-50%) rotateX(180deg)"}:{left:"50%",top:"100%",transform:"translateX(-50%)"};return $.a.createElement(Fd,{onMouseEnter:function(){o===Rd.HOVER&&s(!0)},onMouseLeave:function(){o===Rd.HOVER&&t()}},$.a.createElement("div",{ref:i,onClick:function(){s(!l)}},e),$.a.createElement(Bt.a,{onClickOutside:t,exclude:i.current},l&&$.a.createElement("div",{className:"mildom_popover",style:Object.assign({},a)},r,$.a.createElement("div",{className:"mildom_popover-pointer",style:Object.assign({},c)}))))}function Hd(e){var a=e.roomId,t=Object(Z.useState)(!1),n=(d=ne()(t,2))[0],i=d[1],r=Object(Z.useState)(!1),e=(s=ne()(r,2))[0],o=s[1],t=Object(Z.useState)(!1),r=(d=ne()(t,2))[0],c=d[1],l=Object(Z.useContext)(fe.a).anchorInfo,s=Object(Z.useCallback)(function(t,n){return Yd(void 0,void 0,void 0,Ka.a.mark(function e(){return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(A.ic)({user_id:Tn.a.getUserId(),report_user_id:a,report_type:t,desc:n});case 3:return i(!1),o(!0),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),K.a.error(e.t0),qd.a.createV2({message:e.t0.message,type:qd.a.MSG_TYPE_ERROR}),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,null,[[0,8]])}))},[a]),u=Object(Z.useCallback)(function(){Tn.a.getLoginStatus()?i(!0):V.a.dispatch(Object(Wt.c)(!0))},[]),f=Object(Z.useCallback)(function(){ct.a.handleDataCount({event_id:"C_NOT_INTEREST_ENTRY_CLICK",click_source:"liveroom"}),c(!0)},[]),t=Object(Z.useCallback)(function(){Object(A.pc)({host_id:a,channel_key:l.channelKey||"",live_type:l.liveType||0,category_key:l.categoryKey||l.gameKey||"",mark_type:1,mark_status:1}).then(function(){I.d.success(Object(ue.f)("uninterest_success"))}).catch(function(e){return e.message?I.d.error(e.message):void I.d.error(Object(ue.f)("common_network_error"))})},[l.categoryKey,l.gameKey,l.liveType,l.channelKey,a]),d=Object(Z.useCallback)(function(){return $.a.createElement(Vd,null,$.a.createElement("div",{onClick:u},Object(ue.f)("cmm_report")),$.a.createElement("div",{onClick:f},Object(ue.f)("uninterest")))},[u,f]);return $.a.createElement(Xd,null,$.a.createElement(Ud,{popoverStyle:{top:40,left:-52},content:$.a.createElement(d,null),direction:"bottom"},$.a.createElement("div",{className:"more-entry"},$.a.createElement("img",{src:Kd,alt:"more-entry"}))),$.a.createElement(xu.a,{visible:n,type:1,onClose:function(){return i(!1)},onComplete:s}),$.a.createElement(Eu.a,{visible:e,onClose:function(){return o(!1)}}),r&&$.a.createElement(vu.a,{onClose:function(){c(!1)},onConfirm:t,hostId:a,liveId:l.logId}))}function Bd(){function t(){Yn.b.emit(Yn.a.UNFOLLOW_SOMEONE,o),c(!1)}function n(){Yn.b.emit(Yn.a.FOLLOW_SOMEONE,o),c(!1),ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"quick_follow",ft:"follow"}),bs()&&Bn.c()&&!Wn.a.get(Be.db)&&de.h.emit(de.g.OPEN_WEB_PUSH_PERMISSION_DIALOG)}function a(){c(!1),Yn.b.emit(Yn.a.UNFOLLOW_SOMEONE,o)}function i(){c(!1),Yn.b.emit(Yn.a.FOLLOW_SOMEONE,o)}var r=(g=Object(Z.useContext)(fe.a)).anchorInfo,o=g.roomId,e=g.layout,c=g.setLeadFollowShow,l=g.fansGroupInteractionData,s=Object(Ps.a)({anchorInfo:r}).guestGz,u=Object(Z.useState)(0),f=(g=ne()(u,2))[0],d=g[1],u=Object(Z.useState)(!1),u=(g=ne()(u,2))[0],p=g[1],m=(null==r?void 0:r.gameKey)||"",g=Object(Z.useState)([]),b=(g=ne()(g,2))[0],h=g[1],_=Object(Z.useCallback)(function(e){d(e.userCount||0)},[]);if(Object(Z.useEffect)(function(){return d(0),C.a.on(o,N.q,_),function(){C.a.off(o,N.q,_)}},[o,_]),Object(Z.useEffect)(function(){function e(e){p(e)}return de.h.on(de.g.PLAYER_FOCUS_CHANGE,e),function(){de.h.off(de.g.PLAYER_FOCUS_CHANGE,e)}},[]),Object(Z.useEffect)(function(){Qd(void 0,void 0,void 0,Ka.a.mark(function e(){var t;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m)return e.prev=1,e.next=4,Object(A.gb)(m);e.next=11;break;case 4:t=e.sent,h(t.share_titles||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),K.a.error(e.t0,{description:"get game share titles failed"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}))},[m]),!r||!r.anchorId)return null;var v=r.avatar,x=r.fansGroup,E=r.anchorId,y=r.level,O=r.viewers,w=r.name,k=r.anchorGroup,g=r.ifFollow,j=Tn.a.getUserId(),I=j?g:s;return e===ce.h.THEATER?$.a.createElement(Ju.b,{focus:u},$.a.createElement("div",{className:"theatre-room__player-anchor-panel"},$.a.createElement(Xl.b,{to:"/profile/".concat(o),className:"theatre-room__avatar-container"},$.a.createElement($e.b,{size:30,src:Object(Sa.a)({url:v,styleQuery:{size:Sa.b.mini}})})),$.a.createElement("div",{className:"player-anchor-panel__main"},$.a.createElement("div",{className:"player-anchor-panel__name-container"},$.a.createElement("div",{className:"player-anchor-panel__name"},w)),$.a.createElement("div",{className:"player-anchor-panel__viewer-container"},$.a.createElement(X.b,{name:X.b.NAME.FIRE,size:14,className:"room-anchor-panel__viewer-icon"}),$.a.createElement(vd,{viewers:0<f?f:O}))),$.a.createElement("div",{className:"player-anchor-panel__follow-container"},Tn.a.getUserId()!==E&&$.a.createElement(Cs.b,{followedComponent:$.a.createElement(wd.a,{isFollowing:!0,isTheater:!0}),notFollowComponent:$.a.createElement(wd.a,{isFollowing:!1,isTheater:!0}),needToConfirm:!0,confirmText:Object(ue.f)("unfollow_confirm_text"),followCallback:n,unfollowCallback:t,followUserId:E,anchorInfo:r,guestFollowCallback:i,from:Cs.a.liveRoom}))),j!==o&&1===l.has_unlock&&(I||1===l.has_join)&&$.a.createElement(Re.a,null,$.a.createElement("div",{className:"fans-group-btn"},$.a.createElement(Ld,{type:Ed.theater,isJoin:1===l.has_join,anchorInfo:r,name:l.fans_group_name}))),j!==o&&!!x&&!!x.fansBadge&&$.a.createElement("div",{className:"fans-group-btn"},$.a.createElement(ks,{fansGroup:x,isMini:!0}))):$.a.createElement(Zd,{fullscreen:e===ce.h.FULLSCREEN},function(e){e=e.width;return $.a.createElement(Ju.a,{playerWidth:e,levelBgColor:Object(Ql.c)(y||0),isSpecialId:r.isSpecialId},$.a.createElement(Xl.b,{to:"/profile/".concat(o),className:"room-anchor-panel__avatar-container"},$.a.createElement($e.b,{size:56,src:Object(Sa.a)({url:v,styleQuery:{size:Sa.b.mini}})}),$.a.createElement(xd,{className:"room-anchor-panel__official",anchorGroup:k})),$.a.createElement("div",{className:"room-anchor-panel__info-container"},$.a.createElement("div",{className:"room-anchor-panel__anchor-intro",title:Object(Ql.a)(r)},Object(Ql.a)(r)),$.a.createElement("div",{className:"room-anchor-panel__common-info"},$.a.createElement(Xl.b,{to:"/profile/".concat(o),className:"room-anchor-panel__name ellipsis",title:w},w),$.a.createElement("span",{className:"level no-select"},y),$.a.createElement(Dd,{className:"room-anchor-panel__certification",hostInfo:r}),$.a.createElement("div",{className:"room-anchor-panel__id"},"ID:",(r.isSpecialId,r.anchorId)),940<e&&$.a.createElement(Pd,{playerWidth:e,channelKey:r.channelKey,channelLang:r.channelLang}),710<e&&$.a.createElement("div",{className:"room-anchor-panel__viewer-container room-anchor-panel__tool-tip"},$.a.createElement(X.b,{name:X.b.NAME.FIRE,size:14,className:"room-anchor-panel__viewer-icon"}),$.a.createElement(vd,{viewers:0<f?f:O})),520<e&&$.a.createElement("div",{className:"room-anchor-panel__viewer-container"},$.a.createElement(Gd.a,{title:Object(Ql.a)(r),url:"".concat(window.location.origin,"/").concat(r.anchorId,"?ts=").concat(Date.now(),"&from=pcShare"),roomId:o,tags:b}))),r.liveTags&&0<r.liveTags.length&&$.a.createElement(Od.a,{tagList:r.liveTags})),$.a.createElement("div",{className:"room-anchor-panel__side"},Tn.a.getUserId()!==E&&$.a.createElement(Cs.b,{key:E,className:"room-anchor-panel__follow-btn-container",followedComponent:$.a.createElement(wd.a,{isFollowing:!0,isMid:e<1180}),notFollowComponent:$.a.createElement(wd.a,{isFollowing:!1,isMid:e<1180,anchorInfo:r}),followUserId:E,followCallback:n,unfollowCallback:t,guestUnFollowCallback:a,guestFollowCallback:i,needToConfirm:!0,confirmText:Object(ue.f)("unfollow_confirm_text"),anchorInfo:r,from:Cs.a.liveRoom}),j!==o&&1===l.has_unlock&&(I||1===l.has_join)&&$.a.createElement(Re.a,null,$.a.createElement(Ld,{isJoin:1===l.has_join,isMini:e<1080,anchorInfo:r,name:l.fans_group_name})),j!==o&&!!x&&!!x.fansBadge&&$.a.createElement("div",{className:"room-anchor-panel__fans-group-btn"},$.a.createElement(ks,{fansGroup:x,isMid:e<995})),$.a.createElement(Hd,{roomId:o})))})}function Wd(){var e=Object(Z.useState)(!1),t=ne()(e,2),n=t[0],a=t[1],i=Object(Z.useContext)(fe.a),r=i.roomId,o=i.layout,c=i.loading,l=i.anchorInfo,s=i.playMode,u=i.chatPanelType,f=i.luckyDraw,d=i.adminType,p=i.isAdmin,m=i.headlineEnable,g=i.currentHeadline,b=Object(Z.useState)({}),h=ne()(b,2),_=h[0],v=h[1],x=Object(Z.useState)(!1),E=ne()(x,2),y=E[0],O=E[1],w=Object(Z.useRef)(null),k=Object(Z.useRef)(null),j=Object(Z.useRef)(),I=os()(function(){y&&O(!1)},1e3);return Object(Z.useEffect)(function(){function e(){return $d(void 0,void 0,void 0,Ka.a.mark(function e(){var t;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ot.d)(r);case 3:(t=e.sent)&&v(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),K.a.log("fetch match room data fail",e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))}e();var t=setInterval(function(){e()},2e4);return function(){clearInterval(t)}},[r]),e=Object(Z.useCallback)(function(e){e=e.width;return $.a.createElement(no,{value:{width:e}},$.a.createElement(_r,null,$.a.createElement(xe,null)),o!==ce.h.FULLSCREEN&&$.a.createElement($.a.Fragment,null,$.a.createElement(U,null),s===ce.k.LIVE&&$.a.createElement(ac,null)))},[s,o]),t=Object(Z.useCallback)(function(e){e=e.width;return $.a.createElement(Xu.a,{roomId:r,containerWidth:e,isMatchRoom:!0})},[r]),i=_.banner_pic,b=_.banner_link,h=_.theme_color,x=_.hosts_info,E=_.modules,_=void 0===(_=_.theme_icon)?{}:_,$.a.createElement(vf,{themeColor:h,hiddenFullBtn:o!==ce.h.THEATER||!y,theatreMode:o===ce.h.THEATER,fullPageMode:o===ce.h.FULLSCREEN,fullTheatreMode:n,ref:j},$.a.createElement(T.ThemeProvider,{theme:ep},$.a.createElement(Re.a,null,$.a.createElement("div",{className:"match-room-container"},$.a.createElement(uu,{bannerPic:i,bannerLink:b,scrollRef:j}),$.a.createElement("div",{className:"match-room__body"},$.a.createElement("div",{className:"match-room__main"},$.a.createElement(fu,{hostInfos:x,themeIcon:_}),$.a.createElement("div",{className:"match-room__player-area"},$.a.createElement(Re.a,{fallback:function(){return $.a.createElement(su,null)}},$.a.createElement(Bd,null)),$.a.createElement("div",{className:"match-room__player-container",onMouseMove:function(){y||O(!0),I()},ref:k},$.a.createElement("div",{className:"match-room__player-wrapper"},$.a.createElement(Re.a,null,$.a.createElement(tp,null,$.a.createElement(np,null,e))))),$.a.createElement("div",{className:"match-room__player__full-page-btn",onMouseEnter:function(){I.cancel(),O(!0)},onMouseLeave:function(){I()},onClick:function(){a(!n)}})),$.a.createElement("div",{className:"match-room__chat",ref:w},$.a.createElement(Ta.a,{roomType:So.d.MATCH,popoutMode:"chat",roomSettingPage:!1,roomId:r,loading:c,anchorInfo:l,layout:o,isAdmin:p,luckyDraw:f,playMode:s,adminType:d,headlineEnable:m,currentHeadline:g,openHeadlineDialog:function(){if(g){var e={lt:"rec_stat",af:"live_room",bf:"grab_headline",cf:"banner",action:"click",headline_id:g.id,live_type:l.liveType,headline_type:g.replacement?2:1,user_type:1,giver_id:g.sendUserId,recipient_id:l.anchorId,gift_id:g.giftId,gift_amount:g.giftAmount,gift_coins:g.giftTotalPrice,room_id:l.anchorId};return l.liveType===ie.d.GAME?e.game_key=l.gameKey:e.category_key=l.categoryKey,ct.a.handleDataCount(e),Ku.b.emit(Ku.a.OPEN_DIALOG,{headline:g,source:Un.b.BANNER})}}}),u!==ce.g.REALTIME_PLAYBACK_PLAYBACK&&$.a.createElement(ap,null,$.a.createElement(wl,null),$.a.createElement(Hc,null)),s===ce.k.LIVE&&$.a.createElement("div",{style:{display:o!==ce.h.FULLSCREEN?"block":"none"}},$.a.createElement(Re.a,null,$.a.createElement(Na.a,{anchorInfo:l,type:Jn.k,visible:!0}))))),$.a.createElement(Re.a,null,$.a.createElement(np,null,t)),$.a.createElement(Re.a,null,$.a.createElement(_d,{anchorInfo:l,theatreMode:o===ce.h.THEATER,roomId:r})),$.a.createElement(hf,{matchData:E,themeIcon:_}))))))}var qd=n("cjBY"),Kd=n.p+"assets/file/d75ceef3b0b667d5d6b22589619bbcfe.png",Yd=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Vd=T.default.div.withConfig({componentId:"ihhwhg-0"})(["width:94px;display:flex;flex-direction:column;text-align:center;line-height:30px;font-size:13px;> div{color:",";cursor:pointer;&:hover{color:#20bef3;}}"],function(e){return e.theme.darkTheme?"#fff":"#333"}),Xd=T.default.div.withConfig({componentId:"ihhwhg-1"})(["margin-left:15px;position:relative;cursor:pointer;.more-entry{& > img{width:24px;height:24px;}}"]),Qd=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Jd=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n},Zd=Object(T.default)(function(e){e.fullscreen;e=Jd(e,["fullscreen"]);return $.a.createElement(Hn.a,e)}).withConfig({componentId:"sc-1f2trti-0"})(["width:100%;",""],function(e){e=e.fullscreen;return Object(T.css)(["display:",";"],e?"none":"block")}),$d=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},ep={darkTheme:!0},tp=T.default.div.withConfig({componentId:"sc-1j47yze-0"})(["position:relative;flex:1;min-width:0;height:100%;"]),np=Object(T.default)(Hn.a).withConfig({componentId:"sc-1j47yze-1"})(["height:100%;display:flex;flex-direction:column;"]),ap=T.default.div.withConfig({componentId:"sc-1j47yze-2"})(["width:120%;height:100%;position:absolute;top:0;right:0;user-select:none;pointer-events:none;z-index:",";overflow:hidden;padding-left:20%;"],oc.a.GIFT_PLAYER),ip=n("nZLY");function rp(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return op(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw i}}}}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function cp(o){var e=Object(Z.useState)(!1),t=(a=ne()(e,2))[0],i=a[1],n=Object(Z.useState)(!1),a=(e=ne()(n,2))[0],c=e[1],n=Object(Z.useState)(null),n=(e=ne()(n,2))[0],l=e[1],s=Object(Z.useRef)({});return Object(Z.useEffect)(function(){s.current={},i(!1),c(!1),l(null),x.b.request(o,{cmd:N.m,msg_data:{host_id:o}}).then(function(e){var t,n,a=e.rst,i=e.err_msg,r=e.msg_data;if(0!==a){if(1004===a)return;throw new Error("".concat(i,"(#").concat(a,")"))}r&&(t=r.content,e=r.end_limit,i=r.host_id,a=r.option_array,r=r.voted_option,i===o&&(l({title:t,options:a.map(function(e){return{id:e.option_id,text:e.text,count:e.collect_num}}),endTime:new Date(e),votedOptionId:r}),c(!0),n={},a.forEach(function(e){n[e.option_id]=e.collect_num||0}),s.current=n))}).catch(function(e){K.a.error(e,{description:"获取投票初始状态失败",report:!0})});function e(e){var t,n=e.runCmd,a=e.runBody;n===N.hb&&(t=a.content,e=a.end_limit,n=a.host_id,a=a.option_array,n===o&&(l({title:t,options:a.map(function(e){return{id:e.option_id,text:e.text,count:e.collect_num}}),endTime:new Date(e),votedOptionId:0}),c(!0),i(!0)))}function t(){c(!1),i(!0),l(function(e){return e?Object.assign(Object.assign({},e),{options:e.options.map(function(e){return Object.assign(Object.assign({},e),{count:s.current[e.id]||0})})}):null})}function n(e){if(e=e.msg_data){var t=rp(e);try{for(t.s();!(a=t.n()).done;){var n=a.value,a=n.cmd,i=n.msg_data;a===N.ib&&function(){var e=i.option_array,n={};e.forEach(function(e){var t=e.option_id,e=e.collect_num;n[t]=e}),s.current=n,ip.b.emit(ip.a.RECEIVE_VOTE_DATA,n)}()}}catch(e){t.e(e)}finally{t.f()}}}return C.a.on(o,N.B,e),x.b.on(o,N.jb,t),x.b.on(o,N.bb,n),function(){C.a.off(o,N.B,e),x.b.off(o,N.jb,t),x.b.off(o,N.bb,n)}},[o]),Object(Z.useEffect)(function(){function e(){l(function(e){return e?Object.assign(Object.assign({},e),{options:e.options.map(function(e){return Object.assign(Object.assign({},e),{count:s.current[e.id]||0})})}):null}),setTimeout(function(){return i(!0)},0)}function t(){return i(!1)}function n(e){var t=e.optionId;return l(function(e){return Object.assign(Object.assign({},e),{votedOptionId:t})})}return ip.b.on(ip.a.OPEN_VOTE_DIALOG,e),ip.b.on(ip.a.CLOSE_VOTE_DIALOG,t),ip.b.on(ip.a.VOTED,n),function(){ip.b.off(ip.a.OPEN_VOTE_DIALOG,e),ip.b.off(ip.a.CLOSE_VOTE_DIALOG,t),ip.b.off(ip.a.VOTED,n)}},[]),{dialogVisible:t,voting:a,detail:n}}function lp(e){var a=e.endTime,i=e.onTimeout,t=Object(Z.useState)(Object(hp.a)(a.getTime()-Date.now())),t=(e=ne()(t,2))[0],r=e[1];return Object(Z.useEffect)(function(){var n;return function e(){var t=Date.now();t>=a.getTime()?i():(r(Object(hp.a)(a.getTime()-t)),n=setTimeout(e,900))}(),function(){return clearTimeout(n)}},[a,i]),$.a.createElement("span",null,t)}function sp(e){var t=e.text,n=e.showCount,a=e.count,i=e.totalCount,r=e.selected,e=vp(e,["text","showCount","count","totalCount","selected"]);return $.a.createElement(xp,e,$.a.createElement("div",{className:"text"},t,r&&$.a.createElement("span",{className:"selected"}," (",Object(ue.f)("activity_vote_selected"),")")),n?$.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"count"},a),$.a.createElement(Ep,{style:{transform:"scaleX(".concat(i?a/i:0,")")}})):null)}function up(e){var t=e.voting,a=e.vote,r=e.context.roomId,n=a.title,i=a.endTime,o=a.options,c=a.votedOptionId,l=Object(Z.useState)(!1),s=(e=ne()(l,2))[0],u=e[1],l=Object(Z.useCallback)(function(){return u(!1)},[]),e=Object(Z.useState)(function(){var n={};return a.options.forEach(function(e){var t=e.id,e=e.count;n[t]=e}),n}),f=(e=ne()(e,2))[0],d=e[1],e=Object(Z.useState)(!1),p=(e=ne()(e,2))[0],m=e[1],g=Object(Z.useCallback)(function(i){return yp(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return",I.d.error(Object(ue.f)("activity_vote_ended")));case 2:if(p||c)return e.abrupt("return");e.next=4;break;case 4:if(n=V.a.getState(),n.user){e.next=8;break}return ip.b.emit(ip.a.CLOSE_VOTE_DIALOG),e.abrupt("return",V.a.dispatch(Object(Wt.c)(!0)));case 8:return m(!0),e.prev=9,t=+i.currentTarget.dataset.id,e.next=13,x.b.request(r,{cmd:N.sb,msg_data:{option_id:t,host_id:r}});case 13:if(a=e.sent,n=a.rst,a=a.err_msg,0!==n)throw new Error("".concat(a,"(#").concat(n,")"));e.next=17;break;case 17:ip.b.emit(ip.a.VOTED,{optionId:t}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),K.a.error(e.t0,{description:"投票失败",report:!0}),I.d.error(e.t0.message);case 24:m(!1);case 25:case"end":return e.stop()}},e,null,[[9,20]])}))},[r,s,c,p]);Object(Z.useEffect)(function(){function e(e){return d(e)}return ip.b.on(ip.a.RECEIVE_VOTE_DATA,e),function(){ip.b.off(ip.a.RECEIVE_VOTE_DATA,e)}},[]),Object(Z.useEffect)(function(){u(t)},[t]);var b=Object.values(f).reduce(function(e,t){return e+t},0);return $.a.createElement(Op,null,$.a.createElement("div",{className:"content"},$.a.createElement("div",{className:"time"},$.a.createElement("img",{className:"clock",src:_p,alt:"clock"}),s?$.a.createElement(lp,{endTime:i,onTimeout:l}):$.a.createElement("span",null,Object(ue.f)("activity_vote_ended")),!s||c?$.a.createElement($.a.Fragment,null,$.a.createElement("br",null),$.a.createElement("span",null,"(",Object(ue.f)("activity_vote_voted_count").replace("{{count}}","".concat(b)),")")):null),$.a.createElement("div",{className:"title"},n),o.map(function(e){var t=e.id,e=e.text;return $.a.createElement(sp,{key:t,text:e,showCount:!s||!!c,count:f[t]||0,totalCount:b,selected:!!c&&c===t,onClick:g,"data-id":t})})))}var r=n("i8i4"),fp=n.n(r),dp=Object(T.keyframes)(["0%{opacity:0;}100%{opacity:1;}"]),pp=Object(T.keyframes)(["0%{opacity:1;}100%{opacity:0;}"]),mp=Object(T.keyframes)(["0%,100%,20%,40%,60%,80%{transition-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:scale3d(0.3,0.3,0.3) translateY(-10%);}20%{transform:scale3d(1.1,1.1,1.1) translateY(-10%);}40%{transform:scale3d(0.9,0.9,0.9) translateY(-10%);}60%{opacity:1;transform:scale3d(1.03,1.03,1.03) translateY(-10%);}80%{transform:scale3d(0.97,0.97,0.97) translateY(-10%);}100%{opacity:1;transform:scale3d(1,1,1) translateY(-10%);}"]),gp=Object(T.keyframes)(["0%,100%,20%,40%,60%,80%{transition-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:1;transform:scale3d(1,1,1) translateY(-10%);}20%{transform:scale3d(0.97,0.97,0.97) translateY(-10%);}40%{opacity:1;transform:scale3d(1.03,1.03,1.03) translateY(-10%);}60%{transform:scale3d(0.9,0.9,0.9) translateY(-10%);}80%{transform:scale3d(1.1,1.1,1.1) translateY(-10%);}100%{opacity:0;transform:scale3d(0.3,0.3,0.3) translateY(-10%);}"]),en=n.p+"assets/file/2e888d1f2726a5aa8b8dc20e3aa4471d.png",mn=n.p+"assets/file/a6292e29ae14ccb96080f785853af999.png",ft=n.p+"assets/file/d9e6a1bdc3ce39949d385d02fa970a77.png",bp=n.p+"assets/file/2fafc1b24eab006d92e7dd30b4a7cdf8.png",hp=n("alEt"),_p=n.p+"assets/file/5175cd418702ea04ae08b917d48fe80a.png",vp=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n},xp=T.default.div.withConfig({componentId:"son6yq-0"})(["display:flex;align-items:center;border-radius:4px;background-color:#fff;margin:10px 0;padding:10px;cursor:pointer;position:relative;overflow:hidden;line-height:1.5;> .text{z-index:2;position:relative;flex:1;min-width:0;color:#333;font-size:12px;> .selected{color:#f6c145;}}> .count{z-index:2;position:relative;margin-left:10px;font-size:12px;color:#f6c145;}"]),Ep=T.default.div.withConfig({componentId:"son6yq-1"})(["z-index:1;position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(246,193,69,0.3);transform-origin:left;transition:transform 300ms;"]),yp=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},Op=T.default.div.withConfig({componentId:"sc-19cvm9z-0"})(["background:linear-gradient(135deg,rgb(69,163,224),rgb(87,85,217));padding:10px;border-radius:20px;position:relative;> .content{padding:","px 10px 20px 10px;border-radius:20px;background:linear-gradient(135deg,rgba(97,191,236),rgba(84,138,255));> .time{line-height:1.5;text-align:center;font-size:14px;color:#fff;> .clock{width:18px;height:18px;vertical-align:text-bottom;margin-right:5px;}> span{vertical-align:top;}}> .title{font-size:14px;color:#fff;margin:10px 0;line-height:1.5;}}"],110/3+10),wp=(rn={},Qe()(rn,ue.b.ENGLISH,ft),Qe()(rn,ue.b.KOREAN,mn),Qe()(rn,ue.b.JAPANESE,en),Qe()(rn,ue.b.CHINESE,en),rn)[ue.d],kp=T.default.div.withConfig({componentId:"sc-36sgd1-0"})(["z-index:",";position:fixed;width:100%;height:100%;top:0;left:0;background-color:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;transition:all ","ms;",""],oc.a.DIALOG,500,function(e){e=e.visible;return Object(T.css)(["animation:"," ","ms ease-in-out forwards;"],e?dp:pp,500)}),jp=T.default.div.withConfig({componentId:"sc-36sgd1-1"})(["width:","px;position:relative;> .close{position:absolute;width:36px;height:36px;bottom:-50px;left:calc(50% - 18px);cursor:pointer;}> .header{display:block;height:","px;margin:0 auto -","px auto;position:relative;z-index:1;}",""],340,110,27.5,function(e){e=e.visible;return Object(T.css)(["animation:"," ","ms ease-in-out forwards;"],e?mp:gp,500)}),Ip=$.a.memo(function(e){var t=e.visible,n=e.voting,a=e.vote,i=e.context,r=Object(Z.useState)(!1),e=ne()(r,2),r=e[0],o=e[1],e=Object(Z.useCallback)(function(){return ip.b.emit(ip.a.CLOSE_VOTE_DIALOG)},[]);return Object(Z.useEffect)(function(){t?o(!0):setTimeout(function(){return o(!1)},600)},[t]),r&&a?$.a.createElement(kp,{visible:t},$.a.createElement(jp,{visible:t},$.a.createElement("img",{className:"close",src:bp,alt:"close",onClick:e}),$.a.createElement("img",{className:"header",src:wp,alt:"header"}),$.a.createElement(up,{voting:n,vote:a,context:i}))):null},function(e,t){return!e.visible&&!t.visible}),Cp=$.a.memo(function(){var e=Object(Z.useContext)(fe.a),t=e.vote,n=t.dialogVisible,a=t.voting,i=t.detail,t=Object(Z.useMemo)(function(){return fp.a.createPortal($.a.createElement(Ip,{visible:n,voting:a,vote:i,context:e}),document.body)},[n,i,a,e]),t=Object(k.a)({key:j.c.vote,comp:t,compType:j.b.vote}),r=t.showDialog,o=t.hideDialog;return Object(Z.useEffect)(function(){(n?r:o)()},[r,o,n]),null}),Np=n("s03N"),Tp=n("UOZH"),Sp=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})};function Ap(e){return V.a.getState().configure.gift.giftIdMapDetail[e]}function Lp(e){var o=e.roomId,c=e.followed,t=Object(Z.useState)(!1),t=(e=ne()(t,2))[0],s=e[1],e=Object(Z.useState)(!1),l=(e=ne()(e,2))[0],u=e[1],e=Object(Z.useState)(null),f=(e=ne()(e,2))[0],d=e[1],p=Object(Z.useCallback)(function(e){var a=e.startDrawType,i=e.barrage,r=e.giftId;return Sp(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=V.a.getState(),t=n.user,e.next=3,x.b.request(o,{cmd:N.qb,msg_data:{user_id:t.user_id,start_draw_type:a,barrage:i||"",gift_id:r}});case 3:if(n=e.sent,t=n.rst,n=n.err_msg,0!==t)throw new Error("".concat(n,"(#").concat(t,")"));e.next=8;break;case 8:case"end":return e.stop()}},e)}))},[o]);return Object(Z.useEffect)(function(){s(!1),u(!1),d(null),x.b.request(o,{cmd:N.l,msg_data:{host_id:o}}).then(function(e){var t,n,a,i,r,o=e.rst,c=e.err_msg,l=e.msg_data;if(0!==o){if(1001===o)return;throw new Error("".concat(c,"(#").concat(o,")"))}l&&(t=(r=l.draw_config).effect_end,n=r.coins_per_winner,a=r.start_draw_type,i=r.winner_count,e=r.join_premises.fans,c=r.join_requirement,o=r.gift_id,r=l.join_status,l=l.winners,d({endTime:new Date(t),coinPerWinner:n,startDrawType:a,winnerCount:i,needToBeFans:!!e,joined:!!r,barrage:a===Tp.b.SPECIFY_CHAT?c[0].barrage:"",gift:Ap(o),winners:(l||[]).map(function(e){var t=e.user_id,n=e.avatar;return{id:t,name:e.loginname,avatar:n}})}),u(!0),s(!0))}).catch(function(e){return K.a.error(e,{description:"获取抽奖数据失败",report:!0})});function e(e){var t,n,a,i,r,o,c=e.runCmd,l=e.runBody;c===N.T&&(t=l.join_status,n=(o=l.draw_config).effect_end,a=o.coins_per_winner,i=o.start_draw_type,r=o.winner_count,e=o.join_premises.fans,c=o.join_requirement,o=o.gift_id,l=l.winners,d({endTime:new Date(n),coinPerWinner:a,startDrawType:i,winnerCount:r,needToBeFans:!!e,joined:!!t,barrage:i===Tp.b.SPECIFY_CHAT?c[0].barrage:"",gift:Ap(o),winners:(l||[]).map(function(e){var t=e.user_id,n=e.avatar;return{id:t,name:e.loginname,avatar:n}})}),u(!0),s(!0))}function t(e){var t=e.msg_data.winners;d(function(e){return e?Object.assign(Object.assign({},e),{winners:(t||[]).map(function(e){var t=e.avatar,n=e.loginname;return{id:e.user_id,name:n,avatar:t}})}):null}),u(!1),s(!0),V.a.dispatch(Object(ta.b)())}return C.a.on(o,N.B,e),x.b.on(o,N.U,t),function(){C.a.off(o,N.B,e),x.b.off(o,N.U,t)}},[o]),Object(Z.useEffect)(function(){function e(){return s(!0)}function t(){return s(!1)}function n(){return d(function(e){return e?Object.assign(Object.assign({},e),{joined:!0}):null})}return Np.b.on(Np.a.OPEN_LUCKY_DRAW_DIALOG,e),Np.b.on(Np.a.CLOSE_LUCKY_DRAW_DIALOG,t),Np.b.on(Np.a.JOINED,n),function(){Np.b.off(Np.a.OPEN_LUCKY_DRAW_DIALOG,e),Np.b.off(Np.a.CLOSE_LUCKY_DRAW_DIALOG,t),Np.b.off(Np.a.JOINED,n)}},[]),Object(Z.useEffect)(function(){function e(o){return Sp(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a,i,r;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&f&&!f.joined){e.next=2;break}return e.abrupt("return");case 2:if(t=f.startDrawType,n=f.barrage,a=f.needToBeFans,t!==Tp.b.ANY_CHAT&&t!==Tp.b.SPECIFY_CHAT)return e.abrupt("return");e.next=5;break;case 5:if(a&&!c)return e.abrupt("return");e.next=7;break;case 7:if(i=V.a.getState(),i.user){e.next=10;break}return e.abrupt("return");case 10:if(e.prev=10,r=!1,t===Tp.b.ANY_CHAT)return e.next=15,p({startDrawType:Tp.b.ANY_CHAT,barrage:o});e.next=18;break;case 15:r=!0,e.next=22;break;case 18:if(t===Tp.b.SPECIFY_CHAT&&n===o)return e.next=21,p({startDrawType:Tp.b.SPECIFY_CHAT,barrage:o});e.next=22;break;case 21:r=!0;case 22:r&&(d(function(e){return e?Object.assign(Object.assign({},e),{joined:!0}):null}),I.d.success(Object(ue.f)("activity_lucky_draw_success_to_join"))),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(10),K.a.error(e.t0,{description:"参与抽奖失败",report:!0}),I.d.error(e.t0.message);case 29:case"end":return e.stop()}},e,null,[[10,25]])}))}function t(i){return Sp(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&f&&!f.joined){e.next=2;break}return e.abrupt("return");case 2:if(t=f.startDrawType,n=f.gift,a=f.needToBeFans,t!==Tp.b.GIFT)return e.abrupt("return");e.next=5;break;case 5:if(a&&!c)return e.abrupt("return");e.next=7;break;case 7:if(n&&n.id===i){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,e.next=12,p({startDrawType:Tp.b.GIFT,giftId:i});case 12:d(function(e){return e?Object.assign(Object.assign({},e),{joined:!0}):null}),I.d.success(Object(ue.f)("activity_lucky_draw_success_to_join")),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(9),K.a.error(e.t0,{description:"参与抽奖失败",report:!0}),I.d.error(e.t0.message);case 20:case"end":return e.stop()}},e,null,[[9,16]])}))}return de.h.on(de.c.CHAT_PANEL_MSG_SEND,e),de.h.on(de.g.SEND_GIFT,t),function(){de.h.off(de.c.CHAT_PANEL_MSG_SEND,e),de.h.off(de.g.SEND_GIFT,t)}},[c,l,f,p]),{dialogVisible:t,drawing:l,detail:f,join:p}}function Dp(){var e=Object(Z.useCallback)(function(){return Np.b.emit(Np.a.CLOSE_LUCKY_DRAW_DIALOG)},[]);return $.a.createElement($p,null,$.a.createElement("img",{className:"opps",src:Jp,alt:"opps"}),$.a.createElement("div",{className:"text"},Object(ue.f)("activity_lucky_draw_error")),$.a.createElement(Zp,{onClick:e},Object(ue.f)("cmm_ok")))}function Pp(e){return e=e.amount,$.a.createElement(tm,null,$.a.createElement("img",{className:"coin",src:em,alt:"coint"}),$.a.createElement("span",{className:"text"},"x ",e))}function Rp(e){var a=e.endTime,i=e.onTimeout,t=Object(Z.useState)(Object(nm.a)(a.getTime()-Date.now())),t=(e=ne()(t,2))[0],r=e[1];return Object(Z.useEffect)(function(){var n;return function e(){var t=Date.now();t>=a.getTime()?i():(r(Object(nm.a)(a.getTime()-t)),n=setTimeout(e,900))}(),function(){return clearTimeout(n)}},[a,i]),$.a.createElement("span",null,t)}function zp(e){return e=e.winnerCount,$.a.createElement(rm,null,"(",Object(ue.f)("activity_lucky_draw_winner_count").replace("{{count}}","".concat(e)),")")}function Mp(e){var t=e.coinPerWinner,n=e.endTime,a=e.winnerCount,i=Object(Z.useState)(!1),e=(o=ne()(i,2))[0],r=o[1],i=Object(Z.useCallback)(function(){return r(!0)},[]),o=Object(Z.useCallback)(function(){return Np.b.emit(Np.a.CLOSE_LUCKY_DRAW_DIALOG)},[]);return $.a.createElement(om,null,$.a.createElement(Pp,{amount:t}),$.a.createElement(zp,{winnerCount:a}),$.a.createElement(am,null,e?$.a.createElement("div",{className:"title"},Object(ue.f)("activity_lucky_draw_waiting"),"..."):$.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"title"},Object(ue.f)("activity_lucky_draw_count_time")),$.a.createElement("div",{className:"sub-title"},$.a.createElement("img",{className:"icon",src:im,alt:"count time"}),$.a.createElement(Rp,{endTime:n,onTimeout:i})))),$.a.createElement("button",{type:"button",className:"joined",onClick:o},$.a.createElement(X.b,{className:"icon",name:X.b.NAME.CHECKED,sizze:20}),$.a.createElement("span",{className:"text"},Object(ue.f)("activity_lucky_draw_joined"))))}function Gp(e){var t=e.winner,n=e.coin,e=e.self;return $.a.createElement(lm,{self:e},$.a.createElement($e.b,{src:t.avatar,size:28}),$.a.createElement("div",{className:"name"},t.name),$.a.createElement("img",{className:"icon",src:em,alt:"coin"}),$.a.createElement("div",{className:"coin"},"x",n))}function Fp(e){var t=e.coinPerWinner,n=e.winners,a=e.context.user,e=a&&n.find(function(e){return e.id===a.user_id});return $.a.createElement(sm,null,e?$.a.createElement($.a.Fragment,null,$.a.createElement(Pp,{amount:t}),$.a.createElement("div",{className:"win"},Object(ue.f)("activity_lucky_draw_is_winner"))):$.a.createElement("div",{className:"no-win"},$.a.createElement("img",{className:"icon",src:cm,alt:"no win"}),$.a.createElement("div",{className:"text"},Object(ue.f)("activity_lucky_draw_not_winner"))),$.a.createElement("div",{className:"whiteboard"},$.a.createElement("div",{className:"count"},Object(ue.f)("activity_lucky_draw_winner_count_2").replace("{{count}}",n.length.toString())),$.a.createElement("div",{className:"winner-list"},n.map(function(e){return $.a.createElement(Gp,{key:e.id,winner:e,coin:t,self:!!a&&e.id===a.user_id})}))))}function Up(){return Np.b.emit(Np.a.CLOSE_LUCKY_DRAW_DIALOG)}function Hp(e){var t,n=e.startDrawType,a=e.coinPerWinner,i=e.winnerCount,r=e.needToBeFans,o=e.barrage,c=e.gift,l=(e=e.context).roomId,s=e.anchorInfo,u=e.isAdmin,f=e.luckyDraw.join,e=Object(Z.useState)(!1),d=(e=ne()(e,2))[0],p=e[1];if(r&&!s.ifFollow)t=$.a.createElement($.a.Fragment,null,$.a.createElement(am,null,$.a.createElement("div",{className:"title"},Object(ue.f)("activity_lucky_draw_type_follower")),$.a.createElement("div",{className:"sub-title"},Object(ue.f)("activity_lucky_draw_type_follower_description"))),$.a.createElement(Zp,{disabled:d,onClick:function(){return fm(void 0,void 0,void 0,Ka.a.mark(function e(){var t;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=V.a.getState(),t.user){e.next=4;break}return Up(),e.abrupt("return",V.a.dispatch(Object(Wt.c)(!0)));case 4:return p(!0),e.prev=5,e.next=8,Object(A.E)({userId:s.anchorId,categoryKey:null==s?void 0:s.categoryKey});case 8:de.h.emit(de.g.UPDATE_ANCHOR_INFO,Object.assign(Object.assign({},s),{ifFollow:!0})),Yn.b.emit(Yn.a.FOLLOW_SOMEONE,s.anchorId),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),K.a.error(e.t0,{description:"关注失败",report:!0}),I.d.error(e.t0.message);case 16:p(!1);case 17:case"end":return e.stop()}},e,null,[[5,12]])}))}},$.a.createElement(X.b,{name:X.b.NAME.FOLLOW,className:"icon",size:22}),$.a.createElement("span",{className:"text"},Object(ue.f)("activity_lucky_draw_type_follower_follow_now")),d&&$.a.createElement(ea.a,{size:18,className:"loader"})));else switch(n){case Tp.b.ANY_CHAT:t=$.a.createElement($.a.Fragment,null,$.a.createElement(am,null,$.a.createElement("div",{className:"title"},Object(ue.f)("activity_lucky_draw_type_any_chat"))),$.a.createElement(Zp,{disabled:d,onClick:Up},Object(ue.f)("activity_lucky_draw_join_now"),d&&$.a.createElement(ea.a,{size:18,className:"loader"})));break;case Tp.b.GIFT:t=$.a.createElement($.a.Fragment,null,$.a.createElement(am,null,$.a.createElement("div",{className:"title"},Object(ue.f)("activity_lucky_draw_type_gift")),c?$.a.createElement("img",{className:"gift",src:c.picture,alt:"gift"}):null),$.a.createElement(Zp,{onClick:Up},Object(ue.f)("activity_lucky_draw_join_now")));break;case Tp.b.SPECIFY_CHAT:t=$.a.createElement($.a.Fragment,null,$.a.createElement(am,null,$.a.createElement("div",{className:"title"},Object(ue.f)("activity_lucky_draw_type_specify_chat")),$.a.createElement("div",{className:"sub-title"},o)),$.a.createElement(Zp,{onClick:function(){return fm(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a,i;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=V.a.getState(),n.user){e.next=4;break}return Up(),e.abrupt("return",V.a.dispatch(Object(Wt.c)(!0)));case 4:if(!s.ifFollow&&null!==(t=s.roomSetting)&&void 0!==t&&t.chatMustFans)return e.abrupt("return",I.d.error(Object(ue.f)("liveroom_chat_must_fans")));e.next=6;break;case 6:return p(!0),e.prev=7,(n=Object(um.b)(o,l,s,u)).nonopara="`source_site=luck_draw",e.next=12,C.a.request(l,n);case 12:if(i=e.sent,a=i.rst,i=i.desc,0===a){e.next=23;break}if(1006===a)throw new Error(Object(ue.f)("admin_be_blocked_tip2"));e.next=20;break;case 20:if(1008===a)throw new Error(i);e.next=22;break;case 22:throw new Error(Object(ue.f)("activity_lucky_draw_type_specify_chat_send_error"));case 23:return de.h.emit(de.c.CHAT_PANEL_MSG_SEND,o),e.next=26,f({startDrawType:Tp.b.SPECIFY_CHAT,barrage:o});case 26:Np.b.emit(Np.a.JOINED),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(7),K.a.error(e.t0,{description:"参与口令抽奖失败",report:!0}),I.d.error(e.t0.message);case 33:p(!1);case 34:case"end":return e.stop()}},e,null,[[7,29]])}))}},Object(ue.f)("activity_lucky_draw_join_now")));break;default:t=null}return $.a.createElement(dm,null,$.a.createElement(Pp,{amount:a}),$.a.createElement(zp,{winnerCount:i}),t)}function Bp(e){var t=e.drawing,n=e.luckyDraw,a=e.context,i=n.endTime,r=n.coinPerWinner,o=n.winnerCount,c=n.startDrawType,l=n.needToBeFans,s=n.barrage,u=n.joined,e=n.winners,n=n.gift;return $.a.createElement(pm,null,t?u?$.a.createElement(Mp,{coinPerWinner:r,endTime:i,winnerCount:o}):$.a.createElement(Hp,{startDrawType:c,coinPerWinner:r,winnerCount:o,needToBeFans:l,barrage:s,gift:n,context:a}):e.length?$.a.createElement(Fp,{coinPerWinner:r,winners:e,context:a}):$.a.createElement(Dp,null))}function Wp(){return Np.b.emit(Np.a.CLOSE_LUCKY_DRAW_DIALOG)}function qp(e){var t=e.open,n=e.onClose,a=Object(ee.g)(),i=Object(Z.useCallback)(function(){n(),Bn.a().then(function(e){Ua.a.glean({lt:"pcclick",ct:"push",dt:"permission",et:"system_prompt",result:e}),vs().catch(function(e){K.a.error(e,{description:"subscribe failed",report:!0})})}),Ua.a.glean({lt:"pcclick",ct:"push",dt:"permission",et:"custom_prompt",result:1})},[n]),e=Object(Z.useCallback)(function(){Wn.a.setex(Be.db,259200,1),Ua.a.glean({lt:"pcclick",ct:"push",dt:"permission",et:"custom_prompt",result:0}),n()},[n]);return Object(Z.useEffect)(function(){return a.listen(n)},[a,n]),$.a.createElement(S.c,{open:t},$.a.createElement(Om,null,$.a.createElement("img",{alt:"guide-img",className:"web-push-permission-dialog__guide-img",src:ym}),$.a.createElement("div",{className:"web-push-permission-dialog__title"},Object(ue.f)("push_permission_title")),$.a.createElement("div",{className:"web-push-permission-dialog__tips"},Object(ue.f)("push_permission_tips")),$.a.createElement("button",{type:"button",className:"web-push-permission-dialog__agree-btn",onClick:i},Object(ue.f)("agree")),$.a.createElement("span",{onClick:e},$.a.createElement("img",{src:Em,alt:"guide-img",className:"web-push-permission-dialog__close"}))))}function Kp(){var e=Object(Z.useState)(!1),e=(n=ne()(e,2))[0],t=n[1],n=Object(Z.useCallback)(function(){return t(!1)},[]);return Object(Z.useEffect)(function(){function e(){return t(!0)}return de.h.on(de.g.OPEN_WEB_PUSH_PERMISSION_DIALOG,e),function(){de.h.off(de.g.OPEN_WEB_PUSH_PERMISSION_DIALOG,e)}},[]),$.a.createElement(qp,{open:e,onClose:n})}var Yp=Object(T.keyframes)(["0%{opacity:0;}100%{opacity:1;}"]),Vp=Object(T.keyframes)(["0%{opacity:1;}100%{opacity:0;}"]),Xp=Object(T.keyframes)(["0%,100%,20%,40%,60%,80%{transition-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:0;transform:scale3d(0.3,0.3,0.3) translateY(-10%);}20%{transform:scale3d(1.1,1.1,1.1) translateY(-10%);}40%{transform:scale3d(0.9,0.9,0.9) translateY(-10%);}60%{opacity:1;transform:scale3d(1.03,1.03,1.03) translateY(-10%);}80%{transform:scale3d(0.97,0.97,0.97) translateY(-10%);}100%{opacity:1;transform:scale3d(1,1,1) translateY(-10%);}"]),Qp=Object(T.keyframes)(["0%,100%,20%,40%,60%,80%{transition-timing-function:cubic-bezier(0.215,0.61,0.355,1)}0%{opacity:1;transform:scale3d(1,1,1) translateY(-10%);}20%{transform:scale3d(0.97,0.97,0.97) translateY(-10%);}40%{opacity:1;transform:scale3d(1.03,1.03,1.03) translateY(-10%);}60%{transform:scale3d(0.9,0.9,0.9) translateY(-10%);}80%{transform:scale3d(1.1,1.1,1.1) translateY(-10%);}100%{opacity:0;transform:scale3d(0.3,0.3,0.3) translateY(-10%);}"]),bt=n.p+"assets/file/cd567f8e368f1aa2839e401de3754ec8.png",Jp=n.p+"assets/file/af552c43d7b626113fd306e8fd20a5e1.png",Zp=T.default.button.attrs({type:"button"}).withConfig({componentId:"sc-1qh1ozv-0"})(["position:relative;display:block;width:220px;height:40px;line-height:40px;border-radius:20px;transition:all 300ms;font-size:14px;color:#fff;background-color:#fdb658;text-align:center;border:none;outline:none;> .icon{color:#fff;margin-right:5px;}> .text{vertical-align:middle;}> .loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}&:disabled{opacity:0.5 !important;cursor:not-allowed;}&:hover{opacity:0.8;}&:active{opacity:1;}"]),$p=T.default.div.withConfig({componentId:"sc-1mdrfrf-0"})(["flex:1;min-height:0;display:flex;flex-direction:column;align-items:center;justify-content:space-around;padding-bottom:40px;> .opps{width:60px;height:60px;}> .text{font-size:13px;color:#fff;margin:0 60px;text-align:center;line-height:1.5;}"]),em=n.p+"assets/file/640bdc40a3d0fd78e9229a7751dc995d.png",tm=T.default.div.withConfig({componentId:"sc-13miwz6-0"})(["text-align:center;> .coin{width:32px;height:32px;margin-right:8px;vertical-align:middle;}> .text{vertical-align:middle;color:#fff;font-size:24px;font-weight:bold;}"]),nm=n("Yj8M"),am=T.default.div.withConfig({componentId:"sc-1ajtwm4-0"})(["background-color:rgba(255,255,255,0.3);border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;height:84px;line-height:19px;font-size:14px;margin:20px 40px;align-self:stretch;> .title{padding:0 20px;color:#fff;text-align:center;}> .sub-title{color:rgba(255,255,255,0.7);margin:5px 10px 0 10px;text-align:center;word-break:break-all;> .icon{width:16px;height:16px;vertical-align:middle;margin-right:5px;}> span{vertical-align:middle;}}> .gift{height:50px;}"]),im=n.p+"assets/file/c6a9ab148e4eab2223daef954dd1ad66.png",rm=T.default.div.withConfig({componentId:"otq1p3-0"})(["text-align:center;color:#ffd752;font-size:12px;margin:5px 0;"]),om=T.default.div.withConfig({componentId:"sc-8qwtol-0"})(["flex:1;min-height:0;display:flex;flex-direction:column;align-items:center;justify-content:space-around;padding-bottom:40px;> .joined{display:block;width:220px;height:40px;border-radius:20px;background:rgba(255,213,56,0.2);border:1px solid rgb(255,213,56);box-shadow:0px 4px 20px rgba(243,160,51,0.78);font-size:14px;color:#fff;> .icon{color:#fff;margin-right:5px;}> .text{vertical-align:middle;}}"]),cm=n.p+"assets/file/8778c585cdfefe4915d3ab2620b1d18c.png",lm=T.default.div.withConfig({componentId:"sc-1a75bot-0"})(["display:flex;align-items:center;padding:5px 10px;> .name{color:#fff;font-size:12px;flex:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin:0 10px;}> .icon{width:18px;height:18px;margin-right:5px;}> .coin{font-size:12px;color:#fff;}",""],function(e){e=e.self;return Object(T.css)(["background-color:",";"],e?"rgba(252, 252, 252, 0.25)":"transparent")}),sm=T.default.div.withConfig({componentId:"oli1w6-0"})(["flex:1;min-height:0;display:flex;flex-direction:column;align-items:center;> .win{font-size:12px;color:#ffd752;text-align:center;margin-bottom:20px;}> .no-win{width:220px;display:flex;align-items:center;margin-bottom:20px;> .icon{width:33px;height:33px;margin-right:10px;}> .text{flex:1;min-width:0;font-size:13px;color:#fff;line-height:1.5;}}> .whiteboard{border-radius:10px;align-self:stretch;flex:1;min-height:0;background-color:rgba(252,252,252,0.25);margin:0 40px 35px 40px;display:flex;flex-direction:column;> .count{font-size:14px;font-weight:600;padding:10px 0 5px 0;text-align:center;color:#fff;}> .winner-list{flex:1;min-height:0;overflow:auto;",";}}"],vt.a),um=n("VmMe"),fm=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},dm=T.default.div.withConfig({componentId:"sc-8gavln-0"})(["flex:1;min-height:0;display:flex;flex-direction:column;align-items:center;justify-content:stretch;"]),pm=T.default.div.withConfig({componentId:"b46sx8-0"})(["background-image:url(",");background-size:cover;height:","px;padding-top:","px;display:flex;flex-direction:column;"],bt,318.5,60),_t=n.p+"assets/file/7a93cddd5ad2db10183a8860d43dca44.png",r=n.p+"assets/file/72d54826df31e5c4f5597cdfc68c2e19.png",ft=n.p+"assets/file/b7459e294f1ecc0d2759006a101e4e92.png",mn=n.p+"assets/file/22483a77eff9ec713ab7118a2cbe1087.png",mm=(en={},Qe()(en,ue.b.ENGLISH,ft),Qe()(en,ue.b.KOREAN,r),Qe()(en,ue.b.JAPANESE,_t),Qe()(en,ue.b.CHINESE,_t),en)[ue.d],gm=T.default.div.withConfig({componentId:"wtuzu9-0"})(["z-index:",";position:fixed;width:100%;height:100%;top:0;left:0;background-color:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;",""],oc.a.DIALOG,function(e){e=e.visible;return Object(T.css)(["animation:"," ","ms ease-in-out forwards;"],e?Yp:Vp,500)}),bm=T.default.div.withConfig({componentId:"wtuzu9-1"})(["width:","px;position:relative;> .close{position:absolute;width:36px;height:36px;cursor:pointer;bottom:-50px;left:calc(50% - 18px);background-image:url(",");background-size:100% 100%;}> .header{position:absolute;height:","px;display:block;top:-","px;left:50%;transform:translateX(-50%);}",""],350,mn,90,90/7*4,function(e){e=e.visible;return Object(T.css)(["animation:"," ","ms ease-in-out forwards;"],e?Xp:Qp,500)}),hm=$.a.memo(function(e){var t=e.visible,n=e.drawing,a=e.luckyDraw,i=e.context,r=Object(Z.useState)(!1),e=ne()(r,2),r=e[0],o=e[1];return Object(Z.useEffect)(function(){t?o(!0):setTimeout(function(){o(!1)},600)},[t]),r&&a?$.a.createElement(gm,{visible:t},$.a.createElement(bm,{visible:t},$.a.createElement("div",{className:"close",onClick:Wp}),$.a.createElement("img",{className:"header",src:mm,alt:"lucky draw"}),$.a.createElement(Bp,{drawing:n,luckyDraw:a,context:i}))):null},function(e,t){return!e.visible&&!t.visible}),_m=$.a.memo(function(){var e=Object(Z.useContext)(fe.a),t=e.luckyDraw,n=t.drawing,a=t.detail,i=t.dialogVisible,r=Object(Z.useMemo)(function(){return fp.a.createPortal($.a.createElement(hm,{visible:i,drawing:n,luckyDraw:a,context:e}),document.body)},[i,a,n,e]),t=Object(k.a)({key:j.c.draw,comp:r,compType:j.b.draw}),o=t.showDialog,c=t.hideDialog;return Object(Z.useEffect)(function(){i?o({key:j.c.draw,comp:r}):c()},[o,c,i,r]),null}),vm=n("WlxL"),xm=function(e){var t=e.roomId,n=e.living,a=Object(Z.useState)({}),e=ne()(a,2),a=e[0],i=e[1];return Object(Z.useLayoutEffect)(function(){function e(){Object(vm.a)(ot.k,{times:3})({host_id:t}).promise.then(function(e){var t=(null==e?void 0:e.activity)||{},n=t.first_top_up,a=void 0===n?{}:n,n=t.pirate_ship,n=void 0===n?null:n,t=t.user_task,t=void 0===t?null:t;return{hostRankIcon:e.rank,firstTopUp:a,pirateShip:n,userTask:t}}).then(function(e){var t,n,a;e&&(t=e.hostRankIcon,n=e.firstTopUp,a=e.pirateShip,e=e.userTask,i({host_level:t,firstTopUp:n,pirateShip:a,userTask:e}))})}return de.h.on(de.g.END_ROOM_INIT,e),function(){de.h.off(de.g.END_ROOM_INIT,e)}},[t,n]),{actConfig:a,setActConfig:i}},Em=n.p+"assets/file/8d48337a4ac1f84b5860c6978c6f84a1.png",ym=n.p+"assets/file/deca2bffa6313656fe66ce694ae91aa7.png",Om=T.default.div.withConfig({componentId:"ahmcsn-0"})(["width:406px;position:relative;background-color:#fff;border-radius:4px;overflow:hidden;display:flex;flex-direction:column;align-items:center;margin:0 auto;.web-push-permission-dialog__close{position:absolute;right:16px;top:16px;width:14px;cursor:pointer;}.web-push-permission-dialog__guide-img{width:406px;margin-bottom:16px;}.web-push-permission-dialog__title{font-size:14px;margin-bottom:8px;","}.web-push-permission-dialog__tips{widows:100%;text-align:center;font-size:12px;font-weight:400;color:#8d8d8d;line-height:18px;margin-bottom:15px;}.web-push-permission-dialog__agree-btn{width:220px;height:40px;border-radius:36px;cursor:pointer;line-height:30px;text-align:center;background:#20bef3;font-size:16px;color:rgba(255,255,255,1);margin-bottom:30px;}",""],function(e){e=e.theme;return Object(T.css)(["color:",";"],e.darkTheme?"#fff":"#232323")},function(e){e=e.theme;return Object(T.css)(["background:",";"],e.darkTheme?"#2e3637":"#fff")}),wm=n("jKTb"),km=n("EpQk"),jm=n("8jUZ"),Im=n("k2W6");try{var Cm=Object(km.a)(JSON.parse(localStorage.getItem(Be.ub)||"{}")),Nm=Object.assign(Im.a,Cm)}catch(e){Nm=Im.a}var Tm={entry:{progress:0,target:0,box_ids:[],isShow:!1,status:wm.b.progress,count_box_ids:[],cur_progress_box_id:0,start_time:0,end_time:0},dialog:{enableAuto:!0,isOpenList:!1},effect:Nm.magicBoxEffectDisplay};function Sm(e,t){switch(t.type){case"resetEntry":return Object.assign(Object.assign({},e),{entry:Object.assign({},Tm.entry)});case"updateEntry":return Object.assign(Object.assign({},e),{entry:Object.assign(Object.assign({},e.entry),t.data)});case"updateDialog":return Object.assign(Object.assign({},e),{dialog:Object.assign(Object.assign({},e.dialog),t.data)});case"updateEffect":return Object.assign(Object.assign({},e),{effect:t.data});default:return e}}function Am(e){var t=e.visible,n=e.reward,a=e.onClose,i=e.isRound2,n=void 0===(n=(n||{}).quantity)?0:n;return $.a.createElement(S.c,{open:t,type:S.b.CENTER,onBarClick:function(){a&&a()}},$.a.createElement($m,null,$.a.createElement("div",{className:"title rewardTitle"},$.a.createElement("div",{className:"coin"}),$.a.createElement("div",{className:"number"},"×",n)),$.a.createElement("div",{className:"desc"},Object(ue.f)("magic_box_reward").replace("xxx","".concat(n))),$.a.createElement("div",{onClick:function(){i||de.h.emit(de.f.LIST_DIALOG_SHOW),a()},className:"btn"},i?"ok":Object(ue.f)("magic_box_round2_tip")),$.a.createElement(X.b,{className:"closeBtn",name:X.b.NAME.QUIZ_CLEAR,size:36,onClick:a})))}function Lm(e){var t=e.visible,n=e.onClose,a=e.isRound2;return $.a.createElement(S.c,{open:t,type:S.b.CENTER,onBarClick:function(){n&&n()}},$.a.createElement($m,null,$.a.createElement("div",{className:"title nodrawTitle"},$.a.createElement("div",{className:"cry"}),$.a.createElement("div",{className:"number"},Object(ue.f)("magic_box_not_get_reward"))),$.a.createElement("div",{className:"desc"},Object(ue.f)("magic_box_not_get_reward_desc")),$.a.createElement("div",{onClick:function(){a||de.h.emit(de.f.LIST_DIALOG_SHOW),n()},className:"btn noDrawBtn"},a?"ok":Object(ue.f)("magic_box_round2_tip")),$.a.createElement(X.b,{className:"closeBtn",name:X.b.NAME.QUIZ_CLEAR,size:36,onClick:n})))}function Dm(e){var t=e.isFollow,n=e.drawId,a=e.videoItem,i=e.anchorId,r=e.afterDraw,o=e.onCloseAll,c=e.onCloseOne,l=e.endTime,s=e.isRound2,u=Object(Z.useState)(),f=(p=ne()(u,2))[0],d=p[1],e=Object(Z.useState)(!1),p=(u=ne()(e,2))[0],m=u[1],e=Object(Z.useState)(!1),g=(u=ne()(e,2))[0],b=u[1],e=Object(Z.useState)(!1),h=(u=ne()(e,2))[0],_=u[1],e=Object(Z.useState)(!1),e=(u=ne()(e,2))[0],v=u[1],u=Object(Z.useState)(l),x=(u=ne()(u,2))[0],E=u[1],i=(n=ig({drawId:n,isFollow:t,drawCallback:function(e){d(e),r&&r(),b(!1)},noDrawCallback:function(e){m(!0),b(!1),r&&r(),v(!!e)},errorCallback:function(e){I.d.error(e.message)},hostId:i})).submitHandle,n=n.isSelf;return Object(Z.useEffect)(function(){var e;h||(e=Date.now(),x&&e<x?b(!0):(b(!1),c&&c()),_(!0))},[c,h,x]),Object(Z.useEffect)(function(){var e;return a&&g&&((e=new Ac.a.Player("#magicDrawBoxCanvas")).setVideoItem(a),e.startAnimation()),function(){e=null}},[a,g]),Object(Z.useEffect)(function(){l&&E(l)},[l]),$.a.createElement($.a.Fragment,null,$.a.createElement(S.c,{open:g,onBarClick:function(){o&&o()},type:S.b.CENTER,bodyStyle:{width:330}},$.a.createElement(rg,null,$.a.createElement("div",{id:"magicDrawBoxCanvas",className:"content"}),$.a.createElement("div",{className:"btn",onClick:i},t||n?null:$.a.createElement(X.b,{className:"followIcon",name:X.b.NAME.ADD,size:20}),t||n?Object(ue.f)("magic_box_draw"):Object(ue.f)("magic_box_gz_btn")),$.a.createElement(X.b,{onClick:function(){o&&o()},className:"icon",name:X.b.NAME.QUIZ_CLEAR,size:32}))),$.a.createElement(Am,{isRound2:s,visible:!!f,reward:f,onClose:function(){d(null),c&&c()}}),$.a.createElement(Lm,{isRound2:s,isNoDrawFull:e,visible:p,onClose:function(){m(!1),c&&c()}}))}function Pm(e){var t=e.visible,n=e.onClose;return $.a.createElement(S.c,{open:t,onBarClick:function(){n()},type:S.b.CENTER},$.a.createElement(sg,null,$.a.createElement("div",{className:"dialog-bg"}),$.a.createElement("div",{className:"rule-head"},Object(ue.f)("magic_box_rule_title"),$.a.createElement(X.b,{name:X.b.NAME.CLOSE,className:"close-icon",size:16,onClick:function(){n()}})),$.a.createElement("div",{className:"rule-main-box"},$.a.createElement(ug,null,$.a.createElement("div",{className:"step-num"},"Step 1"),$.a.createElement("div",{className:"step-text-item"},$.a.createElement("i",null),$.a.createElement("span",null,Object(ue.f)("magic_box_rule_step1_1"))),$.a.createElement("img",{src:og,alt:"",className:"normal-rule-img"}),$.a.createElement("div",{className:"step-text-item"},$.a.createElement("i",null),$.a.createElement("span",null,Object(ue.f)("magic_box_rule_step1_2"))),$.a.createElement("div",{className:"img-cut-box"},$.a.createElement("img",{src:cg,alt:"",className:"big-rule-img",onClick:function(){}})),$.a.createElement("div",{className:"step-num"},"Step 2"),$.a.createElement("div",{className:"step-text-item"},$.a.createElement("i",null),$.a.createElement("span",null,Object(ue.f)("magic_box_rule_step2_1_new"))),$.a.createElement("img",{src:lg,alt:"",style:{width:300},className:"normal-rule-img"})))))}function Rm(e){var t=e.progress_icon,n=e.end_icon,a=void 0===(u=e.progress)?0:u,i=e.target,r=e.onClick,o=e.style,c=e.isEnd,l=e.progressText,s=0===i?0:Math.floor(a/i*100),u=a<=i?"".concat(s,"%"):"100%",e=Math.floor(i/6e4),s=Object(ue.f)("magic_box_progress_title").replace("x","".concat(e)),e=Object(Z.useMemo)(function(){return c?$.a.createElement("img",{src:n,alt:""}):$.a.createElement("img",{src:t,alt:""})},[t,c,n]);return $.a.createElement(_g,{onClick:r,style:o},$.a.createElement("div",{className:"progressInfoIcon"},e),$.a.createElement("div",{className:"progressInfoRight"},$.a.createElement("div",{className:"progressInfoRightTitle"},s),$.a.createElement("div",{className:"progressInfoRightProgress"},$.a.createElement(hg.a,{width:u,text:l||"".concat(a,"/").concat(i),isBig:!0}))))}function zm(e){var t=Object(ue.f)("magic_box_send_title"),n=t.indexOf("XXX");return $.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"title"},t.slice(0,n)),$.a.createElement("div",{className:"name"},e),$.a.createElement("div",{className:"title"},t.slice(n+"XXX".length,1e4)))}function Mm(e){var t=e.certificationLogo,n=e.certificationIntro,e=Fr.a.processServerImageUrl(t);return t?$.a.createElement(Pg,null,$.a.createElement("img",{className:n?"":"certification-logo",src:e,alt:""}),n&&$.a.createElement("span",{className:"text"},15<(n=n).length?"".concat(n.slice(0,15),"..."):n)):null}function Gm(e){return(e=e.anchorTypeLogo)?$.a.createElement(Rg,{src:Fr.a.processServerImageUrl(e)}):null}function Fm(e){return e=e.title,$.a.createElement(Bg,null,$.a.createElement("div",{className:"center_bar_left"}),$.a.createElement("div",{className:"center_title"},e),$.a.createElement("div",{className:"center_bar_right"}))}function Um(e){var t=e.taskType,n=e.current,a=e.total,i=e.rule,r=e.unit,o=(c={},Qe()(c,zg.b.chat,Fg),Qe()(c,zg.b.gift,Gg),Qe()(c,zg.b.watch,Ug),Qe()(c,zg.b.share,Hg),c),c=(e={},Qe()(e,zg.b.chat,Object(ue.f)("task_chat_title")),Qe()(e,zg.b.gift,Object(ue.f)("task_gift_title")),Qe()(e,zg.b.watch,Object(ue.f)("task_watch_title")),Qe()(e,zg.b.share,Object(ue.f)("task_share_title")),e),e=(e={},Qe()(e,zg.b.chat,Object(ue.f)("task_chat_replace")),Qe()(e,zg.b.gift,Object(ue.f)("task_gift_replace")),Qe()(e,zg.b.watch,Object(ue.f)("task_watch_replace")),Qe()(e,zg.b.share,Object(ue.f)("task_share_replace")),e),o=o[t]||"";return $.a.createElement(Wg,null,$.a.createElement("div",{className:"icon"},$.a.createElement("img",{src:o,alt:""})),$.a.createElement("div",{className:"info"},$.a.createElement("div",{className:"infoTop"},$.a.createElement("div",{className:"infoTopTitle"},c[t]||""),$.a.createElement("div",{className:"infoTopRight"},$.a.createElement("div",{className:"infoTopNumBigger"},n||0),$.a.createElement("div",{className:"infoTopNum"},"/"),$.a.createElement("div",{className:"infoTopNum"},a||0))),$.a.createElement("div",{className:"infoBottom"},$.a.createElement("div",{className:"infoBottomDesc"},$.a.createElement(Mg.a,{source:e[t],replace:"X",otherChildren:i},r)),$.a.createElement("div",{className:"infoBottomRight"},$.a.createElement("div",{className:"icon"}),Object(ue.f)("intimacy_points")))))}function Hm(){return $.a.createElement($.a.Fragment,null,$.a.createElement(Fm,{title:Object(ue.f)("fans_welfare")}),$.a.createElement(qg,null,$.a.createElement("div",{className:"taskItem"},$.a.createElement("div",{className:"icon icon1"}),$.a.createElement("div",{className:"text"},$.a.createElement(Mg.a,{source:Object(ue.f)("mine_new_fans_group_true_fans_exclusive_rank"),replace:"{br}"},$.a.createElement("br",null)))),$.a.createElement("div",{className:"taskItem"},$.a.createElement("div",{className:"icon icon2"}),$.a.createElement("div",{className:"text"},$.a.createElement(Mg.a,{source:Object(ue.f)("mine_new_fans_group_week_back_fans_exclusive_gift"),replace:"{br}"},$.a.createElement("br",null)))),$.a.createElement("div",{className:"taskItem"},$.a.createElement("div",{className:"icon icon3"}),$.a.createElement("div",{className:"text"},Object(ue.f)("mine_new_fans_group_fans_exclusive_fans_badge")))))}function Bm(e){var t=e.unLockGiftUrl,n=e.onClick,a=e.disabled,e=e.unLockCount;return $.a.createElement(Kg,{onClick:n,className:a?"dis":""},$.a.createElement(Mg.a,{source:Object(ue.f)("fans_lead_send_gift"),replace:"xxx"},$.a.createElement($.a.Fragment,null,$.a.createElement("img",{src:Object(xg.a)(t),alt:""}),$.a.createElement("span",null,"X",e))))}function Wm(e){try{var t=localStorage.getItem(Be.sb)||"",n=localStorage.getItem(Be.bb)||"";Yg?localStorage.setItem(Be.sb,"".concat(t,",").concat(e)):localStorage.setItem(Be.bb,"".concat(n,",").concat(e))}catch(e){}}function qm(e){var t=e.data,n=(l=Object(Z.useContext)(fe.a).anchorInfo).name,a=l.avatar,i=l.anchorTypeLogo,r=l.certifications,o=l.anchorId,c=l.living,e="",l="";function s(){f(!1)}r&&0<r.length&&(l=r[0].certification_intro,e=r[0].certification_logo);var r=Object(Z.useState)(!1),u=(r=ne()(r,2))[0],f=r[1],r=Object(Z.useState)(!0),d=(r=ne()(r,2))[0],p=r[1],m=Object(Z.useMemo)(function(){return{source_site:"fans_group"}},[]);return Object(Z.useEffect)(function(){var e=function(e){var t=localStorage.getItem(Be.sb)||"",n=localStorage.getItem(Be.bb)||"",a=t.split(","),i=n.split(",");try{return{loginHasEjectGuideWin:!!a.includes(e),guestHasEjectGuideWin:!!i.includes(e)}}catch(e){}return{loginHasEjectGuideWin:!1,guestHasEjectGuideWin:!1}}(o),t=e.loginHasEjectGuideWin,e=e.guestHasEjectGuideWin;p(Yg?t:e)},[o]),Object(Z.useEffect)(function(){function e(e){e!==o||null==t||!t.has_unlock||null!=t&&t.has_join||d||!c||f(!0)}return Yn.b.on(Yn.a.FOLLOW_SOMEONE,e),function(){Yn.b.off(Yn.a.FOLLOW_SOMEONE,e)}},[t,d,o,c]),Object(Z.useEffect)(function(){function e(){u&&f(!1)}return C.a.on(o,N.Q,e),function(){C.a.off(o,N.Q,e)}},[o,u]),Object(Z.useEffect)(function(){function e(e){e===(null==t?void 0:t.unlock_gift_id)&&(p(!0),Wm(o))}return de.h.on(de.g.SEND_GIFT,e),function(){de.h.off(de.g.SEND_GIFT,e)}},[o,t]),$.a.createElement(Re.a,null,$.a.createElement(S.c,{improveLayer:!0,bodyStyle:{width:450},styleType:S.a.NORMAL,open:u,onBarClick:function(){s()}},$.a.createElement(Vg,null,$.a.createElement("div",{className:"container"},$.a.createElement(X.b,{className:"closeIcon",name:X.b.NAME.CLOSE,onClick:s,size:24}),$.a.createElement("div",{className:"content"},$.a.createElement("div",{className:"top"},$.a.createElement($e.b,{size:80,src:a,className:"avatar"}),$.a.createElement("div",{className:"name"},n),$.a.createElement("div",{className:"iconList"},$.a.createElement(Mm,{certificationLogo:e,certificationIntro:l}),$.a.createElement(Gm,{anchorTypeLogo:i}))),$.a.createElement(Hm,null),$.a.createElement(Bm,{disabled:!c,unLockCount:(null==t?void 0:t.unlock_count)||0,onClick:function(){null!=t&&t.unlock_gift_id&&null!=t&&t.unlock_count&&de.h.emit(de.d.SEND_GIFT,{giftId:(null==t?void 0:t.unlock_gift_id)||0,giftExtInfo:{balance:10},wsNonoParaData:m,curSelectCount:(null==t?void 0:t.unlock_count)||1}),f(!1)},unLockGiftUrl:(null==t?void 0:t.unlock_gift_icon)||""}),$.a.createElement("div",{onClick:function(){f(!1),p(!0),Wm(o)},className:"normalBtn"},Object(ue.f)("mine_new_fans_group_refuse")))))))}function Km(){return $.a.createElement(Zg,null,$.a.createElement("div",{className:"name"},Object(ue.f)("mine_new_fans_group_rule_explain_title")),$.a.createElement("div",{className:"scrollContent"},$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_1")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_1_1")),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_2")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_2_1")),$.a.createElement("img",{className:"welfare_image",src:Xg,alt:""}),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_2_2")),$.a.createElement("img",{className:"welfare_image",src:Qg,alt:""}),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_2_3")),$.a.createElement("img",{className:"welfare_image",src:Jg,alt:""}),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_3")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_3_1")),$.a.createElement("div",{className:"tableContainer"},$.a.createElement("div",{className:"tableTitle"},$.a.createElement("div",{className:"tableItem left"},Object(ue.f)("fans_group_base_element")),$.a.createElement("div",{className:"tableItem right"},Object(ue.f)("fans_group_limit"))),$.a.createElement("div",{className:"tableItem2"},$.a.createElement("div",{className:"left"},Object(ue.f)("fans_group_table_rule1")),$.a.createElement("div",{className:"right"},Object(ue.f)("fans_group_table_per").replace("x","15"))),$.a.createElement("div",{className:"tableItem2"},$.a.createElement("div",{className:"left"},Object(ue.f)("fans_group_table_rule2")),$.a.createElement("div",{className:"right"},Object(ue.f)("fans_group_table_per").replace("x","60"))),$.a.createElement("div",{className:"tableItem2"},$.a.createElement("div",{className:"left"},Object(ue.f)("fans_group_table_rule3")),$.a.createElement("div",{className:"right"},Object(ue.f)("fans_group_table_per").replace("x","500"))),$.a.createElement("div",{className:"tableItem2 noBorder"},$.a.createElement("div",{className:"left"},Object(ue.f)("fans_group_table_rule4")),$.a.createElement("div",{className:"right"},Object(ue.f)("fans_group_table_per").replace("x","5")))),$.a.createElement("div",{className:"tableContainer"},$.a.createElement("div",{className:"tableTitle"},$.a.createElement("div",{className:"tableItem left"},Object(ue.f)("fans_group_extra_element")),$.a.createElement("div",{className:"tableItem right"},Object(ue.f)("fans_group_limit"))),$.a.createElement("div",{className:"tableItem2 noBorder"},$.a.createElement("div",{className:"left"},Object(ue.f)("fans_group_special_rule")),$.a.createElement("div",{className:"right"},Object(ue.f)("fans_group_no_limit")))),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_5")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_5_1")),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_6")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_6_1")),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_7")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_7_1")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_7_2")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_7_3")),$.a.createElement("div",{className:"tableContainer"},$.a.createElement("div",{className:"tableTitle"},$.a.createElement("div",{className:"tableItem left biggerLeft"},Object(ue.f)("fans_group_level")),$.a.createElement("div",{className:"tableItem right"},Object(ue.f)("fans_group_style"))),$.a.createElement("div",{className:"tableItem2"},$.a.createElement("div",{className:"left biggerLeft"},"Lv1-5"),$.a.createElement("div",{className:"right biggerRight"},$.a.createElement(Ze.a,{className:"fans_badge",fansBadge:{fansGroupLevel:1,name:"FansGP"}}))),$.a.createElement("div",{className:"tableItem2"},$.a.createElement("div",{className:"left biggerLeft"},"Lv6-10"),$.a.createElement("div",{className:"right biggerRight"},$.a.createElement(Ze.a,{className:"fans_badge",fansBadge:{fansGroupLevel:6,name:"FansGP"}}))),$.a.createElement("div",{className:"tableItem2"},$.a.createElement("div",{className:"left biggerLeft"},"Lv11-15"),$.a.createElement("div",{className:"right biggerRight"},$.a.createElement(Ze.a,{className:"fans_badge",fansBadge:{fansGroupLevel:11,name:"FansGP"}}))),$.a.createElement("div",{className:"tableItem2"},$.a.createElement("div",{className:"left biggerLeft"},"Lv16-20"),$.a.createElement("div",{className:"right biggerRight"},$.a.createElement(Ze.a,{className:"fans_badge",fansBadge:{fansGroupLevel:16,name:"FansGP"}}))),$.a.createElement("div",{className:"tableItem2"},$.a.createElement("div",{className:"left biggerLeft"},"Lv21-25"),$.a.createElement("div",{className:"right biggerRight"},$.a.createElement(Ze.a,{className:"fans_badge",fansBadge:{fansGroupLevel:21,name:"FansGP"}}))),$.a.createElement("div",{className:"tableItem2 noBorder"},$.a.createElement("div",{className:"left biggerLeft"},"Lv26-30"),$.a.createElement("div",{className:"right biggerRight"},$.a.createElement(Ze.a,{className:"fans_badge",fansBadge:{fansGroupLevel:26,name:"FansGP"}})))),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_8")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_8_1")),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_9")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_9_1")),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_10")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_10_1")),$.a.createElement("div",{className:"middleTitle"},Object(ue.f)("rule_title_feature")),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_11")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_11_1")),$.a.createElement("div",{className:"subTitle"},Object(ue.f)("rule_title_12")),$.a.createElement("div",{className:"subDesc"},Object(ue.f)("rule_title_12_1"))))}function Ym(){var e=Object(Z.useContext)(fe.a).anchorInfo,t=Object(Z.useState)(zg.d),n=(x=ne()(t,2))[0],a=x[1],i=Object(Z.useState)(!1),r=(y=ne()(i,2))[0],o=y[1],c=Object(Z.useState)(!1),l=(O=ne()(c,2))[0],s=O[1],u=e.anchorId,f=e.avatar,d=e.name,p=e.living,m=e.liveType,g=e.categoryKey,b=e.gameKey,h=e.anchorGroup,_=n.unlockCount,v=n.userName,t=n.avatar,x=n.intimacy,E=n.fansGroupLevel,i=n.intimacyRemain,y=n.tasks,c=n.giftIcon,O=n.fansGroupName,w=n.giftId,e=0<E,n=Math.floor(x),i=Math.floor(i+x),k=Object(Z.useMemo)(function(){return{source_site:"fans_group"}},[]),j=Object(Z.useCallback)(function(){Object(Ya.a)(u).then(function(e){e&&a(Object(zg.e)(e))})},[u]);return Object(Z.useEffect)(function(){function e(){var e;p?(s(!0),j(),e="normal",h.includes(ie.a.OFFICIAL)?e="official_show":h.includes(ie.a.OFFICIAL_GAME)&&(e="official_game"),ct.a.handleDataCount({lt:"click",af:"liveroom",cf:"fansgroup",action:"click",room_id:u,live_type:m,game_key:b,category_key:g,user_status:0<E?"joined":"no_joined",host_official_type:e})):I.d.error(Object(ue.f)("add_fans_group_need_living"))}return de.h.on(de.d.SHOW_DESC_WIN,e),function(){de.h.off(de.d.SHOW_DESC_WIN,e)}},[j,p,u,m,b,g,E,h]),$.a.createElement(Re.a,null,$.a.createElement(S.c,{styleType:S.a.NORMAL,open:l,improveLayer:!0},$.a.createElement($g,null,$.a.createElement("div",{className:"container ".concat(r?"_rule":"")},$.a.createElement(X.b,{className:"closeIcon",name:X.b.NAME.CLOSE,onClick:function(){s(!1),o(!1)},size:24}),r?$.a.createElement(X.b,{onClick:function(){o(!1)},className:"leftIcon",name:X.b.NAME.ARROW_LEFT,size:24}):null,r?$.a.createElement("div",{className:"content"},$.a.createElement(Km,null)):$.a.createElement("div",{className:"content"},$.a.createElement("div",{className:"name"},e?$.a.createElement($e.b,{src:f,size:28}):null,$.a.createElement("div",{className:"innerName"},$.a.createElement(Mg.a,{source:Object(ue.f)("fans_group_de"),replace:"xxx"},$.a.createElement("div",{className:"innerOneLine"},(d=d)&&(7<(null==d?void 0:d.length)?"".concat(String(d).substr(0,7),"..."):d)))),$.a.createElement("div",{className:"qaIcon",onClick:function(){o(!0)}})),e?$.a.createElement("div",{style:{height:30}}):null,$.a.createElement("div",{className:"scrollContent"},e?$.a.createElement(eb,null,$.a.createElement("div",{className:"top"},$.a.createElement($e.b,{src:t,size:48}),$.a.createElement("div",{className:"info"},$.a.createElement("div",{className:"infoTop"},$.a.createElement(Ze.a,{fansBadge:{name:O,fansGroupLevel:E}}),$.a.createElement("div",{className:"name"},v)),$.a.createElement("div",{className:"infoBottom"},Object(ue.f)("and_host_intimacy"),":",$.a.createElement("div",{className:"intimacyIcon"}),x))),E?$.a.createElement("div",{className:"center"},$.a.createElement("div",{className:"centerNormal"},"Lv.",E),30<=E?$.a.createElement("div",{className:"centerContainer"},$.a.createElement("div",{className:"centerContainerInner",style:{width:"100%"}}),$.a.createElement("div",{className:"centerContainerText"},n,"/",i)):$.a.createElement("div",{className:"centerContainer"},$.a.createElement("div",{className:"centerContainerInner",style:{width:"".concat(n/i*100,"%")}}),$.a.createElement("div",{className:"centerContainerText"},n,"/",i)),$.a.createElement("div",{className:"centerNormal"},"Lv.".concat(30<=E?30:E+1))):null):$.a.createElement("div",{className:"avatarContainer"},$.a.createElement($e.b,{src:f,size:64}),$.a.createElement("div",{className:"unlockBadge"},Object(ue.f)("not_get_badge")," ",$.a.createElement(Ze.a,{fansBadge:{name:O,fansGroupLevel:E}}))),e?$.a.createElement(tb,null,$.a.createElement(Fm,{title:Object(ue.f)("intimacy_task_per_week")}),$.a.createElement("div",{className:"timeRange"},Object(ue.f)("task_time_range")),(null==y?void 0:y.map(function(e,t){return $.a.createElement(Um,Object.assign({key:t},e))}))||null):null,$.a.createElement(Hm,null),e?null:$.a.createElement(Bm,{unLockCount:_,unLockGiftUrl:c,onClick:function(){w&&_&&de.h.emit(de.d.SEND_GIFT,{giftId:w,giftExtInfo:{balance:_},wsNonoParaData:k,curSelectCount:_||1}),s(!1)}})))))))}function Vm(e,t){var n=Tn.a.getUserId(),a=Date.now(),e="{{userId}}in{{roomId}}GiftTipTime".replace("{{userId}}",JSON.stringify(n)).replace("{{roomId}}",e);if("set"===t&&localStorage.setItem(e,JSON.stringify(a)),"get"===t)return localStorage.getItem(e)}var Xm,Qm=!1,Jm=function(e){var s=e.hostId,i=e.living,r=e.channelKey,o=e.liveType,c=e.liveKey,t=Object(Z.useReducer)(Sm,Tm),e=ne()(t,2),u=e[0],f=e[1],t=Object(Z.useState)(!1),e=ne()(t,2),t=e[0],l=e[1],e=Object(Z.useState)(!1),e=ne()(e,2),d=e[0],p=e[1];return Object(Z.useEffect)(function(){function t(e){var t,n,a,i,r,o,c,l=(e||{}).lucky_box_v1;l?(n=void 0!==(a=(o=l||{}).has_history)&&a,e=void 0===(i=(r=(t=o.current_box)||{}).progress)?0:i,a=void 0===(l=r.target)?0:l,l=void 0===(i=r.box_id)?0:i,i=r.start_time,r=r.end_time,o=(void 0===(o=o.box_ids)?[]:o)||[],c=Date.now(),f({type:"updateEntry",data:{isShow:!!t||!!n||0<o.length||!1,progress:e,target:a,cur_progress_box_id:0<a?l:0,box_ids:o,count_box_ids:o.filter(function(e){return e.end_time>c}).map(function(e){return e.box_id}),status:0<o.length?wm.b.open:0<r?wm.b.progress:wm.b.end,start_time:i,end_time:r}}),0===o.length&&jm.b.emit(jm.a.finishInit)):(f({type:"resetEntry"}),jm.b.emit(jm.a.finishInit))}function n(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e?(t(e),l(!0),p(!1),Qm=!1):Qm||(Qm=!0,Object(Ya.b)({anchorId:s,channelKey:r,liveType:o,liveKey:c}).then(function(e){t(e)}).catch(function(){f({type:"resetEntry"}),jm.b.emit(jm.a.finishInit)}).finally(function(){l(!0),p(!1),Qm=!1}))}function e(e,t){void 0!==(t=(t||{}).living)&&t?n(e):(f({type:"resetEntry"}),jm.b.emit(jm.a.finishInit))}function a(){d&&n()}function i(){p(!0),l(!1),f({type:"updateEntry",data:{isShow:!1}}),jm.b.emit(jm.a.finishInit)}return C.a.on(s,N.Q,i),C.a.on(s,N.S,a),de.h.on(de.f.RECEIVE_INIT_DATA,e),function(){C.a.off(s,N.Q,i),C.a.off(s,N.S,a),de.h.off(de.f.RECEIVE_INIT_DATA,e)}},[s,t,i,d,r,o,c]),Object(Z.useEffect)(function(){return s&&jm.b.emit(jm.a.startInit),function(){s&&jm.b.emit(jm.a.finishInit)}},[s]),Object(Z.useEffect)(function(){function e(e){var t=(i=(void 0===(n=(e||{}).msg_data)?{}:n)||{}).message,e=i.user_info,n=i.actual_value,a=(i.host_info||{}).host_id,i=u.effect;if(a!==s&&i&&a){var r=t||n||"",n=e||{},e=n.user_name,o=void 0===e?"":e,c=n.avatar;try{var l=12<o.length?"".concat(o.substr(0,12),"..."):o;de.h.emit(de.f.BROADCAST_CHAT,{hostId:a,avatarUrl:c||"",desc:r.replace("{user_name}",l)})}catch(e){}}}function t(e){var t=void 0===(e=(e||{}).msg_data)?{}:e;try{var n=t.user_id,a=void 0===n?0:n,i=t.user_name,r=void 0===i?"":i,o=t.quantity,c=void 0===o?0:o,n=t.user_level,i=void 0===n?0:n,o=t.medals,n=t.fans_group_type,n=void 0===n?0:n;de.h.emit(de.g.UPDATE_ON_CHAT,{userId:a,cmd:N.p,userName:r,quantity:c,level:i,medals:o,fansGroupType:n})}catch(e){}}function n(e){var t,n,a,i,r,o,c,l=(e||{}).msg_data,s=void 0===l?{}:l;s&&(t=s.status,n=s.box_id,a=void 0===(r=s.end_time)?0:r,i=void 0===(o=s.start_time)?0:o,t===wm.a.round1||t===wm.a.round2?(c=u.entry,e=u.dialog,l=u.effect,r=c.count_box_ids,o=e.enableAuto,c=e.isOpenList,e=t===wm.a.round2,f({type:"updateEntry",data:{isShow:!0,status:wm.b.open,count_box_ids:r.includes(n)?r:r.concat(n)}}),o&&l&&!c&&de.h.emit(de.f.DRAW_ROUND_EMIT,{box_id:n,isRound2:e,end_time:a})):t===wm.a.progress?f({type:"updateEntry",data:{isShow:!0,status:wm.b.progress,start_time:i,end_time:a,cur_progress_box_id:n}}):t===wm.a.end&&u.entry.cur_progress_box_id===n&&f({type:"updateEntry",data:{status:wm.a.end}}),de.h.emit(de.f.NOTIFY_TO_LIST,Object.assign({},s)),t!==wm.a.round1&&t!==wm.a.round2&&de.h.emit(de.f.MY_DRAW_GET,{drawId:n}))}function a(e){var t=(e||{}).msg_data,n=void 0===t?{}:t,e=u.entry;n&&(e||{}).status===wm.b.progress&&(e=void 0===(t=n.progress)?0:t,t=void 0===(t=n.target)?0:t,f({type:"updateEntry",data:{isShow:!0,status:wm.b.progress,progress:e,target:t}})),de.h.emit(de.f.PROGRESS_TO_LIST,Object.assign({},n))}return s&&i&&(x.b.on(s,"LuckyBoxBannerV1",e),x.b.on(s,"NotifyLuckyBoxGiftV1",t),x.b.on(s,"LuckyBoxNotifyV1",n),x.b.on(s,"LuckyBoxProcess",a)),function(){x.b.off(s,"LuckyBoxBannerV1",e),x.b.off(s,"NotifyLuckyBoxGiftV1",t),x.b.off(s,"LuckyBoxNotifyV1",n),x.b.off(s,"LuckyBoxProcess",a)}},[s,i,u,t]),Object(Z.useEffect)(function(){function e(e){var t=e.drawId,n=void 0===(e=u.entry.count_box_ids)?[]:e;n.includes(t)&&setTimeout(function(){f({type:"updateEntry",data:{count_box_ids:n.filter(function(e){return e!==t})}})},0)}return de.h.on(de.f.MY_DRAW_GET,e),function(){de.h.off(de.f.MY_DRAW_GET,e)}},[u]),Object(Z.useEffect)(function(){function e(e){f({type:"updateEffect",data:e})}return de.h.on(de.f.EFFECT_SWITCH,e),function(){de.h.off(de.f.EFFECT_SWITCH,e)}},[]),{magicState:u,magicDispatch:f}},Zm=n("7grS"),rn=n("rj4w"),bt=n.p+"assets/file/d94b969fc736abe05f8b4ccac1705e5e.png",ft=n.p+"assets/file/7d9b58ddd7fd54382a1c5db404f69669.png",r=n.p+"assets/file/474fb41c48820787ddf429a25617662a.png",_t=n.p+"assets/file/23f9c2b20898ce540496cc0fed056183.png",en=n.p+"assets/file/a6b0408af9d0e3e73bf88f08fdcdad21.png",$m=T.default.div.withConfig({componentId:"njm79d-0"})(["width:395px;background:url(",") -5px top no-repeat;background-size:395px 289px;padding-top:1px;display:flex;flex-direction:column;& > .title{display:flex;margin-top:89px;font-weight:bold;color:white;align-items:center;justify-content:center;& > .cry{width:40px;height:40px;background:url(",") center center no-repeat;background-size:100%;margin-right:14px;}& > .coin{width:36px;height:36px;background:url(",") center center no-repeat;background-size:100%;margin-right:11px;}& > .number{font-size:26px;font-weight:bold;}}& > .nodrawTitle{margin-bottom:27px;}& > .rewardTitle{margin-bottom:18px;}& > .desc{font-size:14px;color:white;text-align:center;height:38px;width:320px;margin-left:auto;margin-right:auto;}& > .btn{margin-left:auto;margin-right:auto;width:200px;height:40px;background:#ffce2d;box-shadow:0px 6px 16px rgba(242,131,45,0.3);opacity:1;border-radius:40px;color:white;line-height:40px;text-align:center;cursor:pointer;margin-top:27px;&:hover{opacity:0.8;}svg{color:white;margin-right:2px;}&.small{margin-top:6px;svg{margin-top:-3px;}}}& > .closeBtn{margin-top:52px;width:36px;height:36px;margin-left:auto;margin-right:auto;cursor:pointer;path{fill:#fff;}path:first-child{fill:rgba(0,0,0,0.5);}&:hover{path:first-child{fill:black;}}}& > .progressTime{display:flex;align-items:center;height:32px;margin-top:77px;font-size:16px;color:#ffffff;justify-content:center;& > .icon{width:32px;height:32px;background:url(",") center center no-repeat;background-size:100% 100%;}}& > .progressDesc{text-align:center;width:262px;color:rgba(255,255,255,0.7);font-size:14px;max-height:38px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;word-break:break-all;margin-left:auto;margin-right:auto;overflow:hidden;line-height:19px;margin-bottom:8px;}& > .detailContainer{display:flex;justify-content:center;padding-top:80px;.loader_container{text-align:center;padding-top:13px;}& > .drawListContainer{width:320px;height:158px;",";border-radius:10px;overflow:hidden;background:rgba(0,0,0,0.15);padding-left:10px;padding-top:6px;overflow:auto;& > .drawListItem{width:300px;height:32px;padding-left:7px;display:flex;border-radius:4px;align-items:center;margin-top:2px;align-items:center;&.self{background:rgba(255,206,45,0.5);border-radius:8px;}& > .avatar{width:26px;height:26px;background:white;border-radius:50%;}& > .userName{",";font-size:12px;font-weight:500;color:rgba(255,255,255,0.9);margin-left:4px;}& > .rightGiftInfo{margin-left:auto;display:inline-flex;white-space:nowrap;align-items:center;padding-right:7px;& > .giftIcon{width:16px;height:16px;object-fit:cover;}& > .giftText{margin-left:4px;width:36px;font-size:14px;color:rgba(255,255,255,0.9);}}}& > .empty{img.placeholder{width:200px;height:112.34px;margin-bottom:7px;}.tip{color:rgba(255,255,255,1);}}}}& > .detailBtn{white-space:nowrap;display:flex;font-size:14px;cursor:pointer;line-height:19px;color:#ffffff;justify-content:center;align-items:center;margin-top:10px;& > .arrow{background:url(",") center 0px no-repeat;background-size:16px 16px;width:16px;height:16px;}}"],bt,r,ft,_t,vt.a,Object(rn.d)(156),en),eg=n("i4P8"),tg=V.a.getState().user,mn=(tg||{}).user_id,ng=void 0===mn?-1:mn,ag=!1,ig=function(e){var t=e.drawId,n=e.isFollow,a=e.drawCallback,i=e.noDrawCallback,r=e.errorCallback,o=e.hostId,e=Object(Z.useState)(!1),e=ne()(e,2),c=e[0],l=e[1],s=Object(Z.useMemo)(function(){return o===ng},[o]),u=Object(Z.useCallback)(function(){ag||(l(!1),ag=!0,Object(Ya.v)(t,o).then(function(e){var t=(e||{}).draw_code,t=void 0===t?-1:t;-1!==t&&(0===t?(a&&a(e),V.a.dispatch(Object(ta.b)())):1===t?i&&i(!1):2===t&&i&&i(!0))}).catch(function(e){r&&e&&r(e)}).finally(function(){ag=!1}))},[t,a,i,r,o]),e=Object(Z.useCallback)(function(){return tg?void(n||s?u():(de.h.emit(de.g.COMMON_SYNC_FOLLOW),l(!0))):V.a.dispatch(Object(eg.showLoginDialog)(!0))},[n,u,s]);return Object(Z.useEffect)(function(){c&&n&&u()},[c,n,u]),{submitHandle:e,isSelf:s}},rg=T.default.div.withConfig({componentId:"sc-2q8n30-0"})(["display:flex;flex-direction:column;align-items:center;& > .content{width:330px;height:248px;}& > .btn{min-width:240px;padding-left:14px;padding-right:14px;height:40px;background:#ffce2d;box-shadow:0px 4px 12px rgba(170,144,40,0.4);opacity:1;border-radius:40px;font-size:18px;color:#ffffff;line-height:40px;text-align:center;margin-left:auto;margin-right:auto;cursor:pointer;&:hover{opacity:0.8;}.followIcon{color:white;margin-right:2px;}}& > .icon{margin-top:20px;cursor:pointer;path{fill:#fff;}path:first-child{fill:rgba(0,0,0,0.5);}&:hover{path:first-child{fill:black;}}}"]),bt=n.p+"assets/file/333f13715d6e14ed54a3b658ef689bcc.png",r=n.p+"assets/file/34910562b336582c31c8e66c1e110a1e.png",og=n.p+"assets/file/2a3a408cdc4c1ef31094fc34af94c0a8.png",cg=n.p+"assets/file/115831b9d46bab07635c72c7c5e5fb4d.png",lg=n.p+"assets/file/c191742548c17bd6877d1ca1851e38b3.png",sg=T.default.div.withConfig({componentId:"vknwcq-0"})(["width:360px;max-height:540px;border-radius:20px;background:linear-gradient(180deg,#ff7c4e 0%,#ffa969 100%);overflow:hidden;position:relative;.dialog-bg{position:absolute;width:360px;height:524px;background:url(",") no-repeat center top/100%;left:0;top:0;}.rule-head{width:360px;height:50px;background:#fd9a73;border-radius:20px 20px 0px 0px;position:relative;text-align:center;line-height:50px;color:#fff;font-size:18px;font-weight:600;.close-icon{position:absolute;top:20px;right:22px;color:#fff;}}.rule-main-box{width:340px;height:470px;background:rgb(255 255 255/0.2);border-radius:10px;margin:10px;overflow-y:auto;position:relative;padding:10px 0 10px 10px;box-sizing:border-box;",";}"],bt,Object(vt.b)({color:"rgba(255, 255, 255, 0.5)"})),ug=T.default.div.withConfig({componentId:"vknwcq-1"})([".step-num{width:80px;height:28px;background:url(",") no-repeat center top/100%;line-height:28px;padding-left:10px;box-sizing:border-box;color:#ff7e4f;font-weight:800;margin-bottom:10px;}.step-text-item{i{width:9px;height:9px;background:#ffffff;border-radius:50%;margin-right:6px;flex-shrink:0;}display:flex;font-size:14px;line-height:19px;color:#ffffff;align-items:baseline;}.normal-rule-img{margin:10px 0 30px 18px;}.big-rule-img{margin:8px auto 0;display:block;}.img-cut-box{width:200px;height:177px;margin:0 auto;img{margin-top:-30px;}}"],r),fg=[],dg=Object(i.b)(function(e){return{magicBoxConfig:e.configure.magicBox||{}}})(function(e){var t=e.magicBoxConfig,n=e.magicState,a=e.anchorInfo,i=e.magicDispatch,r=Object(Z.useState)(!1),e=ne()(r,2),r=e[0],o=e[1],e=Object(Z.useState)(!1),e=ne()(e,2),c=e[0],l=e[1],e=Object(Z.useState)(null),e=ne()(e,2),s=e[0],u=e[1],e=Object(Z.useState)([]),e=ne()(e,2),f=e[0],d=e[1],p=(n||{}).effect,m=(t||{}).open_svg,g=a.ifFollow,b=a.anchorId,a=Object(k.a)({key:"blank",comp:null,compType:j.b.magicBoxStep1}),h=a.showDialog,_=a.hideDialog,v=a.updateDialog,x=Object(Z.useCallback)(function(e){return"".concat(j.c.initMagicBoxDraw,"_").concat(e)},[]),E=Object(Z.useCallback)(function(){fg.forEach(function(e){e=e.box_id;_({key:x(e)})}),fg=[]},[x,_]),y=Object(Z.useCallback)(function(e){var t=e.box_id,n=e.end_time,e=e.isRound2,a=x(t);return $.a.createElement(Dm,{isRound2:e,key:a,anchorId:b,videoItem:s,isFollow:g,drawId:t,endTime:n,afterDraw:function(){de.h.emit(de.f.MY_DRAW_GET,{drawId:t})},onCloseAll:function(){i({type:"updateDialog",data:{enableAuto:!1}}),E()},onCloseOne:function(){_({key:a}),fg=fg.filter(function(e){e=e.box_id;return x(e)!==a})}})},[g,s,_,b,x,E,i]),O=Object(Z.useCallback)(function(e){var t=e.box_id,n=e.endTime,a=e.isRound2,e={key:x(t),comp:y({box_id:t,end_time:n,isRound2:a}),compType:a?j.b.magicBoxStep2:j.b.magicBoxStep1};fg.find(function(e){return e.box_id===t})?v({innerKey:e.key,innerComp:e.comp}):(h(e),fg.push({box_id:t,end_time:n,isRound2:a}))},[h,x,y,v]),w=Object(Z.useCallback)(function(){if(!s&&m){var e=new Ac.a.Parser;try{e.load(m,function(e){u(e)})}catch(e){jm.b.emit(jm.a.finishInit)}}},[s,m]);return Object(Z.useEffect)(function(){w()},[m,w]),Object(Z.useEffect)(function(){var e;c||!s||!p||0<(e=void 0===(e=(n.entry||{}).box_ids)?[]:e).length&&(l(!0),e.forEach(function(e){var t=e.box_id,n=e.end_time,e=e.sequence;O({box_id:t,endTime:n,isRound2:2===e})}),setTimeout(function(){jm.b.emit(jm.a.finishInit)},1e3))},[c,s,y,x,p,O,n]),Object(Z.useEffect)(function(){function e(e){var t=e.box_id,n=e.isRound2,a=e.end_time;s||d(function(e){return e.concat([{box_id:t,end_time:a,isRound2:n}])}),O({box_id:t,isRound2:n,endTime:a})}function t(){o(!0)}return de.h.on(de.f.DRAW_ROUND_EMIT,e),de.h.on(de.f.RULE_CLICK,t),de.h.on(de.e.OPEN_BIG_BOX_COMPONENT,t),function(){de.h.off(de.f.DRAW_ROUND_EMIT,e),de.h.off(de.f.RULE_CLICK,t),de.h.off(de.e.OPEN_BIG_BOX_COMPONENT,t)}},[O,s]),Object(Z.useEffect)(function(){s&&0<f.length&&(f.forEach(function(e){var t=e.box_id,n=e.end_time,e=e.isRound2;v({innerKey:x(t),innerComp:y({box_id:t,end_time:n,isRound2:e})})}),d([])),g&&fg.forEach(function(e){var t=e.box_id,n=e.end_time,e=e.isRound2;v({innerKey:x(t),innerComp:y({box_id:t,end_time:n,isRound2:e})})})},[x,s,f,v,y,g]),Object(Z.useEffect)(function(){function e(){E()}return de.h.on(de.f.LIST_DIALOG_SHOW,e),function(){de.h.off(de.f.LIST_DIALOG_SHOW,e)}},[E]),$.a.createElement($.a.Fragment,null,$.a.createElement(Pm,{visible:r,onClose:function(){o(!1)}}))}),pg=n("uuth"),ft=n("HMs9"),mg=n.n(ft),gg=n("9lNM"),en=n.p+"assets/file/799e94069f6f6bcad428f1a6e410b449.png",mn=n.p+"assets/file/1570da7e480d7bf2daa6459307598dcf.png",bg=T.default.div.withConfig({componentId:"jzr7l6-0"})(["width:360px;position:relative;height:540px;overflow:hidden;border-radius:20px;& > .bg{position:absolute;left:0;top:0;width:100%;height:100%;}& > .hasIcon{background:url(",") center center no-repeat;background-size:100%;}& > .hasWhite{background:linear-gradient(180deg,#ff7c4e 0%,#ffa969 100%);}& > .container{position:relative;height:540px;& > .title{width:100%;height:50px;position:relative;background:rgba(253,154,115,1);font-size:18px;color:white;display:flex;align-items:center;justify-content:center;& > .titleQ{background:url(",") center center no-repeat;background-size:100%;width:30px;height:30px;margin-left:3px;flex-shrink:0;cursor:pointer;}& > .titleClose{position:absolute;right:20px;width:20px;height:20px;top:13px;color:white;}}& > .listContainer{height:476px;",";overflow:auto;}}.loader_container{text-align:center;padding-top:13px;}"],en,mn,Object(vt.b)({color:"rgba(255, 255, 255, 0.5)"})),hg=n("7008"),_g=T.default.div.withConfig({componentId:"ucc2vq-0"})(["display:flex;align-items:center;background:rgba(85,43,14,0.2);justify-content:center;padding-left:10px;padding-right:13px;width:312px;border-radius:10px;margin-left:auto;margin-right:auto;.progressInfoIcon{width:56px;height:56px;flex-shrink:0;margin-right:5px;img{width:100%;height:100%;object-fit:cover;}}.progressInfoRight{.progressInfoRightTitle{font-size:14px;line-height:20px;color:#ffffff;opacity:1;}.progressInfoRightProgress{.progress{width:232px;height:26px;background:rgba(85,43,14,0.3);.progressInner{height:26px;&:after{height:26px;}}.text{height:26px;font-size:13px;}}}}"]),vg=Object(i.b)(function(e){return{magicBoxConfig:e.configure.magicBox||{}}})(function(e){var t=e.visible,n=e.item,a=e.magicBoxConfig,i=e.onClose,r=e.onClickGift,o=Object(Z.useState)(n||{}),c=ne()(o,2),l=c[0],s=c[1],u=l.end_time,f=l.progress,d=l.target,e=a.task_description,o=void 0===e?"":e,c=a.progress_icon,l=void 0===c?"":c,e=a.open_icon,c=void 0===e?"":e,e=a.end_icon,a=void 0===e?"":e,e=Object(Z.useCallback)(function(e){var t=e.minutes,e=e.seconds;return $.a.createElement("div",{className:"time"},t,":",e)},[]);return Object(Z.useLayoutEffect)(function(){function e(e){var o;o=e,s(function(e){var t=o.box_id,n=o.target,a=o.progress,i=e.box_id,r=e.status;return i===t&&r===wm.a.progress?Object.assign(Object.assign({},e),{target:n,progress:a}):e})}return de.h.on(de.f.PROGRESS_TO_LIST,e),function(){de.h.off(de.f.PROGRESS_TO_LIST,e)}},[]),Object(Z.useEffect)(function(){n&&s(n)},[n]),$.a.createElement(S.c,{open:t,type:S.b.CENTER,onBarClick:function(){i&&i()}},$.a.createElement($m,null,$.a.createElement("div",{className:"progressTime"},Object(ue.f)("magic_box_remain_time"),$.a.createElement("div",{className:"icon"}),u?$.a.createElement($f.a,{date:u,renderer:e}):null),$.a.createElement("div",{className:"progressDesc"},o),$.a.createElement(Rm,{isEnd:!1,progress:f,target:d,progress_icon:l,open_icon:c,end_icon:a}),$.a.createElement("div",{onClick:r,className:"btn small"},$.a.createElement(X.b,{name:X.b.NAME.BigBoxGift,size:22}),Object(ue.f)("magic_box_send_gift_make_sure")),$.a.createElement(X.b,{className:"closeBtn",name:X.b.NAME.QUIZ_CLEAR,size:36,onClick:i})))}),xg=n("wV8y"),Eg=n.p+"assets/file/607f246c9b4f04e28b0be7c56fc8ad0f.png",yg=n.p+"assets/file/51205fdd904e8b24035852ea01d42fcd.png",Og=Tn.a.getUserId(),wg=!1,kg=Object(i.b)(function(e){return{magicBoxConfig:e.configure.magicBox||{}}})(function(e){var t=e.visible,n=e.item,a=e.onClose,i=n||{},r=i.box_id,o=i.status,c=Object(Z.useState)([]),l=ne()(c,2),e=l[0],s=l[1],n=Object(Z.useState)(1),i=ne()(n,2),u=i[0],f=i[1],c=Object(Z.useState)(!1),l=ne()(c,2),n=l[0],d=l[1],i=Object(Z.useState)(!0),c=ne()(i,2),l=c[0],p=c[1],i=Object(Z.useState)(!1),c=ne()(i,2),i=c[0],m=c[1],c=Object(Z.useCallback)(function(){wg||(p(!(wg=!0)),m(!0),Object(Ya.s)({box_id:r,status:o,page:u,size:20}).then(function(e){var t=(null==e?void 0:e.history)||[];s(1===u?t||[]:function(e){return e.concat(t||[])}),0===t.length?d(!0):(f(function(e){return e+1}),p(!0))}).catch(function(){p(!1),wg=!1}).finally(function(){m(wg=!1)}))},[r,u,o]),g=Object(Z.useCallback)(function(){a&&(a(),s([]),f(1),d(!1),p(!1),m(!0))},[a]);return Object(Z.useEffect)(function(){t&&p(!0)},[t]),$.a.createElement(S.c,{open:t,onBarClick:g,type:S.b.CENTER},$.a.createElement($m,null,$.a.createElement("div",{className:"detailContainer"},$.a.createElement("div",{className:"drawListContainer"},e&&0<e.length?e.map(function(e,t){var n=e.user_name,a=e.avatar,i=e.quantity,e=e.user_id;return $.a.createElement("div",{key:t,className:"drawListItem ".concat(Og===e?"self":"")},$.a.createElement("div",{className:"avatar"},$.a.createElement($e.b,{src:Object(xg.a)(a),size:26})),$.a.createElement("div",{className:"userName"},n),$.a.createElement("div",{className:"rightGiftInfo"},$.a.createElement("img",{className:"giftIcon",src:yg,alt:""}),$.a.createElement("div",{className:"giftText"},"×",i)))}):i?null:$.a.createElement(zl.a,{emptyImg:Eg,className:"empty"}),!n&&l?$.a.createElement(pg.a,{onEnter:c},$.a.createElement("div",{className:"loader_container"},$.a.createElement(ea.a,null))):null)),$.a.createElement("div",{className:"detailBtn",onClick:function(){g&&g(),de.h.emit(de.f.RULE_CLICK)}},Object(ue.f)("magic_box_draw_know_rule"),$.a.createElement("div",{className:"arrow"})),$.a.createElement(X.b,{className:"closeBtn",name:X.b.NAME.QUIZ_CLEAR,size:36,onClick:g})))}),jg=function(e){if(e<=0)return"00:00";var t=Math.floor(e/6e4),e=Math.floor(e%6e4/1e3);return"".concat(t<10?"0".concat(t):t,":").concat(e<10?"0".concat(e):e)},bt=n.p+"assets/file/48b34149f9bb71cb5bbfb39ac9468e99.png",r=n.p+"assets/file/7908b2d4853956d3c58df5edc914ac89.png",Ig=n("j3MA"),ft=n.p+"assets/file/4b7449ab7453ca5680469ce119e2ce81.png",Cg=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n},Ng=T.default.div.withConfig({componentId:"sc-1p2mqy5-0"})(["width:340px;border-radius:10px;background:rgba(255,255,255,0.2);position:relative;margin-left:auto;margin-right:auto;margin-top:20px;padding-bottom:1px;&._result{&:after{content:'';width:100%;height:100%;position:absolute;left:0;top:0;background:rgba(0,0,0,0.4);border-radius:10px;}}& > .avatarInfo{height:38px;padding-left:10px;padding-right:10px;display:flex;align-items:center;& > .avatar{flex-shrink:0;}& > .name{overflow:hidden;white-space:nowrap;height:17px;line-height:17px;font-size:13px;color:white;margin-left:5px;margin-right:8px;text-overflow:ellipsis;max-width:128px;}& > .title{font-size:13px;color:white;height:17px;line-height:17px;white-space:nowrap;margin-right:8px;}& > .right{margin-left:auto;display:inline-flex;align-items:center;font-size:13px;color:white;line-height:17px;.rightTitleMini{white-space:nowrap;}&.rightMini{white-space:nowrap;}& > .icon{background:url(",") center center no-repeat;width:21px;height:21px;background-size:100%;flex-shrink:0;}}}& > .drawInfo{display:flex;background:rgba(85,43,14,0.2);border-radius:8px;width:320px;height:54px;margin-left:auto;margin-right:auto;align-items:center;padding-left:16px;padding-right:16px;justify-content:center;margin-bottom:8px;cursor:pointer;> .round1_wait_to_start{color:#ffffff;font-size:13px;margin-left:5px;flex:1;}.drawInfoIcon{width:54px;height:54px;img{width:100%;height:100%;object-fit:cover;}}.drawInfoBtn{margin-left:auto;min-width:132px;height:32px;line-height:32px;color:white;font-size:13px;padding-left:14px;padding-right:14px;background:rgba(255,206,45,1);border-radius:16px;text-align:center;cursor:pointer;svg{color:white;}}.openInfoIcon{width:54px;height:54px;flex-shrink:0;img{width:100%;height:100%;object-fit:contain;}}.detailMore{margin-left:auto;height:32px;background:rgba(0,0,0,0.2);border:1px solid rgba(255,255,255,0.5019607843137255);opacity:1;border-radius:4px;padding-left:10px;padding-right:10px;color:white;font-size:13px;cursor:pointer;white-space:nowrap;display:inline-flex;align-items:center;.arrow{background:url(",") center center no-repeat;background-size:12px 12px;width:12px;height:12px;}}}& > .resultIcon{width:100px;height:100px;position:absolute;right:0;top:0;&.suc{background:url(",") center center no-repeat;background-size:100% 100%;}&.fail{background:url(",") center center no-repeat;background-size:100% 100%;}}"],_t,ft,bt,r),Tg=$.a.memo(function(e){var t=e.data,n=e.isFollow,a=e.magicBoxConfig,i=e.drawCallback,r=e.noDrawCallback,o=e.roomId,c=e.onClickDetail,l=a||{},s=l.open_icon,u=l.end_icon,f=l.progress_icon,d=Object(Z.useState)(!1),p=ne()(d,2),m=p[0],g=p[1],b=Object(Z.useState)(!1),e=ne()(b,2),a=e[0],h=e[1],l=Object(Z.useState)(t),d=ne()(l,2),_=d[0],v=d[1],p=_||{},b=p.avatar,e=void 0===b?"":b,t=p.user_name,l=void 0===t?"":t,x=p.end_time,E=p.start_time,y=p.box_id,O=p.status,d=p.has_draw,b=Object(Z.useCallback)(function(e){var t=e.minutes,n=e.seconds;return Cg(e,["minutes","seconds"]).completed&&(O===wm.a.round1&&(g(!0),de.h.emit(de.f.MY_DRAW_GET,{drawId:y})),O===wm.a.round2&&(h(!0),de.h.emit(de.f.MY_DRAW_GET,{drawId:y}))),$.a.createElement("div",{className:"time"},t,":",n)},[O,y]),t=Object(Z.useCallback)(function(e){var t=Cg(e,[]).completed,n=Object(Ig.a)({startTime:E,endTime:x}),a=n.curProgress,e=n.curTarget,n=jg(0<e&&0<a?a<e?a:e:0);return t&&0<e&&0<a&&O===wm.a.progress&&(e=a=1),$.a.createElement(Rm,{isEnd:!1,progress:a,target:e,progress_icon:f,open_icon:s,end_icon:u,style:{marginBottom:8},progressText:n})},[f,s,u,E,x,O]),p=ig({hostId:o,isFollow:n,drawId:y,drawCallback:function(e){v(function(e){return Object.assign(Object.assign({},e),{has_draw:!0})}),i(e,(null==_?void 0:_.status)===wm.a.round2)},noDrawCallback:function(e){v(function(e){return Object.assign(Object.assign({},e),{has_draw:!0})}),r(e,(null==_?void 0:_.status)===wm.a.round2)},errorCallback:function(e){I.d.error(e.message)}}),o=p.submitHandle,p=p.isSelf;return Object(Z.useLayoutEffect)(function(){function t(c,l){v(function(e){var t=c.box_id,n=c.status,a=c.target,i=c.progress,r=e.box_id,o=e.status;return r===t?l&&o===wm.a.progress?Object.assign(Object.assign({},e),{target:a,progress:i}):n===wm.a.round2?Object.assign(Object.assign(Object.assign({},e),c),{has_draw:!1}):Object.assign(Object.assign({},e),c):e})}function e(e){t(e,!0)}function n(e){t(e,!1)}return de.h.on(de.f.PROGRESS_TO_LIST,e),de.h.on(de.f.NOTIFY_TO_LIST,n),function(){de.h.off(de.f.PROGRESS_TO_LIST,e),de.h.off(de.f.NOTIFY_TO_LIST,n)}},[]),O===wm.a.round1?$.a.createElement(Ng,null,$.a.createElement("div",{className:"avatarInfo"},$.a.createElement(mg.a,{once:!0,overflow:!0},$.a.createElement($e.b,{src:e,size:24,className:"avatar"})),zm(l),$.a.createElement("div",{className:"right ".concat(m?"rightMini":"")},m?Object(ue.f)("magic_box_not_start_task"):$.a.createElement($.a.Fragment,null,$.a.createElement("div",{className:"icon"}),$.a.createElement("div",{className:"rightTitleMini"},Object(ue.f)("magic_box_remain_time")),$.a.createElement($f.a,{key:x,date:x,renderer:b})))),m||d?null:$.a.createElement("div",{className:"drawInfo",onClick:o},$.a.createElement("div",{className:"drawInfoIcon"},$.a.createElement("img",{src:s,alt:""})),$.a.createElement("div",{className:"drawInfoBtn"},n||p?null:$.a.createElement(X.b,{className:"followIcon",name:X.b.NAME.ADD,size:16}),n||p?Object(ue.f)("magic_box_draw"):Object(ue.f)("magic_box_gz_btn"))),!m&&d?$.a.createElement("div",{className:"drawInfo",onClick:function(){c&&c(_)()}},$.a.createElement("div",{className:"openInfoIcon"},$.a.createElement("img",{src:u,alt:""})),$.a.createElement("div",{className:"round1_wait_to_start"},Object(ue.f)("magic_box_round2_wait_to_start")),$.a.createElement("div",{className:"detailMore"},Object(ue.f)("magic_box_show_record"),$.a.createElement("div",{className:"arrow"}))):null):O===wm.a.round2?$.a.createElement(Ng,null,$.a.createElement("div",{className:"avatarInfo"},$.a.createElement(mg.a,{once:!0,overflow:!0},$.a.createElement($e.b,{src:e,size:24,className:"avatar"})),zm(l),a||d?null:$.a.createElement("div",{className:"right"},$.a.createElement("div",{className:"icon"}),$.a.createElement("div",{className:"rightTitleMini"},Object(ue.f)("magic_box_remain_time")),$.a.createElement($f.a,{key:x,date:x,renderer:b}))),a||d?null:$.a.createElement("div",{className:"drawInfo",onClick:o},$.a.createElement("div",{className:"drawInfoIcon"},$.a.createElement("img",{src:s,alt:""})),$.a.createElement("div",{className:"drawInfoBtn"},n||p?null:$.a.createElement(X.b,{className:"followIcon",name:X.b.NAME.ADD,size:16}),n||p?Object(ue.f)("magic_box_draw"):Object(ue.f)("magic_box_gz_btn"))),!a&&d||a?$.a.createElement("div",{className:"drawInfo",onClick:function(){c&&c(_)()}},$.a.createElement("div",{className:"openInfoIcon"},$.a.createElement("img",{src:u,alt:""})),$.a.createElement("div",{className:"round1_wait_to_start"},Object(ue.f)("magic_box_round2_end")),$.a.createElement("div",{className:"detailMore"},Object(ue.f)("magic_box_show_record"),$.a.createElement("div",{className:"arrow"}))):null):O===wm.a.progress?$.a.createElement(Ng,null,$.a.createElement("div",{className:"avatarInfo"},$.a.createElement(mg.a,{once:!0,overflow:!0},$.a.createElement($e.b,{src:e,size:24,className:"avatar"})),zm(l)),$.a.createElement($f.a,{date:x,renderer:t})):O===wm.a.end?$.a.createElement(Ng,null,$.a.createElement("div",{className:"avatarInfo"},$.a.createElement(mg.a,{once:!0,overflow:!0},$.a.createElement($e.b,{src:e,size:24,className:"avatar"})),zm(l)),$.a.createElement("div",{className:"drawInfo",onClick:function(){c&&c(_)()}},$.a.createElement("div",{className:"openInfoIcon"},$.a.createElement("img",{src:u,alt:""})),$.a.createElement("div",{className:"round1_wait_to_start"},Object(ue.f)("magic_box_round2_end")),$.a.createElement("div",{className:"detailMore"},Object(ue.f)("magic_box_show_record"),$.a.createElement("div",{className:"arrow"})))):O===wm.a.willProgress?$.a.createElement(Ng,null,$.a.createElement("div",{className:"avatarInfo"},$.a.createElement(mg.a,{once:!0,overflow:!0},$.a.createElement($e.b,{src:e,size:24,className:"avatar"})),zm(l),$.a.createElement("div",{className:"right rightMini"},Object(ue.f)("magic_box_not_start_task")))):null}),Sg=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n},Ag=!1,Lg=Object(i.b)(function(e){return{magicBoxConfig:e.configure.magicBox||{}}})(function(e){var t=e.magicDispatch,n=e.magicBoxConfig,a=e.anchorInfo,i=a.anchorId,r=a.ifFollow,o=Object(Z.useState)(!1),c=ne()(o,2),l=c[0],s=c[1],u=Object(Z.useState)(!1),f=ne()(u,2),d=f[0],p=f[1],m=Object(Z.useState)(!0),g=ne()(m,2),b=g[0],h=g[1],_=Object(Z.useState)(!1),v=ne()(_,2),x=v[0],E=v[1],e=Object(Z.useState)(!1),a=ne()(e,2),y=a[0],O=a[1],o=Object(Z.useState)(1),c=ne()(o,2),w=c[0],k=c[1],u=Object(Z.useState)([]),f=ne()(u,2),j=f[0],I=f[1],m=Object(Z.useState)(!1),g=ne()(m,2),_=g[0],C=g[1],v=Object(Z.useState)(!1),e=ne()(v,2),a=e[0],N=e[1],o=Object(Z.useState)(),c=ne()(o,2),u=c[0],T=c[1],f=Object(Z.useState)(),m=ne()(f,2),g=m[0],S=m[1],v=Object(Z.useState)(!1),e=ne()(v,2),o=e[0],A=e[1],c=Object(Z.useState)(!1),f=ne()(c,2),m=f[0],L=f[1],v=Object(Z.useState)(),e=ne()(v,2),c=e[0],D=e[1],f=Object(Z.useState)(!1),v=ne()(f,2),e=v[0],P=v[1],f=Object(Z.useState)(!1),v=ne()(f,2),f=v[0],R=v[1],v=Object(Z.useState)(0),v=ne()(v,2),z=v[0],M=v[1],G=Object(Z.useCallback)(function(e){var r=[],o=0,c=0,l=!1;e.forEach(function(e){var t=e.status,n=e.box_id,a=e.has_draw,i=e.start_time,e=e.end_time;t!==wm.a.round1&&t!==wm.a.round2||a||r.push(n),t===wm.a.progress&&(o=i,c=e,l=!0)}),t({type:"updateEntry",data:{count_box_ids:r,status:l?wm.b.progress:wm.b.end,start_time:o,end_time:c}})},[t]),F=Object(Z.useCallback)(function(e){var t=e.box_id,n=Sg(e,["box_id"]);I(function(e){return e.map(function(e){return e.box_id===t?Object.assign(Object.assign({},e),n):e})})},[]),U=Object(Z.useCallback)(function(){Ag||(h(!(Ag=!0)),Object(Ya.q)({hostId:i,page:w}).then(function(e){var n;e&&(n=void 0===(e=(e||{}).lucky_boxes)?[]:e,M(0),n&&0<n.length?(I(function(e){var t=e.filter(function(t){return!n.find(function(e){return e.box_id===t.box_id})}),e=[],e=1===w?n:t.concat(n);return G(e),e}),k(function(e){return e+1})):E(!0))}).catch(function(){M(function(e){return e+1})}).finally(function(){h(z<3),p(Ag=!1)}))},[w,i,G,z]);Object(Z.useEffect)(function(){l&&!y&&(p(!0),U(),O(!0),E(!1))},[l,y,U]),Object(Z.useEffect)(function(){function e(n){var a,i;l&&(a=n.box_id,i=n.status,I(function(e){var t=e.find(function(e){return e.box_id===a});return i!==wm.a.round1&&i!==wm.a.round2||t?e:[n].concat(e)}))}return de.h.on(de.f.NOTIFY_TO_LIST,e),function(){de.h.off(de.f.NOTIFY_TO_LIST,e)}},[o,g,l]);var H=Object(Z.useCallback)(function(){O(!1),k(1),s(!1),t({type:"updateDialog",data:{isOpenList:!1}})},[t]),B=Object(Z.useCallback)(function(){s(!0),t({type:"updateDialog",data:{isOpenList:!0}})},[t]),W=Object(Z.useCallback)(function(n){return function(e,t){C(!0),T(Object.assign(Object.assign({},e),{isRound2:t})),de.h.emit(de.f.MY_DRAW_GET,{drawId:n})}},[]),q=Object(Z.useCallback)(function(n){return function(e,t){F({box_id:n,has_draw:!0}),N(!0),P(!!e),R(!!t),de.h.emit(de.f.MY_DRAW_GET,{drawId:n})}},[F]),K=Object(Z.useCallback)(function(t){return function(e){F(Object.assign({box_id:t},e))}},[F]),Y=Object(Z.useCallback)(function(e){A(!0),S(e)},[]),V=Object(Z.useCallback)(function(e){return function(){L(!0),D(e)}},[]),v=Object(Z.useMemo)(function(){return 0<j.length?j.map(function(e){var t=e.box_id;return $.a.createElement(Tg,{key:t,magicBoxConfig:n,roomId:i,data:e,isFollow:r,drawCallback:W(t),noDrawCallback:q(t),updateStatusCallback:K(t),onClickProgress:Y,onClickDetail:V})}):null},[j,n,r,W,q,K,Y,V,i]);return Object(Z.useEffect)(function(){function e(){B()}return de.h.on(de.f.LIST_DIALOG_SHOW,e),function(){de.h.off(de.f.LIST_DIALOG_SHOW,e)}}),$.a.createElement($.a.Fragment,null,l?$.a.createElement(gg.b,{onBarClick:function(){H()},type:gg.a.none,onClose:function(){H()}},$.a.createElement(bg,null,$.a.createElement("div",{className:"bg hasWhite"}),$.a.createElement("div",{className:"bg hasIcon"}),$.a.createElement("div",{className:"container"},$.a.createElement("div",{className:"title"},Object(ue.f)("magic_box_list_title"),$.a.createElement("div",{className:"titleQ",onClick:function(){de.h.emit(de.f.RULE_CLICK)}}),$.a.createElement(X.b,{className:"titleClose",name:X.b.NAME.CLOSE,size:22,onClick:function(){H()}})),d?$.a.createElement("div",{className:"loader_container"},$.a.createElement(ea.a,null)):$.a.createElement("div",{className:"listContainer"},$.a.createElement(mg.a,{overflow:!0},v),!x&&b?$.a.createElement(pg.a,{onEnter:U},$.a.createElement("div",{className:"loader_container"},$.a.createElement(ea.a,null))):null)))):null,$.a.createElement(Am,{visible:_,reward:u,isRound2:null==u?void 0:u.isRound2,onClose:function(){C(!1),setTimeout(function(){T(null)},100)}}),$.a.createElement(Lm,{isRound2:f,visible:a,isNoDrawFull:e,onClose:function(){N(!1)}}),$.a.createElement(kg,{visible:m,item:c,onClose:function(){L(!1),setTimeout(function(){D(null)},500)}}),$.a.createElement(vg,{visible:o,item:g,onClickGift:function(){A(!1),setTimeout(function(){S(null)},0),O(!1),H()},onClose:function(){A(!1),setTimeout(function(){S(null)},500)}}))}),Dg=n("eXAl"),Pg=T.default.div.withConfig({componentId:"sc-1qpv9bk-0"})(["margin-right:10px;white-space:nowrap;font-size:0;position:relative;min-height:15px;> img{width:20px;height:20px;position:absolute;left:-4px;top:50%;transform:translateY(-50%);vertical-align:middle;margin-right:5px;}> .certification-logo{width:20px;height:20px;vertical-align:middle;margin-right:5px;}> .text{font-size:12px;display:inline-block;max-width:210px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;vertical-align:middle;color:#2da2f5;background-color:rgba(45,162,245,0.1);border-radius:50px;padding:1px 9px 1px 21px;}"]),Rg=T.default.img.withConfig({componentId:"t9l1ku-0"})(["height:18px;margin-right:10px;"]),zg=n("Gy+C"),Mg=n("lhe3"),en=n.p+"assets/file/dda9fb31404fdc19221195c4c0a67e27.png",Gg=n.p+"assets/file/696f8099fcc9196382032187c3a774cc.png",Fg=n.p+"assets/file/adc011e9e870327ab990dd5209324cd4.png",Ug=n.p+"assets/file/23677a6031ae8a7df7aec851d24d765e.png",Hg=n.p+"assets/file/2984a70f0422f60ebe8c249342d89aa5.png",mn=n.p+"assets/file/f3a2cf9732a9ca7e241f2caadb41f835.png",_t=n.p+"assets/file/a5b2b840cf075701656828085cc67216.png",ft=n.p+"assets/file/dd08b10569d0965e38c5ed6222785e61.png",bt=n.p+"assets/file/f8ab33e8e9b0dcb36125f98997a3c928.png",r=ue.d===ue.b.KOREAN,Bg=T.default.div.withConfig({componentId:"sc-1jjd0g1-0"})(["margin-top:12px;display:flex;align-items:center;justify-content:center;> .center_bar_left{width:118px;height:6.67px;margin-right:19px;background:url(",") center center no-repeat;background-size:100%;}> .center_title{white-space:nowrap;font-size:16px;font-weight:600;color:",";}> .center_bar_right{width:118px;height:6.67px;margin-left:19px;background:url(",") center center no-repeat;transform:rotate(180deg);background-size:100%;}"],en,Object(rn.b)("#111111","rgba(255, 255, 255, 0.9)"),en),Wg=T.default.div.withConfig({componentId:"sc-1jjd0g1-1"})(["width:394px;height:64px;background:",";border-radius:4px;display:flex;padding-left:20px;padding-right:20px;margin-bottom:12px;align-items:center;margin-left:auto;margin-right:auto;> .icon{width:44px;height:44px;img{width:100%;height:100%;}}> .info{margin-left:10px;flex:1;display:flex;flex-direction:column;justify-content:center;height:44px;> .infoTop{display:flex;> .infoTopTitle{color:",";font-weight:600;line-height:19px;}> .infoTopRight{margin-left:auto;display:inline-flex;> .infoTopNumBigger{font-size:16px;font-weight:600;color:#00a9fa;}> .infoTopNum{font-size:14px;font-weight:400;line-height:19px;color:#00a9fa;opacity:0.5;}}}> .infoBottom{display:flex;margin-top:3px;> .infoBottomRight{white-space:nowrap;margin-left:auto;font-size:12px;font-weight:400;line-height:16px;color:",";opacity:1;display:inline-flex;> .icon{background:url(",") center center no-repeat;background-size:18px 18px;width:18px;height:18px;margin-right:5px;}}> .infoBottomDesc{font-size:12px;font-weight:400;line-height:19px;color:",";opacity:1;}}}"],Object(rn.b)("rgba(245, 245, 245, 0.5)","rgba(60, 63, 67, 0.6)"),Object(rn.b)("#333333","rgba(255, 255, 255, 0.9)"),Object(rn.b)("#333333","rgba(255, 255, 255, 0.6)"),mn,Object(rn.b)("#999999","rgba(255, 255, 255, 0.9)")),qg=T.default.div.withConfig({componentId:"sc-1jjd0g1-2"})(["margin-top:14px;display:flex;align-items:flex-start;justify-content:space-between;width:340px;margin-left:auto;margin-right:auto;> .taskItem{flex:1;display:inline-flex;flex-direction:column;align-items:center;> .icon{width:64px;height:64px;",";border-radius:50%;margin-bottom:8px;&:after{content:'';width:50px;height:50px;margin-left:auto;margin-right:auto;display:block;margin-top:7px;}&.icon1{&:after{background:url(",") center center no-repeat;background-size:50px 50px;}}&.icon2{&:after{background:url(",") center center no-repeat;background-size:50px 50px;}}&.icon3{&:after{background:url(",") center center no-repeat;background-size:50px 50px;}}}> .text{font-size:12px;color:",";text-align:center;line-height:16px;word-break:keep-all;}}"],Object(rn.b)("background: linear-gradient(318deg, rgba(48,229,222,0.1) 0%, rgba(0,175,247,0.1) 100%)","background: linear-gradient(318deg, rgba(48,229,222,0.2) 0%,  rgba(0,175,247,0.2) 100%)"),ft,_t,bt,Object(rn.b)("#999999","rgba(153, 153, 153, 1)")),Kg=T.default.div.withConfig({componentId:"sc-1jjd0g1-3"})(["cursor:pointer;margin-top:18px;width:",";height:40px;background:linear-gradient(270deg,#30e5de 0%,#00aff7 100%);opacity:1;border-radius:40px;display:flex;align-items:center;font-size:16px;font-weight:400;color:#ffffff;margin-left:auto;margin-right:auto;justify-content:center;img{width:49px;height:37px;object-fit:contain;}&.dis{background:#c7c7c7;cursor:not-allowed;}"],r?"394px":"320px"),_t=ue.d===ue.b.KOREAN,Yg=!!Tn.a.getLoginStatus(),Vg=T.default.div.withConfig({componentId:"g44a61-0"})(["> .container{width:450px;height:370px;position:relative;margin-left:auto;margin-right:auto;.closeIcon{position:absolute;top:50px;right:10px;cursor:pointer;background-size:15px 15px;color:#cccccc;}&:before{content:'';height:40px;display:block;}> .content{background:",";padding-bottom:10px;border-radius:4px;box-shadow:0px 6px 12px rgba(0,0,0,0.1);> .top{display:flex;align-items:center;justify-content:center;flex-direction:column;> .avatar{margin-top:-40px;width:80px;height:80px;border:3px solid ",";background-color:",";border-radius:90px;}> .name{font-size:16px;font-weight:600;line-height:21px;color:",";margin-top:12px;margin-bottom:4px;","}> .iconList{display:flex;justify-content:center;align-items:center;}}> .normalBtn{cursor:pointer;display:flex;align-items:center;justify-content:center;width:",";height:40px;border:1px solid ",";opacity:1;border-radius:40px;font-size:16px;color:",";margin-top:15px;margin-left:auto;margin-right:auto;}}}"],Object(rn.b)("white"," #2E3033"),Object(rn.b)("#ffffff","#2E3033"),Object(rn.b)("#ffffff","#2E3033"),Object(rn.b)("#000000","rgba(255, 255, 255, 0.9)"),Object(rn.d)(200),_t?"394px":"320px",Object(rn.b)(" #edeff0","#3C3F43"),Object(rn.b)("#666666","rgba(255, 255, 255, 0.5)")),bt=n.p+"assets/file/1adff61b8b6f9aac9c94161e1dd16a67.png",r=n.p+"assets/file/0737f2c7197339bf800d304b52651828.png",Xg=n.p+"assets/file/fa4408772842982a49b9fb10a333ecfe.png",Qg=n.p+"assets/file/f1f0b600f4c6273319b164149e60dc36.png",Jg=n.p+"assets/file/d55fff8f4236919d909f8367c2758af1.png",Zg=T.default.div.withConfig({componentId:"sc-6mzvw5-0"})(["> .scrollContent{max-height:500px;overflow:auto;",";> .subTitle{line-height:18px;margin-left:29px;display:inline-flex;margin-top:24px;align-items:flex-start;color:",";&:before{content:'';width:22px;height:22px;background:url(",") center center no-repeat;background-size:22px 22px;margin-right:4px;flex-shrink:0;margin-top:-5px;}font-size:16px;font-weight:600;margin-bottom:11px;width:394px;}> .subDesc{font-weight:400;color:",";padding-left:44px;padding-right:44px;font-size:14px;line-height:18px;}> .tableContainer{position:relative;width:360px;margin-left:auto;margin-right:auto;border-radius:10px;overflow:hidden;margin-top:22px;border:1px solid ",";.tableTitle{height:37px;display:flex;align-items:center;.tableItem{background:",";font-size:14px;color:",";height:37px;text-align:center;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;&.left{flex:2;&.biggerLeft{flex:1;}}&.right{flex:1;}}}.tableItem2{background:",";border-bottom:1px solid ",";display:flex;align-items:center;line-height:40px;font-size:12px;&.noBorder{border-bottom:none;}color:",";& > .left{flex:2;text-align:center;&.biggerLeft{flex:1;}}& > .right{flex:1;text-align:center;&.biggerRight{flex:1;display:inline-flex;justify-content:center;.fans_badge{width:96px;border-radius:23px;line-height:24px;justify-content:flex-start;height:24px;.fansGroupBadgeText{width:60px;padding:0;font-size:13px;}.fansLevel{flex:1;font-size:14px;}.line{flex-shrink:0;}}}}}}.welfare_image{width:362px;margin-top:24px;margin-bottom:24px;margin-left:auto;margin-right:auto;display:block;}> .middleTitle{font-size:16px;font-weight:bold;line-height:21px;color:",";opacity:1;padding-left:28px;margin-top:24px;}}> .name{font-size:18px;font-weight:bold;line-height:24px;color:",";text-align:center;margin-bottom:7px;margin-top:12px;}"],vt.a,Object(rn.b)("#111111","rgba(255, 255, 255, 0.9)"),r,Object(rn.b)("#999999","rgba(255, 255, 255, 0.5)"),Object(rn.b)("rgba(237, 239, 240, 1)","rgba(73, 76, 81, 1)"),Object(rn.b)("#edeff0","rgba(73, 76, 81, 1)"),Object(rn.b)("#333333","rgba(255, 255, 255, 0.9)"),Object(rn.b)("white","rgba(60, 63, 67, 1)"),Object(rn.b)("rgba(237, 239, 240, 1)","rgba(73, 76, 81, 1)"),Object(rn.b)("#999999","rgba(255, 255, 255, 0.9)"),Object(rn.b)("#333333","rgba(255, 255, 255, 0.9)"),Object(rn.b)("#333333","rgba(255, 255, 255, 0.9)")),_t=n.p+"assets/file/63161fb3483780c60969c0048c718d9f.png",r=n.p+"assets/file/57f9be0d20a3949c03649e33b8238913.png",$g=T.default.div.withConfig({componentId:"sc-146845z-0"})(["> .container{border-radius:4px;position:relative;width:450px;margin-left:auto;margin-right:auto;padding-top:28px;background:url(",") center top no-repeat;background-color:",";background-size:450px 176px;padding-bottom:20px;&._rule{padding-top:12px;}.closeIcon{position:absolute;top:16px;right:16px;cursor:pointer;color:#cccccc;}.leftIcon{position:absolute;top:16px;left:16px;cursor:pointer;color:#cccccc;}> .content{> .scrollContent{max-height:500px;overflow:auto;",";> .avatarContainer{text-align:center;padding-top:27px;> .unlockBadge{margin-left:auto;margin-right:auto;display:flex;justify-content:center;align-items:center;width:394px;height:36px;background:",";color:",";border-radius:18px;margin-top:26px;font-size:12px;}}}> .name{display:flex;align-items:center;justify-content:center;> .innerName{display:inline-flex;white-space:nowrap;margin-left:7px;font-size:18px;font-weight:bold;line-height:24px;height:24px;color:",";margin-right:6px;}> .qaIcon{cursor:pointer;width:24px;height:24px;background:url(",") center center no-repeat;background-size:100%;}}}}"],bt,Object(rn.b)("white","#2E3033;"),vt.a,Object(rn.b)("#f8f8f8","#3C3F43"),Object(rn.b)("#333333","rgba(255, 255, 255, 0.9)"),Object(rn.b)("#333333","white"),Object(rn.b)(r,_t)),eb=T.default.div.withConfig({componentId:"sc-146845z-1"})(["width:394px;height:119px;background:",";box-shadow:0px 4px 8px rgba(167,123,131,0.15);opacity:1;border-radius:4px;margin-left:auto;margin-right:auto;display:flex;flex-direction:column;align-items:center;padding-left:20px;padding-right:20px;padding-top:20px;margin-bottom:30px;> .top{padding-right:20px;display:flex;align-items:center;height:48px;width:100%;> .info{margin-left:14px;display:inline-flex;flex-direction:column;> .infoTop{display:inline-flex;> .name{font-weight:600;line-height:21px;color:",";font-size:16px;",";margin-left:6px;}}> .infoBottom{margin-top:3px;display:inline-flex;font-size:12px;line-height:16px;color:",";> .intimacyIcon{background:url(",") center center no-repeat;width:16px;height:16px;margin-right:4px;margin-left:4px;background-size:16px 16px;}}}}> .center{margin-top:12px;display:flex;> .centerNormal{font-size:14px;font-weight:600;line-height:19px;color:",";}> .centerContainer{margin-left:11px;margin-right:11px;position:relative;width:282px;border-radius:15px;height:16px;background:rgba(0,169,250,0.3);> .centerContainerText{color:",";text-align:center;font-size:12px;font-weight:400;height:16px;line-height:16px;position:absolute;width:100%;}> .centerContainerInner{position:absolute;border-radius:15px;top:0;left:0;height:16px;background:linear-gradient(270deg,#30e5de 0%,#00aff7 100%);}}}"],Object(rn.b)("#ffffff","#3C3F43"),Object(rn.b)("#000000","rgba(255, 255, 255, 0.9)"),Object(rn.d)(87),Object(rn.b)("#000000","rgba(255, 255, 255, 0.9)"),mn,Object(rn.b)("#666666","rgba(255, 255, 255, 0.7)"),Object(rn.b)("#ffffff","rgba(255, 255, 255, 0.9)")),tb=T.default.div.withConfig({componentId:"sc-146845z-2"})(["> .timeRange{font-size:12px;font-weight:400;line-height:16px;color:#999999;opacity:1;margin-top:11px;margin-bottom:21px;text-align:center;}margin-bottom:30px;"]);(mn=Xm=Xm||{})[mn.hide=1]="hide",mn[mn.show=0]="show";var nb=function(e,n,t,a){var i=e.shieldSendGift,r=e.living,e=Object(Z.useState)(!1),e=ne()(e,2),o=e[0],c=e[1],l=Object(Z.useCallback)(function(e){e&&c(!0)},[]),s=Object(Z.useCallback)(function(){var e=Date.now(),t=Vm(n,"get");return!t||e-Number(t)>a},[n,a]);Object(Z.useEffect)(function(){return Tn.a.getUserId()!==n&&i===Xm.show&&de.h.on(de.g.SEND_GIFT,l),function(){de.h.off(de.g.SEND_GIFT,l)}},[n,l,i]),Object(Z.useEffect)(function(){var e;return Tn.a.getUserId()!==n&&i===Xm.show&&r&&0<Number(t)&&s()&&(e=setTimeout(function(){o||(Vm(n,"set"),de.h.emit(de.g.UPDATE_ON_CHAT,{userId:-1,cmd:N.L,msg:Object(ue.f)("send_gift_support"),msgBgColor:"rgba(32,190,243,0.08)",msgTextColor:"#20BEF3"}))},t)),(!r||!t||Number(t)<=0)&&e&&clearTimeout(e),function(){e&&clearTimeout(e)}},[n,o,t,i,r,s])},ab=window.__INITIAL_STATE__&&window.__INITIAL_STATE__.competition_live_room_list||[],ib=n("+se6"),rb=n("0YTR"),ob=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},cb={cmd:N.nb,toName:"",toUserImg:"",toAvatarDecortaion:0,toLevel:1,toId:0,giftId:0,category:0,giftType:0,count:0,comboEffect:0,nonopara:""},rn=function(){function a(e,t,n){ir()(this,a),this.giftParams=cb,this.giftInfo=t,this.wsNonoParaData=n,this.giftParams=Object.assign(Object.assign(Object.assign({},cb),e),{cmd:a.SEND_GIFT_CMD}),this.wsNonoPara(),this.getComboEffectFromGiftInfo()}return rr()(a,[{key:"getComboEffectFromGiftInfo",value:function(){var t=this,e=this.giftInfo.comboList;this.giftParams.comboEffect=0,!e||(e=e.find(function(e){return e.quantity===t.giftParams.count}))&&Object.keys(e).length&&(this.giftParams.comboEffect=e.quantity)}},{key:"wsNonoPara",value:function(){if(this.wsNonoParaData&&Object.keys(this.wsNonoParaData).length){var e,t="";for(e in this.wsNonoParaData)this.wsNonoParaData.hasOwnProperty(e)&&(t+="`".concat(e,"=").concat(this.wsNonoParaData[e]));this.giftParams.nonopara=t}}},{key:"sendAction",value:function(n,a){return ob(this,void 0,void 0,Ka.a.mark(function e(){var t;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a||{},e.next=4,C.a.request(n,Object.assign(Object.assign({},this.giftParams),t));case 4:return t=e.sent,e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("ChatServerCenter--send-gift error".concat(JSON.stringify(e.t0))),new Error(JSON.stringify(e.t0));case 12:case"end":return e.stop()}},e,this,[[0,8]])}))}}]),a}();rn.SEND_GIFT_CMD=N.nb;var lb,sb=rn,ub=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})};(mn=lb=lb||{})[mn.NOT_EXITS_GIFT=-1001]="NOT_EXITS_GIFT",mn[mn.ERROR_CATCH_CODE=-1e3]="ERROR_CATCH_CODE",mn[mn.SUCCESS_CODE=0]="SUCCESS_CODE",mn[mn.BANLANCE_NOT_ENOUGH=4]="BANLANCE_NOT_ENOUGH";var fb,db={toName:"",toUserImg:"",toAvatarDecortaion:0,toLevel:1,toId:0,giftId:0,category:0,giftType:0,count:0},pb=new(function(){function e(){ir()(this,e),this.requestData=db}return rr()(e,[{key:"handlerAnchorParams",value:function(e){this.requestData.toName=e.name||"",this.requestData.toUserImg=e.avatar||"",this.requestData.toAvatarDecortaion=e.avatarDecorationid||0,this.requestData.toLevel=e.level||1,this.requestData.toId=e.anchorId}},{key:"handlerGiftParams",value:function(e){this.requestData.giftId=e.id,this.requestData.category=e.category,this.requestData.giftType=e.type}},{key:"sendMessage",value:function(t){return ub(this,void 0,void 0,Ka.a.mark(function e(){return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(t));case 1:case"end":return e.stop()}},e)}))}},{key:"send",value:function(e){var a=e.hostInfo,i=e.gid,r=e.count,t=e.giftParams,o=void 0===t?{}:t,e=e.wsNonoParaData,c=void 0===e?{}:e;return ub(this,void 0,void 0,Ka.a.mark(function e(){var t,n;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=V.a.getState(),n=t.configure,t=null==n?void 0:n.gift,n=t.giftIdMapDetail,t=n[i]||null){e.next=6;break}return K.a.log("can not find the gift::giftId=".concat(i)),e.abrupt("return",{rstCode:lb.NOT_EXITS_GIFT,giftId:i,count:this.requestData.count,responseCode:lb,errorMsg:"can not find the gift::giftId=".concat(i)});case 6:return this.handlerAnchorParams(a),this.handlerGiftParams(t),this.extGiftParams=o||{},this.requestData.count=r,this.SendGift=new sb(this.requestData,t,c),e.next=13,this.WsSendAction(a.anchorId);case 13:return n=e.sent,e.abrupt("return",this.sendMessage(n));case 15:case"end":return e.stop()}},e,this)}))}},{key:"WsSendAction",value:function(r){return ub(this,void 0,void 0,Ka.a.mark(function e(){var t,n,a,i;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.SendGift.sendAction(r,this.extGiftParams);case 3:return i=e.sent,t=i.rst,n=i.exp,a=i.is_level_up,i=i.new_level,e.abrupt("return",{anchorId:r,rstCode:t,exp:n,isLevelUp:a,newLevel:i,giftId:this.requestData.giftId,count:this.requestData.count,responseCode:lb});case 11:return e.prev=11,e.t0=e.catch(0),K.a.log({"send-gift--err":e.t0}),e.abrupt("return",{rstCode:lb.ERROR_CATCH_CODE,giftId:this.requestData.giftId,count:this.requestData.count,responseCode:lb,errorMsg:Object(ue.f)("gift:send_timeout")});case 15:case"end":return e.stop()}},e,this,[[0,11]])}))}}]),e}()),mb=n("bUZ1"),gb=n("vDBz");(rn=fb=fb||{})[rn.SUCCESS=1e3]="SUCCESS",rn[rn.FIAL=1001]="FIAL",rn[rn.NOT_ENOUGH=1002]="NOT_ENOUGH",rn[rn.SEND_SELF=1003]="SEND_SELF",rn[rn.NOT_ENOUGH_PACK=1004]="NOT_ENOUGH_PACK";var bb,hb=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},_b=new(function(){function e(){ir()(this,e),this.giftInfo={}}return rr()(e,[{key:"sendGiftAction",value:function(e){var c=e.hostInfo,l=e.gid,s=e.giftExtInfo,u=e.count,f=e.wsNonoParaData;return hb(this,void 0,void 0,Ka.a.mark(function e(){var t,n,a,i,r,o;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=V.a.getState(),t=n.user,n=n.configure,t){e.next=3;break}return e.abrupt("return",!1);case 3:if(i=null==n?void 0:n.gift,r=i.giftIdMapDetail,a=r[l]||null){e.next=8;break}return K.a.log("can not find the gift::gift_id=".concat(l)),e.abrupt("return",!1);case 8:return this.giftInfo=a,o={},t.user_privilege&&t.user_privilege[c.anchorId]?o.medals=t.user_privilege[c.anchorId]:o.medals=[],s.boxInfo&&(o.notifyObj=s.boxInfo),(i=c.fansGroup)&&i.isGroupMember&&(r=i.fansBadge&&1===i.fansBadge.illegal,o.fansName=!r&&i.fansBadge&&i.fansBadge.name||"",o.fansLevel=i.fansBadge&&i.fansBadge.fansGroupLevel||0,o.fansBgPic=i.fansBadge&&i.fansBadge.bgPic||"",o.fansGroupType=i.fansGroupType||0),e.next=16,pb.send({hostInfo:c,gid:l,count:u,giftParams:o,wsNonoParaData:f});case 16:o=e.sent,this.sendAfterBusiness(o);case 18:case"end":return e.stop()}},e,this)}))}},{key:"sendAfterBusiness",value:function(e){var t=e.anchorId,n=e.rstCode,a=e.exp,i=e.isLevelUp,r=e.newLevel,o=e.giftId,c=e.count,e=e.responseCode;n!==e.SUCCESS_CODE&&this.failCallback({rstCode:n,anchorId:t,giftId:o,count:c,responseCode:e}),this.successCallback({anchorId:t,exp:a,isLevelUp:i,newLevel:r,giftId:o,count:c,responseCode:e})}},{key:"successCallback",value:function(e){var t=V.a.getState().user;if(!t)return!1;if(!e)return!1;var n=e.anchorId,a=e.exp,i=e.newLevel,r=e.isLevelUp,o=e.giftId,e=e.count;a&&V.a.dispatch(Object(mb.c)({exp:a})),r&&V.a.dispatch(Object(mb.c)({level:i}));e={anchorId:n,giftId:o,gift:this.giftInfo,count:e,code:fb.SUCCESS,ResponseCodeList:fb};return de.h.emit(de.g.UPDATE_USER_ACCOUNT,t.user_id),de.h.emit(de.g.SEND_GIFT,o),qt.b.emit(gb.a.eventCmd,e),e}},{key:"failCallback",value:function(e){if(!e)return!1;var t=e.rstCode,n=e.responseCode,e=e.errorMsg;return t===n.BANLANCE_NOT_ENOUGH?(qt.b.emit(qt.a.CMD_BANLANCE_NOT_ENOUGH,{popUp:gb.a.popUpNotEnough}),qt.b.emit(gb.a.eventCmd,{rstCode:t,responseCode:n,gift:this.giftInfo,code:fb.NOT_ENOUGH,ResponseCodeList:fb})):(qt.b.emit(gb.a.eventCmd,{rstCode:t,responseCode:n,gift:this.giftInfo,code:fb.FIAL,ResponseCodeList:fb}),t===n.ERROR_CATCH_CODE&&e&&I.d.error(e)),!1}}]),e}()),vb=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})},xb=function(e){var e=e.anchorInfo,r=void 0===e?Gn.a:e,e=V.a.getState().configure,s=(null==e?void 0:e.gift).giftIdMapDetail,u=r.anchorId,f=r.living,d=Object(Z.useCallback)(function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],i=4<arguments.length?arguments[4]:void 0;if(0<a.length&&a instanceof Array&&!a.some(function(e){return e.id===t.id}))return I.d.error("".concat(Object(ue.f)("gift:send_failed"),". code: 10001")),!1;if(V.a.getState().userFinance.account<t.price*e)return qt.b.emit(qt.a.CMD_BANLANCE_NOT_ENOUGH,{popUp:gb.a.popUpNotEnough}),gb.a.emitController(Object.assign(Object.assign({},t),{code:fb.NOT_ENOUGH,ResponseCodeList:fb})),!1;_b.sendGiftAction({hostInfo:r,gid:t.id,giftExtInfo:n,count:e,wsNonoParaData:i})},[r]),p=Object(Z.useCallback)(function(t,n,a,i){return vb(void 0,void 0,void 0,Ka.a.mark(function e(){return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n.balance&&n.balance<=0)){e.next=7;break}return gb.a.emitController(Object.assign(Object.assign({},n),{code:fb.NOT_ENOUGH_PACK,ResponseCodeList:fb})),I.d.error("".concat(Object(ue.f)("gift:send_pack_not_enough"),". code: 10001")),e.abrupt("return",!1);case 7:return _b.sendGiftAction({hostInfo:r,gid:n.id,giftExtInfo:a,count:t,wsNonoParaData:i}),e.abrupt("return",!1);case 11:e.prev=11,e.t0=e.catch(0),K.a.error(e.t0,{description:"获取直播间礼物包裹失败",report:!0});case 14:case"end":return e.stop()}},e,null,[[0,11]])}))},[r]);return{doSend:function(e){var t,n=e.giftId,a=e.curSelectCount,i=e.popUpNotEnough,r=void 0===i||i,o=e.eventCmd,c=void 0===o?"":o,l=e.giftExtInfo,i=void 0===l?{}:l,o=e.giftList,l=void 0===o?[]:o,o=e.wsNonoParaData,e=V.a.getState().user;if(!e)return V.a.dispatch(Object(Wt.c)(!0)),!1;if(s&&Object.keys(s).length&&(t=s[n]),!t)return I.d.error("".concat(Object(ue.f)("gift:send_failed"),". code: 10001")),!1;if(t=Object.assign(Object.assign({},t),i),gb.a.initEvent(r,c),f){if(e&&e.user_id===u)return I.d.error(Object(ue.f)("send_self_err")),gb.a.emitController(Object.assign(Object.assign({},t),{code:fb.SEND_SELF,ResponseCodeList:fb})),!1;t.type===So.b.GIFT_BOXES?(null!=t&&t.balance||(t=Object.assign(Object.assign({},t),{balance:1})),p(a,t,i,o)):d(a,t,i,l,o),ct.a.handleDataCount({lt:"pcclick",ct:"click",dt:"liveroom",et:"gift",ft:"send"})}return!1}}},Eb=n("PVK+"),yb=n("513M"),Ob=n("0Bu+"),wb=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})};(mn=bb=bb||{})[mn.ACCOUNT_DESTROY_CODE=1408]="ACCOUNT_DESTROY_CODE",mn[mn.USER_BANERD=1500]="USER_BANERD",mn[mn.BLACKLIST_BLOCKED=1300]="BLACKLIST_BLOCKED";function kb(r){var e=Object(Z.useState)(!0),t=(a=ne()(e,2))[0],o=a[1],n=Object(Z.useState)(null),a=(e=ne()(n,2))[0],c=e[1],n=Object(Z.useState)(Gn.a),n=(e=ne()(n,2))[0],l=e[1],i=Object(Z.useCallback)(function(){var i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return wb(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(null),i||o(!0),e.prev=2,e.next=5,Object(vm.a)(A.K,{times:3})({anchorId:r}).promise;case 5:t=e.sent,a=Object(Eb.a)(t),l(a),yb.a.add(r,t.log_id),n=V.a.getState(),n.user||Ob.a.addItem({user_id:a.anchorId,loginname:a.name,avatar:a.avatar}),n=!!a.transferLiveInfo,ct.a.handleDataCount({lt:"pageview",ct:"visit",dt:"client",et:"enter_room",source:sessionStorage.getItem(Be.Nb),sub_source:sessionStorage.getItem(Be.Kb),push_type:sessionStorage.getItem(Be.Mb),report_data:sessionStorage.getItem(Be.Lb),ft:n?"relay-live":a.living?"live":a.autoReplay?"replay":"off-live",aid:a.anchorId,live_id:!n&&a.living?t.log_id:""}),Object(Ye.d)(Ye.a.initWatchTime,Date.now()),Object(Ya.b)({anchorId:r,channelKey:a.channelKey,liveType:a.liveType,liveKey:a.liveType===ie.d.GAME?a.gameKey:a.categoryKey}).then(function(e){var t,n,a,i,r,o=e.headline;o&&(t=o._id,n=o.anchor,a=o.topLineGift,i=o.endTime,r=o.userId,e=null,n&&a&&i&&(e={id:t,anchorId:n.hostId,anchorAvatar:n.avatar,anchorName:n.nickName,endTimestamp:i,giftId:a.giftId,giftPicture:a.icon,giftAmount:a.num,giftTotalPrice:a.totalPrice,sendUserId:r,replacement:!1}),Ku.b.emit(Ku.a.RECEIVE_FROM_INITIAL_DATA,{headline:e,enable:!!o.status}))}).catch(function(e){return K.a.error(e,{description:"获取活动配置失败",report:!0})}),de.h.emit(de.g.END_ROOM_INIT,a),e.next=24;break;case 18:e.prev=18,e.t0=e.catch(2),K.a.error(e.t0,{description:"获取直播间信息失败",report:!0}),c(e.t0),(a=e.t0.code)&&(a===bb.USER_BANERD?Tn.a.logout():a===bb.ACCOUNT_DESTROY_CODE?window.location.replace("/"):a===bb.BLACKLIST_BLOCKED&&(sessionStorage.setItem("blacklist_redirect_touched","1"),window.location.replace("/")));case 24:o(!1);case 25:case"end":return e.stop()}},e,null,[[2,18]])}))},[r]);return Object(Z.useEffect)(function(){i()},[i]),Object(Z.useEffect)(function(){function e(){return i(!0)}return C.a.on(r,N.S,e),function(){C.a.off(r,N.S,e)}},[r,i]),Object(Z.useEffect)(function(){function e(e){return l(e)}function t(t){l(function(e){return Object.assign(Object.assign({},e),{fansGroup:Object.assign(Object.assign({},e.fansGroup),t)})})}return de.h.on(de.g.UPDATE_ANCHOR_INFO,e),de.h.on(de.g.FANS_GROUP_INFO_UPDATED,t),function(){de.h.off(de.g.UPDATE_ANCHOR_INFO,e),de.h.off(de.g.FANS_GROUP_INFO_UPDATED,t)}},[]),{error:a,loading:t,anchorInfo:n,reload:i}}function jb(e){return e=e.error,$.a.createElement(Nb,null,$.a.createElement(le.a,{sidebar:!0}),$.a.createElement("div",{className:"container"},$.a.createElement(se.a,null),$.a.createElement("div",{className:"content"},$.a.createElement(Va.a,{errorMessage:e.message,retry:function(){return window.location.reload(!0)}}))))}function Ib(){var e=Object(Z.useState)(!1),t=ne()(e,2),n=t[0],a=t[1],i=Object(Z.useCallback)(function(){return a(!1)},[]),e=Object(Z.useState)(1),e=(t=ne()(e,2))[0],r=t[1];return Object(Z.useEffect)(function(){function e(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).defaultActiveTab;r(void 0===e?1:e),a(!0)}return de.h.on(de.g.OPEN_SUBSCRIPTION_DIALOG,e),function(){de.h.off(de.g.OPEN_SUBSCRIPTION_DIALOG,e)}},[]),{open:n,onClose:i,defaultActiveTab:e}}var Cb,Nb=Object(T.default)(Rn.a).withConfig({componentId:"k63nb7-0"})(["> .container{> .content{align-items:center;justify-content:center;}}"]),Tb=function(e,o,c,l){return new(c=c||Promise)(function(n,t){function a(e){try{r(l.next(e))}catch(e){t(e)}}function i(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(a,i)}r((l=l.apply(e,o||[])).next())})};(rn=Cb=Cb||{})[rn.LOWER_RRICE=3]="LOWER_RRICE",rn[rn.GIFT_SENDED_BUT_NO_HEADLINE=5]="GIFT_SENDED_BUT_NO_HEADLINE";function Sb(e){var u=e.roomId,f=e.anchorName,d=e.liveType,p=e.liveKey,m=e.headlineConfig,t=Object(Z.useState)(!1),t=(e=ne()(t,2))[0],n=e[1];Object(Un.d)({onEnableChange:n});var e=Object(Z.useState)(null),g=(e=ne()(e,2))[0],b=e[1],h=Object(Z.useCallback)(function(){return b(null)},[]),e=Object(Z.useState)(null),_=(e=ne()(e,2))[0],r=e[1],e=Object(Z.useCallback)(function(){return Tb(void 0,void 0,void 0,Ka.a.mark(function e(){var t,n,a,i,r,o,c,l,s;return Ka.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:if(a=V.a.getState(),t=a.user,n=a.userFinance,a=a.configure,t){e.next=5;break}return e.abrupt("return",V.a.dispatch(Object(Wt.c)(!0)));case 5:if(i=g.source,r=g.headlineConfig,o=g.headline,c=a.gift,l=c.giftIdMapDetail[r.giftId],s=Math.max(o?o.giftTotalPrice+1:r.minPrice,r.minPrice),c=Math.ceil(s/l.price),s=c*l.price,l=6,!(s>n.account)){e.next=17;break}l=4,qt.b.emit(qt.a.CMD_BANLANCE_NOT_ENOUGH,{popUp:!0}),e.next=29;break;case 17:return e.prev=17,e.next=20,Object(Ya.w)({roomId:u,userId:t.user_id,level:t.level,nickname:t.loginname,anchorName:f,giftId:r.giftId,count:c});case 20:l=0,V.a.dispatch(Object(ta.b)()),h(),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(17),K.a.error(e.t0,{description:"抢头条失败",report:!0}),e.t0.code===Cb.LOWER_RRICE?(I.d.error(Object(ue.f)("headline_change_and_rerush")),b({source:i,headline:_,headlineConfig:m}),l=3):e.t0.code===Cb.GIFT_SENDED_BUT_NO_HEADLINE?(I.d.error(Object(ue.f)("headline_gift_sended_but_no_headline")),l=5):I.d.error(e.t0.message);case 29:s={lt:"rec_stat",af:"live_room",bf:"grab_headline",cf:"detail_quick_grab",action:"click",headline_id:o?o.id:"",source:g.source,result:l,live_type:d},d===ie.d.GAME?s.game_key=p:s.category_key=p,ct.a.handleDataCount(s);case 32:case"end":return e.stop()}},e,null,[[17,25]])}))},[g,m,d,u,f,h,_,p]);return Object(Z.useEffect)(function(){function e(e){var t=e.headline,e=e.source;b({source:e,headlineConfig:m,headline:t})}return Ku.b.on(Ku.a.OPEN_DIALOG,e),function(){Ku.b.off(Ku.a.OPEN_DIALOG,e)}},[m]),Object(Z.useEffect)(function(){function e(e){r(e.headline),n(e.enable)}return Ku.b.on(Ku.a.RECEIVE_FROM_INITIAL_DATA,e),function(){Ku.b.off(Ku.a.RECEIVE_FROM_INITIAL_DATA,e)}},[]),Object(Z.useEffect)(function(){function e(e){var t=(i=e.data)._id,n=i.anchor,a=i.topLineGift,e=i.endTime,i=i.userId;n&&a&&e&&r({id:t,anchorId:n.hostId,anchorAvatar:n.avatar,anchorName:n.nickName,endTimestamp:e,giftId:a.giftId,giftPicture:a.icon,giftAmount:a.num,giftTotalPrice:a.totalPrice,sendUserId:i,replacement:!!_})}return oe.a.on(Je.g.UPDATE,e),function(){return oe.a.off(Je.g.UPDATE,e)}},[_]),Object(Z.useEffect)(function(){if(_){var e=Date.now();if(!(e>=_.endTimestamp)){var t=window.setTimeout(function(){return r(null)},_.endTimestamp-e);return function(){return window.clearTimeout(t)}}r(null)}},[_]),Object(Z.useEffect)(function(){if(g&&g.headline){var e=window.setTimeout(function(){return b(Object.assign(Object.assign({},g),{headline:null,headlineConfig:m}))},g.headline.endTimestamp-Date.now());return function(){return window.clearTimeout(e)}}},[g,m]),{enable:Boolean(t&&m),dialogData:g,closeDialog:h,currentHeadline:_,onRush:e}}function Ab(e){return de.h.emit(de.g.UPDATE_ANCHOR_INFO,e)}mn=JSON.parse(localStorage.getItem(Be.ub)||"{}"),rn=localStorage.getItem(We.g);!0!==mn.giftEffectDisplay&&rn&&"false"===rn&&(mn.giftEffectDisplay=!1,localStorage.setItem(Be.ub,JSON.stringify(mn)),localStorage.removeItem(We.g));var Lb=!1!==mn.giftEffectDisplay,Db=Object(i.b)(function(e){return{user:e.user,configure:e.configure}})(function(e){var t,n=e.user,a=e.configure,i=e.roomId,r=(V=i,Object(ee.h)().pathname.startsWith("/embed")?So.d.EMBED:ab.includes(V)?So.d.MATCH:So.d.NORMAL),o=Object(Z.useState)(ce.k.LIVE),c=ne()(o,2),l=c[0],s=c[1],u=Object(Z.useState)(!1),f=ne()(u,2),d=f[0],p=f[1],m=Object(Z.useState)(ce.h.NORMAL),g=ne()(m,2),b=g[0],h=g[1],_=Object(Z.useState)(!1),v=ne()(_,2),x=v[0],E=v[1],y=Object(Z.useState)(0),O=ne()(y,2),w=O[0],k=O[1],j=Object(Z.useState)(Lb),I=ne()(j,2),C=I[0],N=I[1],T=Object(Z.useState)(ce.g.LIVE),S=ne()(T,2),A=S[0],L=S[1],D=Object(Z.useState)({}),P=ne()(D,2),R=P[0],z=P[1],M=kb(i),G=M.error,F=M.loading,U=M.anchorInfo,H=M.reload;Object(Z.useEffect)(function(){return function(){window.location.pathname.split("playback")[1]||Object(Ye.c)("clickTime")}},[]),t=i,Object(Z.useEffect)(function(){return Object(ib.c)(t),function(){return Object(ib.d)()}},[t]),Object(Z.useEffect)(function(){return oe.a&&0<i&&oe.a.changeRoom(i,"mildom"),function(){Object(De.e)()&&oe.a.changeRoom(0,"mildom")}},[i]);var B=Object(Z.useMemo)(function(){return{roomId:i,disable:r===So.d.EMBED,anchorInfo:U}},[i,r,U]);Ue(B),Object(He.a)(i);var W=cp(i),q=Q(i),K=me(i,U.living),Y=Lp({roomId:i,followed:!!U.ifFollow});Object(Z.useEffect)(function(){function e(e){k(e)}function t(e){E(e)}function n(e){N(e)}function a(e){e===Pe.b.PLAYING&&p(!0),e===Pe.b.ERROR&&H(!0)}return localStorage.setItem(Be.T,Date.now().toString()),de.h.on(de.g.TOGGLE_LAYOUT,h),de.h.on(de.g.TOGGLE_PLAY_MODE,s),de.h.on(de.g.SET_ADMIN_STATUS,t),de.h.on(de.g.SET_ADMIN_TYPE,e),de.h.on(de.g.SET_GIFT_EFFECT_DISPLAY,n),de.h.on(de.g.TOOGLE_CHAT_PANEL_TYPE,L),de.h.on(de.g.PLAYER_STATUS_CHANGE,a),function(){de.h.off(de.g.TOGGLE_LAYOUT,h),de.h.off(de.g.TOGGLE_PLAY_MODE,s),de.h.off(de.g.SET_ADMIN_STATUS,t),de.h.off(de.g.SET_ADMIN_TYPE,e),de.h.off(de.g.SET_GIFT_EFFECT_DISPLAY,n),de.h.off(de.g.TOOGLE_CHAT_PANEL_TYPE,L),de.h.off(de.g.PLAYER_STATUS_CHANGE,a)}},[H]),Object(Z.useEffect)(function(){p(!1)},[i]),Object(Dg.a)(i),nb(U,i,null==a?void 0:a.sendGiftGuideWatchTime,null==a?void 0:a.sendGiftGuideInterval),Object(Le.a)({roomId:i,anchorInfo:U,updateAnchorInfo:Ab});var e=xm({roomId:i,living:U.living}),V=e.actConfig,o=e.setActConfig,u=(c=Object(Z.useState)(!1),{leadFollowShow:(c=ne()(c,2))[0],setLeadFollowShow:c[1]}),f=u.leadFollowShow,m=u.setLeadFollowShow,g=Jm({hostId:i,living:U.living,channelKey:U.channelKey,liveType:U.liveType,liveKey:U.liveType===ie.d.GAME?U.gameKey:U.categoryKey}),_=g.magicState,v=g.magicDispatch,y=Object(Zm.a)({roomId:i,channelKey:U.channelKey,liveType:U.liveType,liveKey:U.liveType===ie.d.GAME?U.gameKey:U.categoryKey}),O=y.luckyBoxInteractionData,j=y.happyBagInteractionData,I=y.fansGroupInteractionData,T=y.wishListInteractionData,S=Object(Ve.a)(i),D=S.happyBagMsgList,P=S.happyBagAcrossMsgList,M=S.happyBagRecycelList;Object(Z.useEffect)(function(){function e(e){var t=(e||{}).msg_data;t&&(t=(e=t||{}).trailer_title,i!==(e=e.host_id)&&de.h.emit(de.g.SHOW_LIVE_START_TOAST,{trailer_label:t,user_id:e}))}return Ke.a.on(qe.d,e),function(){Ke.a.off(qe.d,e)}},[i]);var X=xb({anchorInfo:U}).doSend;Object(Z.useEffect)(function(){function e(e){e&&Object.keys(e).length&&qt.b.emit(qt.a.CMD_BANLANCE_NOT_ENOUGH_DOT_PARAMS,{reqData:(null==e?void 0:e.rechargeParams)||{}}),X(e)}return de.h.on(de.g.COMMON_SEND_GIFT,e),de.h.on(de.g.SPECIAL_GIFT_SEND_GIFT,e),de.h.on(de.d.SEND_GIFT,e),de.h.on(de.g.PIRATE_SHIP_SEND_GIFT,e),function(){de.h.off(de.g.PIRATE_SHIP_SEND_GIFT,e),de.h.off(de.g.COMMON_SEND_GIFT,e),de.h.off(de.g.SPECIAL_GIFT_SEND_GIFT,e),de.h.off(de.d.SEND_GIFT,e)}},[X]);B=Ib(),e=B.open,c=B.onClose,u=B.defaultActiveTab,g=Sb({roomId:i,anchorName:U.name,liveType:U.liveType,liveKey:U.liveType===ie.d.GAME?U.gameKey:U.categoryKey,headlineConfig:a.headlineConfig}),y=g.enable,S=g.dialogData,B=g.closeDialog,a=g.currentHeadline,g=g.onRush;return G?$.a.createElement(jb,{error:G}):U.needSubscribe?$.a.createElement(ee.a,{to:te.h.SUBSCRIPTION_LIVE_LIMIT.replace(":room_id",i.toString())}):$.a.createElement(fe.a.Provider,{value:{roomType:r,user:n,roomId:i,layout:b,playMode:l,anchorInfo:U,updateAnchorInfo:Ab,isAdmin:x,adminType:w,giftEffectDisplay:C,vote:W,quiz:q,streamerTask:K,luckyDraw:Y,chatPanelType:A,loading:F,hasPlayed:d,leadFollowShow:f,setLeadFollowShow:m,activityConfig:V,setActConfig:o,magicState:_,magicDispatch:v,luckyBoxInteractionData:O,happyBagInteractionData:j,happyBagMsgList:D,happyBagRecycelList:M,happyBagAcrossMsgList:P,fansGroupInteractionData:I,wishListInteractionData:T,firstChargeGiftCash:R,headlineEnable:y,currentHeadline:a}},$.a.createElement(ae.a,null,$.a.createElement("title",null,U.name?Object(ue.f)("room_page_title").replace("{{user_name}}",U.name):Object(ue.f)("default_page_title"))),$.a.createElement(Rn.a,null,b===ce.h.NORMAL&&$.a.createElement(le.a,{sidebar:!0}),$.a.createElement("div",{className:"container"},b===ce.h.NORMAL&&$.a.createElement(se.a,null),$.a.createElement("div",{className:"content"},r===So.d.MATCH?$.a.createElement(Wd,null):$.a.createElement(lu,null)))),$.a.createElement(Re.a,null,$.a.createElement(J,null),$.a.createElement(Cp,null),$.a.createElement(_m,null),$.a.createElement(Kp,null),$.a.createElement(dg,{magicState:_,anchorInfo:U,magicDispatch:v}),$.a.createElement(Lg,{anchorInfo:U,magicDispatch:v}),$.a.createElement(Re.a,null,$.a.createElement(ge,{anchorId:U.anchorId,anchorImg:U.avatar})),$.a.createElement(qm,{data:I}),$.a.createElement(Ym,null),U.fansGroup&&e?$.a.createElement(wn.a,{roomId:U.anchorId,onClose:c,defaultActiveTab:u}):null,$.a.createElement(Re.a,null,$.a.createElement(rt.a,{updataCharGift:z})),$.a.createElement(Re.a,null,$.a.createElement(be,{roomId:i})),$.a.createElement(Re.a,null,$.a.createElement(ve,null)),$.a.createElement(Re.a,null,$.a.createElement(he,null)),$.a.createElement(Re.a,null,$.a.createElement(Cn.default,null)),$.a.createElement(Re.a,null,$.a.createElement(_e,null))),$.a.createElement(rb.a,null),y&&S?$.a.createElement(re.a,{anchorId:i,source:S.source,headlineConfig:S.headlineConfig,onClose:B,headline:S.headline,actionHidden:!1,visitVisible:Boolean(S&&S.headline&&i!==S.headline.anchorId),rushVisible:!n||n.user_id!==i,onRush:g,anchorName:U.name,liveType:U.liveType,liveKey:U.liveType===ie.d.GAME?U.gameKey:U.categoryKey}):null)}),Pb=n("SGiI");function Rb(n){var e=(t=n,(e=(null===(e=null===(e=window.history)||void 0===e?void 0:e.state)||void 0===e?void 0:e.state)||{})&&e.roomInfo?e.roomInfo.living||!1:!(!window.__INITIAL_STATE__||!window.__INITIAL_STATE__.room_info||window.__INITIAL_STATE__.room_info.user_id!==t)&&11===window.__INITIAL_STATE__.room_info.anchor_live),t=Object(Z.useState)(!e),e=ne()(t,2),t=e[0],a=e[1],i=Object(Z.useRef)(t);return Object(Z.useEffect)(function(){var e=(null===(e=null===(e=null===(e=null===(e=window.history)||void 0===e?void 0:e.state)||void 0===e?void 0:e.state)||void 0===e?void 0:e.roomInfo)||void 0===e?void 0:e.living)||!1;a(!e),i.current=!e},[n]),Object(Z.useEffect)(function(){var e=setTimeout(function(){a(!0),i.current=!0},3e3);return function(){clearTimeout(e)}},[]),Object(Z.useEffect)(function(){if(!i.current){var e=function(){a(!0),i.current=!0},t=La.a.getController();if(t&&t.playStatus!==Aa.VideoPlayer.PlayerController.PlayerStatus.PLAYING)return t.playStatus!==Aa.VideoPlayer.PlayerController.PlayerStatus.START&&(La.a.startPlay(n)||e()),t.registerEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.SUCCESS,e),t.registerEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.ERROR,e),function(){a(!1),i.current=!1,t.unregisterEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.SUCCESS,e),t.unregisterEvent(Aa.VideoPlayer.PlayerController.PlayerEvent.SUCCESS,e)};e()}},[n]),t}t.default=function(){var e=Object(ee.i)().room_id,e=Number(e);return!Rb(e)||null!==window&&void 0!==window&&window.__PRERENDER_INJECTED&&null!==window&&void 0!==window&&window.__PRERENDER_INJECTED.prerender?$.a.createElement(Pb.a,null):e?$.a.createElement(Db,{key:e,roomId:e}):$.a.createElement(ee.a,{to:te.h.NOT_FOUND})}},"9lNM":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o,a=n("i8i4"),c=n.n(a),l=n("q1tI"),s=n.n(l),i=n("vOnD"),a=n("Xamy"),n=n.p+"assets/file/d79f6cdb7c28e292b5f3f1738a8b595c.png",u={Container:i.default.div.withConfig({componentId:"rrozz8-0"})(["position:fixed;width:100%;height:100%;top:0;left:0;background-color:rgba(0,0,0,0.3);display:flex;align-items:center;justify-content:center;z-index:",";.center_modal_bar{position:absolute;left:0;top:0;width:100%;height:100%;}"],a.a.DIALOG),VoteStyleContent:i.default.div.withConfig({componentId:"rrozz8-1"})(["background-color:",";position:relative;border-radius:4px;overflow:hidden;.closeIcon{position:absolute;top:10px;right:10px;width:14px;height:14px;cursor:pointer;background:url(",") center center no-repeat;background-size:15px 15px;}"],function(e){return e.theme.darkTheme?"#2E3033":"white"},n)},f=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};(n=o=o||{}).voteStyle="voteStyle",n.none="none";t.b=function(e){var t=e.children,n=e.type,a=void 0===n?o.voteStyle:n,i=e.onClose,r=e.onBarClick,n=f(e,["children","type","onClose","onBarClick"]),e=Object(l.useCallback)(function(e){i&&i(e)},[i]);return c.a.createPortal(s.a.createElement(u.Container,n,s.a.createElement("div",{className:"center_modal_bar",onClick:function(){r&&r()}}),a===o.voteStyle?s.a.createElement(u.VoteStyleContent,null,s.a.createElement("div",{className:"closeIcon",onClick:e}),t):t),document.body)}},YIgd:function(e,t,n){"use strict";var c;n.d(t,"a",function(){return c}),n.d(t,"b",function(){return r}),(a=c=c||{}).TOP="top",a.BOTTOM="bottom";var t=n("pVnL"),l=n.n(t),a=n("lSNA"),t=n.n(a),a=n("q1tI"),s=n.n(a),i=n("vOnD"),u=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n},f=i.default.div.withConfig({componentId:"x2qqlv-0"})(["display:flex;> .body{box-shadow:0px 4px 16px rgba(0,0,0,0.16);border-radius:4px;}",""],function(e){var t=e.rootStyle,n=e.bodyStyle,e=e.theme.darkTheme;return Object(i.css)([""," > .body{"," background-color:",";}"],t,n,e?"#2E3033":"#fff")}),d=i.default.div.withConfig({componentId:"x2qqlv-1"})(["position:relative;height:","px;> .arrow{position:absolute;border-width:","px;border-style:solid;&::after{content:'';position:absolute;left:0;transform:translate(-50%,-50%);border-width:","px;border-style:solid;}}",""],8,10,10,function(e){return e.arrowStyle}),p=(n={},t()(n,c.BOTTOM,{rootStyle:Object(i.css)(["flex-direction:column;"]),bodyStyle:Object(i.css)(["border-top:","px solid var(--color-primary);"],2),arrowStyle:Object(i.css)(["> .arrow{bottom:0;border-color:transparent transparent var(--color-primary) transparent;&::after{top:","px;}}",""],3,function(e){e=e.theme.darkTheme;return Object(i.css)(["> .arrow{&::after{border-color:transparent transparent "," transparent;}}"],e?"#2E3033":"#fff")})}),t()(n,c.TOP,{rootStyle:Object(i.css)(["flex-direction:column-reverse;"]),bodyStyle:Object(i.css)(["border-bottom:","px solid var(--color-primary);"],2),arrowStyle:Object(i.css)(["> .arrow{top:0;border-color:var(--color-primary) transparent transparent transparent;&::after{top:-","px;}}",""],3,function(e){e=e.theme.darkTheme;return Object(i.css)(["> .arrow{&::after{border-color:"," transparent transparent transparent;}}"],e?"#2E3033":"#fff")})}),n),r=function(e){var t=e.placement,n=void 0===t?c.BOTTOM:t,a=e.arrowX,i=void 0===a?"50%":a,r=e.children,o=e.bodyProps,t=u(e,["placement","arrowX","children","bodyProps"]),a=p[n],e=a.rootStyle,n=a.bodyStyle,a=a.arrowStyle;return s.a.createElement(f,l()({},t,{rootStyle:e,bodyStyle:n}),s.a.createElement(d,{arrowStyle:a},s.a.createElement("div",{className:"arrow",style:{left:"calc(".concat(i," - ").concat(10,"px)")}})),s.a.createElement("div",l()({},o,{className:"".concat((null==o?void 0:o.className)||""," body")}),r))}},"y+UA":function(e,t,n){"use strict";var a=n("pVnL"),i=n.n(a),r=n("q1tI"),o=n.n(r),c=n("SUlE"),l=n("vOnD"),a=n.p+"assets/file/8a26cd1e68b656fe9ebc572655aea8fd.png",r=n.p+"assets/file/3cb2856f6c4dfe13296d1dae594d07e0.png",n=l.default.div.withConfig({componentId:"sc-13m7dt7-0"})(["width:48px;height:32px;display:inline-flex;align-items:center;justify-content:center;border-radius:16px;cursor:pointer;.mid-icon{background-image:url(",");background-position:center center;background-repeat:no-repeat;width:24px;height:24px;background-size:cover;margin:0 3px;flex-shrink:0;}&.normal{background:transparent;border:1px solid #20bef3;color:#20bef3;&:hover{background:rgba(32,190,243,0.1);}}&.has{color:#20bef3;background:",";.mid-icon{background-image:url(",");}}"],a,function(e){e.theme.darkTheme;return"rgba(32, 190, 243, 0.1)"},r),s={Container:l.default.div.withConfig({componentId:"sc-13m7dt7-1"})(["height:32px;display:inline-flex;align-items:center;border-radius:16px;padding-right:8px;font-size:14px;cursor:pointer;white-space:nowrap;span{font-family:'Yu Gothic UI',sans-serif;letter-spacing:-1px;flex:1;margin-right:10px;}.icon{background-image:url(",");background-position:center center;background-repeat:no-repeat;width:20px;height:20px;background-size:cover;margin:0 4px 0 12px;flex-shrink:0;}&.normal{background:transparent;border:1px solid #20bef3;color:#20bef3;&:hover{background:rgba(32,190,243,0.1);}}&.has{color:#20bef3;background:",";.icon{background-image:url(",");}}"],a,function(e){e.theme.darkTheme;return"rgba(32, 190, 243, 0.1)"},r),MiniContainer:l.default.div.withConfig({componentId:"sc-13m7dt7-2"})(["width:34px;height:34px;background-size:contain;background-repeat:no-repeat;background-position:center center;cursor:pointer;&.has{background-image:url(",");}&.no{background-image:url(",");background-position:center center;&:hover{opacity:0.8;}}"],r,a),MidContainer:n},u=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};t.a=function(e){var t=e.isSubscribing,n=e.isMini,a=void 0!==n&&n,n=e.isMid,n=void 0!==n&&n,e=u(e,["isSubscribing","isMini","isMid"]);return a?o.a.createElement(s.MiniContainer,i()({className:t?"has":"no"},e)):n?o.a.createElement(s.MidContainer,i()({className:t?"has":"normal"},e),o.a.createElement("div",{className:"mid-icon"})):o.a.createElement(s.Container,i()({className:t?"has":"normal"},e),o.a.createElement("div",{className:"icon"}),o.a.createElement("span",null,t?Object(c.f)("subscribe_button_has"):Object(c.f)("subscribe_button_no")))}},zYx1:function(e,t,n){"use strict";function l(){return+(localStorage.getItem(h)||"0")}function i(e){var a=e.anchorId,t=e.isMid,n=Object(s.useState)(!1),i=f()(n,2),e=i[0],r=i[1],n=Object(s.useState)(!1),n=(i=f()(n,2))[0],o=i[1],c=Object(s.useContext)(m.a).leadFollowShow;return Object(s.useEffect)(function(){var e,t,n;return c&&(n=l(),a&&n<3&&(r(!0),clearTimeout(e),clearTimeout(t),e=setTimeout(function(){o(!0),function(){var e=l();e+=1;try{localStorage.setItem(h,"".concat(e))}catch(e){}}(),t=setTimeout(function(){o(!1),r(!1),clearTimeout(e)},5e3)},1e3)),b.a.handleDataCount({lt:"pcclick",ct:"liveroom",dt:"follow",et:"top_guide",host_id:a})),function(){clearTimeout(e)}},[a,c]),e?u.a.createElement(_,{className:g()({_show:n,_isMini:t}),onClick:function(e){e.stopPropagation(),e.preventDefault()}},u.a.createElement("div",{className:"arrow-container"},u.a.createElement("div",{className:"arrow"})),u.a.createElement("div",{className:"lf__content"},u.a.createElement(d.b,{className:"lf__close",name:d.b.NAME.CLOSE,size:16,onClick:function(){r(!1)}}),u.a.createElement("div",{className:"lf__logo"}),u.a.createElement("div",{className:"text"},u.a.createElement("div",{className:"top"},Object(p.f)("kol_follow_lead_tip").slice(0,7)),u.a.createElement("div",{className:"bottom"},Object(p.f)("kol_follow_lead_tip").slice(9))))):null}var s=n("q1tI"),u=n.n(s),a=n("vOnD"),r=n("Hhm/"),o=n("J4zp"),f=n.n(o),d=n("NXoE"),p=n("SUlE"),c=n("Xamy"),m=n("5VyL"),o=n("TSYQ"),g=n.n(o),b=n("3IhF"),n=n.p+"assets/file/5ed02a10111b058989976915c09e80ac.png",h="LEAD_FOLLOW_WIN_SHOW_TIMES",_=a.default.div.withConfig({componentId:"sc-182cmkx-0"})(["position:absolute;width:306px;height:146px;top:86px;left:-108px;z-index:",";margin-left:-84px;transition-property:transform opacity;transition-duration:300ms;transition-timing-function:ease-out;opacity:0;transform:scale(0,0);> .arrow-container{position:absolute;top:-20px;right:42px;transform:scaleX(0.8);> .arrow{width:20px;height:26px;border-radius:4px;background-color:",";transform:rotate(45deg);}}&._isMini{margin-left:-122px;}&._show{opacity:1;transform:scale(1,1);}.lf__content{display:flex;align-items:center;background:",";margin-top:-11px;border-radius:8px;position:relative;padding:16px 8px 20px 22px;svg{color:#cccccc;}.lf__close{text-align:center;width:18px;height:18px;right:5px;color:#cccccc;top:5px;position:absolute;cursor:pointer;}}.lf__logo{background-image:url(",");background-repeat:no-repeat;background-size:100% 100%;background-position:center;width:58px;height:50px;margin-right:10px;}.text{flex:1;min-width:0;margin-top:8px;display:flex;flex-direction:column;color:",";line-height:19px;font-size:14px;}"],c.a.TOP_UP_BUTTON,function(e){return e.theme.darkTheme?"rgba(46, 48, 51, 1)":"white"},function(e){return e.theme.darkTheme?"rgba(46, 48, 51, 1)":"white"},n,function(e){return e.theme.darkTheme?"rgba(255, 255, 255, 0.7)":"#666666"}),v=a.default.div.withConfig({componentId:"sc-13p6fp4-0"})(["position:relative;"]);t.a=function(e){var t=e.isFollowing,n=e.isTheater,a=e.isMid,e=(e.anchorInfo||{}).anchorId,e=void 0===e?0:e;return u.a.createElement(v,null,u.a.createElement(r.a,{isFollowing:t,isMid:a,isMini:n}),t||n?null:u.a.createElement(i,{anchorId:e,isMid:a||!1}))}}}]);
//# sourceMappingURL=http://hw-source-map.mildom.jp/mildompc-web-server-sourcemap/static_sourcemap/page_room_8a9fe0a6f40176541e90.js.map