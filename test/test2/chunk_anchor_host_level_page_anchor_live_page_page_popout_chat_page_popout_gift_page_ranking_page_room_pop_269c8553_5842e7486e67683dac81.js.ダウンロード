(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"9jXq":function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"g",function(){return i}),n.d(e,"h",function(){return c}),n.d(e,"i",function(){return s}),n.d(e,"j",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"c",function(){return d}),n.d(e,"f",function(){return p});var a=n("jp0t"),r=function(){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/getNotifyStatus",params:{}})},o=function(t){var e=t.hostId,t=t.flag;return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/getProgress",params:{host_id:e,flag:t}})},u=function(){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/join",params:{}})},i=function(){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/getReward",params:{}})},c=function(){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/getRule",params:{}})},s=function(){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/getSRule",params:{}})},l=function(t){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/updateSStatus",params:{is_agree:t}})},f=function(){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/STag",params:{}})},d=function(){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/getAllRank",params:{}})},p=function(t){var e=t.rank,n=t.page,r=t.limit,t=t.hostId;return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/rankserv/hostRank/getRanking",params:{rank:e,page:n,limit:r,host_id:t}})}},dhml:function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return i}),n.d(e,"a",function(){return c});var e=n("lSNA"),a=n.n(e),e=n("RIqP"),S=n.n(e),e=n("o0o1"),T=n.n(e),e=n("J4zp"),R=n.n(e),_=n("q1tI"),x=n("4Qmz"),C=n("9jXq"),I=n("jxKE"),L=n("y90O"),A=n("pRhn"),N=n("i4P8"),D=function(t,u,i,c){return new(i=i||Promise)(function(n,e){function r(t){try{o(c.next(t))}catch(t){e(t)}}function a(t){try{o(c.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(r,a)}o((c=c.apply(t,u||[])).next())})},r=function(){var t=Object(_.useState)(),e=R()(t,2),n=e[0],r=e[1],a=Object(_.useState)(I.g.NOT_START),t=R()(a,2),e=t[0],o=t[1],a=Object(_.useState)([]),t=R()(a,2),a=t[0],u=t[1],i=Object(_.useCallback)(function(){return D(void 0,void 0,void 0,T.a.mark(function t(){var e;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o(I.g.LOADING),t.prev=1,t.next=4,Object(C.g)();case 4:e=t.sent,e=e.reward_list,(e=void 0===e?[]:e)&&0<e.length&&(e=e.map(function(t){return{rank:t.rank,reward:t.reward,liveTime:t.live_time,startTime:t.start_time,endTime:t.end_time,totalReward:t.total_reward}}),u(e)),o(I.g.SUCCESS),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(1),o(I.g.ERROR),r(t.t0),x.a.error(t.t0,{description:"获取主播报酬失败",report:!1});case 16:case"end":return t.stop()}},t,null,[[1,11]])}))},[]);return Object(_.useEffect)(function(){i()},[i]),{state:e,error:n,hostRewardList:a,getHostReward:i}},o=function(){var t=Object(_.useState)(null),e=R()(t,2),n=e[0],d=e[1],r=Object(_.useState)(0),a=R()(r,2),o=a[0],p=a[1],u=Object(_.useState)(0),i=R()(u,2),c=i[0],v=i[1],s=Object(_.useState)(0),l=R()(s,2),t=l[0],h=l[1],e=Object(_.useState)(""),r=R()(e,2),a=r[0],b=r[1],u=Object(_.useState)(""),i=R()(u,2),s=i[0],g=i[1],l=Object(_.useState)([]),e=R()(l,2),r=e[0],O=e[1],u=Object(_.useState)(null),i=R()(u,2),l=i[0],m=i[1],e=Object(_.useState)(),u=R()(e,2),i=u[0],k=u[1],e=Object(_.useState)(I.g.NOT_START),u=R()(e,2),e=u[0],y=u[1],f=Object(_.useCallback)(function(f){return D(void 0,void 0,void 0,T.a.mark(function t(){var e,n,r,a,o,u,i,c,s,l;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(y(I.g.LOADING),t.prev=1,c=L.a.getState(),e=c.user){t.next=5;break}return t.abrupt("return",L.a.dispatch(Object(N.showLoginDialog)(!0)));case 5:return t.next=7,Object(C.f)({rank:f||"",hostId:e.user_id});case 7:l=t.sent,n=l.status,r=l.upgrade_point,a=l.upgrade_index,o=l.absolute_standard,u=l.rank_icon,i=l.rank,c=l.ranking,l=l.host_info,d(n||null),p(r),v(a),h(o),b(u),g(i),c&&c.length?(s=c.map(function(t){return{point:t.point,avatar:t.avatar,level:t.level,anchorLive:t.anchor_live,userId:t.user_id,index:t.index,loginName:t.login_name}}),O(S()(s))):O([]),l&&Object.keys(l).length?(a=l.point,o=l.avatar,u=l.level,i=l.anchor_live,c=l.user_id,s=l.index,l=l.login_name,m({point:a,avatar:o,level:u,anchorLive:i,userId:c,index:s,loginName:l})):m(null),y(I.g.SUCCESS),t.next=32;break;case 27:t.prev=27,t.t0=t.catch(1),y(I.g.ERROR),k(t.t0),x.a.error(t.t0,{description:"获取排行榜信息失败",report:!1});case 32:case"end":return t.stop()}},t,null,[[1,27]])}))},[]);return Object(_.useEffect)(function(){f()},[]),{state:e,error:i,rankStatus:n,upgradePoint:o,upgradeIndex:c,absoluteStandard:t,rankIcon:a,currentRank:s,rankList:r,hostInfo:l,setCurrentRank:g,getRankList:f}},u=function(){var t=Object(_.useState)(A.d.Apply),e=R()(t,2),n=e[0],k=e[1],r=Object(_.useState)(I.g.NOT_START),a=R()(r,2),o=a[0],y=a[1],u=Object(_.useState)(null),i=R()(u,2),c=i[0],S=i[1],t=Object(_.useState)(null),e=R()(t,2),r=e[0],j=e[1],a=Object(_.useState)(),u=R()(a,2),i=u[0],E=u[1],t=Object(_.useState)(),e=R()(t,2),a=e[0],s=e[1],u=Object(_.useState)(!1),t=R()(u,2),e=t[0],l=t[1],u=Object(_.useState)(null),t=R()(u,2),u=t[0],w=t[1],f=Object(_.useCallback)(function(){return D(void 0,void 0,void 0,T.a.mark(function t(){var e,n,r,a,o,u,i,c,s,l,f,d,p,v,h,b,g,O,m;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(y(I.g.LOADING),t.prev=1,u=L.a.getState(),e=u.user){t.next=5;break}return t.abrupt("return",L.a.dispatch(Object(N.showLoginDialog)(!0)));case 5:return t.next=7,Object(C.d)({hostId:e.user_id});case 7:i=t.sent,n=i.flag,c=i.special_status,v=i.rank_info,s=i.apply_join,c&&c===A.j.Punish&&w(c),n&&(n===A.d.Apply&&s&&0<Object.keys(s).length?(l=s.live_time,f=s.live_days,d=s.view_time,p=s.status,S({liveTime:l,liveDays:f,viewTime:d,status:p})):n===A.d.Level&&v&&0<Object.keys(v).length&&(r=v.rank,a=v.rank_icon,o=v.rank_status,u=v.point,i=v.start_time,c=v.end_time,s=v.upgrade_point,l=v.degrade_point,f=v.absolute_standard,d=v.current_rank_status,p=v.status,v=v.rank_before,j({rank:r,rankIcon:a,rankStatus:o,point:u,startTime:i,endTime:c,upgradePoint:s,degradePoint:l,absoluteStandard:f,currentRankStatus:d,status:p}),v&&0<Object.keys(v).length&&(h=v.rank,b=v.rank_icon,g=v.point,O=v.start_time,m=v.end_time,j(function(t){return Object.assign(t,{rankBefore:{beforeRank:h,beforeRankIcon:b,beforePoint:g,beforeStartTime:O,beforeEndTime:m}})}))),k(n)),y(I.g.SUCCESS),t.next=22;break;case 17:t.prev=17,t.t0=t.catch(1),E(t.t0),y(I.g.ERROR),x.a.error(t.t0,{description:"获取主播等级接口信息失败",report:!1});case 22:case"end":return t.stop()}},t,null,[[1,17]])}))},[]),t=Object(_.useCallback)(function(){return D(void 0,void 0,void 0,T.a.mark(function t(){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.b)();case 3:return l(!1),t.next=6,f();case 6:return t.abrupt("return",!1);case 9:return t.prev=9,t.t0=t.catch(0),7e4===t.t0.code?s(t.t0.message.replace("(#70000)","")):s(t.t0.message),l(!0),t.abrupt("return",!1);case 14:case"end":return t.stop()}},t,null,[[0,9]])}))},[f]);return Object(_.useEffect)(function(){f()},[f]),{type:n,state:o,punishStatus:u,applyData:c,rankData:r,error:i,popoverMsg:a,openError:e,applyJoinActive:t,setPopoverMsg:s,setOpenError:l,hostProgress:f}},i=function(){var t=Object(_.useState)(!1),e=R()(t,2),n=e[0],r=e[1],t=Object(_.useState)(!1),e=R()(t,2),t=e[0],a=e[1],o=Object(_.useCallback)(function(){return D(void 0,void 0,void 0,T.a.mark(function t(){var e,n;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.a)();case 3:n=t.sent,e=n.is_show,n=n.status,r(e),a(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),x.a.error(t.t0,{description:"获取S级等级tab失败",report:!1});case 13:case"end":return t.stop()}},t,null,[[0,10]])}))},[]);return Object(_.useEffect)(function(){o()},[o]),{isShow:n,status:t,setStatus:a}},c=function(){var t=Object(_.useState)(null),e=R()(t,2),t=e[0],r=e[1],n=Object(_.useCallback)(function(){return D(void 0,void 0,void 0,T.a.mark(function t(){var e;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.c)();case 3:e=t.sent,(e=e.result)&&e.length&&e.forEach(function(t){var e=t.rank_icon,n=t.rank;r(function(t){return Object.assign(Object.assign({},t),a()({},n,e))})}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),x.a.error(t.t0,{description:"获取所有等级列表失败",report:!1});case 11:case"end":return t.stop()}},t,null,[[0,8]])}))},[]);return Object(_.useEffect)(function(){n()},[n]),{allRankList:t}}},gGZ8:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var e=n("pVnL"),r=n.n(e),e=n("lwsE"),o=n.n(e),e=n("W8MJ"),a=n.n(e),e=n("PJYZ"),u=n.n(e),e=n("7W2i"),i=n.n(e),e=n("a1gu"),c=n.n(e),e=n("Nsbk"),s=n.n(e),e=n("q1tI"),l=n.n(e);function f(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){u=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=s()(n);return e=r?(t=s()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),c()(this,e)}}var v=function(t,e){var n={};for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n},h=function(t){i()(n,t);var e=p(n);function n(t){var a;return o()(this,n),(a=e.call(this,t)).isTouch=!1,a.shouldExclude=function(t){var e=a.props.exclude;if(!e)return!1;var n,r=f("string"==typeof e?Array.from(document.querySelectorAll(e)):e instanceof Array?e:[e]);try{for(r.s();!(n=r.n()).done;)if(n.value.contains(t))return!0}catch(t){r.e(t)}finally{r.f()}return!1},a.handle=function(t){var e,n;"touchend"===t.type&&(a.isTouch=!0),"click"===t.type&&a.isTouch||(e=a.props.onClickOutside,!(n=a.container)||n.contains(t.target)||a.shouldExclude(t.target)||e(t))},a.getContainer=a.getContainer.bind(u()(a)),a}return a()(n,[{key:"componentDidMount",value:function(){var t=this.props.useCapture;document.addEventListener("touchend",this.handle,t),document.addEventListener("click",this.handle,t)}},{key:"componentWillUnmount",value:function(){var t=this.props.useCapture;document.removeEventListener("touchend",this.handle,t),document.removeEventListener("click",this.handle,t)}},{key:"getContainer",value:function(t){this.container=t}},{key:"render",value:function(){var t=this.props,e=t.children,t=(t.onClickOutside,t.exclude,t.useCapture,v(t,["children","onClickOutside","exclude","useCapture"]));return l.a.createElement("div",r()({},t,{ref:this.getContainer}),e)}}]),n}(e.Component)},i4P8:function(t,e,n){"use strict";n.r(e),n.d(e,"showLoginDialog",function(){return a}),n.d(e,"setLoginMessage",function(){return o}),n.d(e,"setLoginBoxTab",function(){return u});var r=n("t1H/"),a=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return{type:r.hc,ifShow:t}},o=function(t){return{type:r.ac,data:t}},u=function(t){return{type:r.Zb,data:t}}},o0UX:function(t,e,n){"use strict";var r=n("q1tI"),o=n.n(r),r=n("vOnD"),u=n("Gt/x"),i=n("9Smi"),c=function(t,e){var n={};for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n},s=r.default.div.withConfig({componentId:"ldiqw5-0"})(["position:relative;display:inline-block;line-height:0;> .living{position:absolute;bottom:0;right:0;background:#ff5000;border-radius:50%;display:flex;align-items:center;justify-content:center;}"]);e.a=function(t){var e=t.src,n=t.size,r=void 0===n?36:n,a=t.shape,n=void 0===a?u.a.CIRCLE:a,a=t.living,a=void 0!==a&&a,t=c(t,["src","size","shape","living"]);return o.a.createElement(s,t,o.a.createElement(u.b,{src:e,size:r,shape:n}),a?o.a.createElement("div",{className:"living",style:{width:r/3,height:r/3}},o.a.createElement(i.b,{className:"living",size:r/6,color:i.a.WHITE})):null)}},pRhn:function(t,e,n){"use strict";n.d(e,"f",function(){return d}),n.d(e,"a",function(){return r}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return o}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return i}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return s}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return f});var r,a,o,u,i,c,s,l,f,d=50;(e=r=r||{})[e.ONLINE=11]="ONLINE",e[e.OFFLINE=13]="OFFLINE",(e=a=a||{})[e.STATISTICS=1]="STATISTICS",e[e.TOPLEVEL=2]="TOPLEVEL",(e=o=o||{}).RankStatus="rank",e.TimeAward="award",e.AnchorSlevel="s_level",e.RankList="rank_list",(e=u=u||{})[e.Apply=1]="Apply",e[e.Level=2]="Level",e[e.Nothing=3]="Nothing",(e=i=i||{})[e.Down=1]="Down",e[e.Keep=2]="Keep",e[e.Up=3]="Up",(e=c=c||{})[e.NoAuth=0]="NoAuth",e[e.AuthNoJoin=1]="AuthNoJoin",e[e.JoinNoStart=2]="JoinNoStart",e[e.Full=3]="Full",e[e.Punishing=4]="Punishing",(e=s=s||{})[e.Down=1]="Down",e[e.Keep=2]="Keep",e[e.Up=3]="Up",(e=l=l||{})[e.NoCount=0]="NoCount",e[e.Counting=1]="Counting",(e=f=f||{})[e.Punish=1]="Punish"}}]);
//# sourceMappingURL=http://hw-source-map.mildom.jp/mildompc-web-server-sourcemap/static_sourcemap/anchor_host_level_page~anchor_live_page~page_popout_chat~page_popout_gift~page_ranking~page_room~pop~269c8553_b1fead39cc845376ba16.js.map