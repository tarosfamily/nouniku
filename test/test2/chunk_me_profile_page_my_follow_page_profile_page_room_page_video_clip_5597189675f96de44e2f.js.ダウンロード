(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{LfAP:function(e,t,n){"use strict";var r=n("J4zp"),m=n.n(r),f=n("q1tI"),b=n.n(f),a=n("vOnD"),h=n("SUlE"),v=n("6fgh"),g=n("zoQI"),r=n("Fob7"),x=n.n(r),y=n("iE/9"),_=a.default.div.withConfig({componentId:"ztbatc-0"})(["max-width:550px;font-size:12px;.text-wrapper{position:relative;margin-bottom:10px;padding:10px 20px;"," .hide-text{visibility:hidden;position:absolute;z-index:-10;width:100%;padding:0px 20px;word-wrap:break-word;white-space:pre-wrap;line-height:18px;}> .post-message{background:transparent;overflow:hidden;padding:0;border:none;resize:none;outline:none;width:100%;line-height:18px;&::placeholder{","}}}> .btn-wrapper{display:flex;justify-content:flex-end;align-items:center;> button{margin-left:10px;}.btn-cancel{border:'none';margin-left:10px;cursor:pointer;}}"],function(e){var t=e.theme.darkTheme,e=e.isFocus;return Object(a.css)(["background:",";color:",";border:",";border-radius:5px;> textarea{color:",";}"],e?"transparent":t?"rgba(65,68,72,1)":"rgba(245,245,245,1)",t?"rgba(255, 255, 255, 0.9)":"#333333",e?"1px solid #20bef3":"none",t?"rgba(255, 255, 255, 0.9)":"#333333")},function(e){e=e.theme.darkTheme;return Object(a.css)(["color:",";"],e?"rgba(255,255,255,03)":"#333333")});t.a=function(e){var t=e.placeholder,n=e.submitComment,r=Object(f.useState)(!1),a=m()(r,2),o=a[0],i=a[1],e=Object(f.useState)(18),r=m()(e,2),a=r[0],c=r[1],e=Object(f.useState)(!1),r=m()(e,2),e=r[0],l=r[1],r=Object(f.useState)(""),r=m()(r,2),s=r[0],u=r[1],r=Object(y.a)().darkTheme,p=Object(f.useRef)(null),d=Object(f.useCallback)(function(){return!!s&&(u(""),i(!1),void c(18))},[s]);return b.a.createElement(_,{isFocus:e},b.a.createElement("div",{className:"text-wrapper"},b.a.createElement("div",{className:"hide-text",ref:p},s.replace(/\n/g,"\n h")),b.a.createElement("textarea",{style:{height:"".concat(a,"px")},className:"post-message",maxLength:200,value:s,placeholder:t||Object(h.f)("post_input_placeholder"),onChange:function(e){e=(e=e).target.value||"",e=Object(v.a)(e),e=x()(e),u(e),setTimeout(function(){var e=(null===(e=null==p?void 0:p.current)||void 0===e?void 0:e.offsetHeight)||0;0!==e&&c(e)},0),e&&0<e.length?i(!0):i(!1)},onFocus:function(){l(!0)},onBlur:function(){l(!1)}})),b.a.createElement("div",{className:"btn-wrapper"},b.a.createElement("div",{className:"btn-cancel",style:{color:o?"#20bef3":r?"rgba(255, 255, 255, 0.5)":"#999999"},onClick:function(){d()}},Object(h.f)("cmm_cancel")),b.a.createElement(g.d,{size:g.b.SMALL,type:o?g.c.PRIMARY:g.c.MOCK_DISABLED,style:{border:"none",borderRadius:"6px"},onClick:function(){!void(s&&(n(s),u(""),i(!1),c(18)))}},Object(h.f)("send_message"))))}},T1Jv:function(e,t,n){"use strict";n.d(t,"l",function(){return o}),n.d(t,"h",function(){return i}),n.d(t,"f",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"k",function(){return u}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"i",function(){return b});var r,a=n("jp0t"),o=function(e){return a.a.request({method:a.a.METHOD.POST,path:"/nonolive/videocontent/clip/updateSwitchStatus",data:{switch_status:e}})},i=function(e){return a.a.request({method:a.a.METHOD.POST,path:"/nonolive/videocontent/clip/preview",data:e})},c=function(e){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/videocontent/clip/delete",params:{clip_id:e}})},l=function(e){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/videocontent/clip/detail",params:{clip_id:e}})},s=function(e){var t=e.video_id,n=e.page,e=e.size;return a.a.request({method:a.a.METHOD.POST,path:"/nonolive/videocontent/clip/comment/list",data:{video_id:t,page:n,size:e}})},u=function(e){var t=e.video_id,n=e.comment_id,r=e.content,e=e.replyed_user_id;return a.a.request({method:a.a.METHOD.POST,path:"/nonolive/videocontent/clip/comment/create",data:{video_id:t,comment_id:n,content:r,replyed_user_id:e}})};(n=r=r||{}).first="first",n.second="second";var p=function(e){var t=e.video_id,n=e.comment_id,r=e.like,e=e.type;return a.a.request({method:a.a.METHOD.POST,path:"/nonolive/videocontent/clip/comment/like",data:{video_id:t,comment_id:n,like:r,type:e}})},d=function(e){var t=e.video_id,e=e.comment_id;return a.a.request({method:a.a.METHOD.POST,path:"/nonolive/videocontent/clip/comment/report",data:{video_id:t,comment_id:e}})},m=function(e){var t=e.video_id,e=e.comment_id;return a.a.request({method:a.a.METHOD.POST,path:"/nonolive/videocontent/clip/comment/remove",data:{video_id:t,comment_id:e}})},f=function(e){var t=e.video_id,n=e.comment_id,r=e.page,e=e.size;return a.a.request({method:a.a.METHOD.POST,path:"/nonolive/videocontent/clip/comment/listReply",data:{video_id:t,comment_id:n,page:r,size:e}})},b=function(){return a.a.request({method:a.a.METHOD.GET,path:"/nonolive/videocontent/clip/getConfig"})}},XUYL:function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),(t=r=r||{}).normal="normal",t.clip="clip"},ZD8P:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o});var t=n("uhBA"),r="comment",a="good",o=new(n.n(t).a)},cynR:function(e,t,n){"use strict";var r=n("lSNA"),i=n.n(r),r=n("J4zp"),c=n.n(r),l=n("q1tI"),s=n.n(l),a=n("vOnD"),u=n("SUlE"),p=a.default.div.withConfig({componentId:"sc-32xz23-0"})(["margin:20px 0px;display:flex;align-items:center;font-size:12px;> .text{margin-right:20px;","}> .risky-btn{cursor:pointer;color:#20bef3;}"],function(e){e=e.theme.darkTheme;return Object(a.css)(["color:",";"],e?"rgba(255,255,255,0.5)":"#999999")});t.a=function(e){var t=e.id,n=e.showPost,r=Object(l.useState)({}),e=c()(r,2),r=e[0],a=e[1],o=Object(l.useCallback)(function(){a(i()({},t,!0))},[t]);return s.a.createElement(s.a.Fragment,null,r[t]?null:s.a.createElement(p,null,s.a.createElement("span",{className:"text"},Object(u.f)("social_post_be_report")),s.a.createElement("span",{className:"risky-btn",onClick:function(){o(),n()}},Object(u.f)("cmm_show"))))}},ogXt:function(e,t,n){"use strict";var r=n("J4zp"),u=n.n(r),p=n("q1tI"),d=n.n(p),a=n("vOnD"),m=n("NXoE"),f=n("gGZ8"),b=n("SUlE"),h=n("XUYL"),v=a.default.div.withConfig({componentId:"sc-16pgias-0"})(["position:relative;> .icon{width:24px;height:24px;cursor:pointer;color:#cccccc;}> .opt-panel{position:absolute;width:194px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;bottom:0px;left:25px;font-size:13px;border-radius:4px;"," box-shadow:0px 3px 6px rgba(0,0,0,0.16);z-index:1;> .opt-panel-item{height:50px;line-height:50px;padding-left:20px;border-radius:4px;cursor:pointer;&:hover{"," color:#20bef3;}}}"],function(e){e=e.theme.darkTheme;return Object(a.css)(["background-color:",";color:",";"],e?"#202526":"#fcfcfc",e?"#acacac":"#61605D")},function(e){e=e.theme.darkTheme;return Object(a.css)(["background-color:",";"],e?"#2e4648":"transparent")});t.a=function(e){var t=e.loginId,n=e.roomId,r=e.userId,a=e.onDetele,o=e.onReport,i=e.isReply,c=void 0!==i&&i,l=e.type,i=Object(p.useState)(!1),e=u()(i,2),i=e[0],s=e[1],e=Object(p.useCallback)(function(){s(!1)},[]),l=!c&&t!==r&&l!==h.a.clip,r=n===t||t===r;return l||r?d.a.createElement(f.a,{onClickOutside:e},d.a.createElement(v,null,d.a.createElement(m.b,{className:"icon",size:24,name:m.b.NAME.MORE,onClick:function(){s(!0)}}),i&&d.a.createElement("div",{className:"opt-panel"},l&&d.a.createElement("div",{className:"opt-panel-item",onClick:function(){s(!1),o()}},Object(b.f)("report_post")),r&&d.a.createElement("div",{className:"opt-panel-item",onClick:function(){s(!1),a()}},Object(b.f)("delete_post"))))):null}},tpxW:function(e,t,n){"use strict";function I(e){var n=e.replyTo,t=e.replyCount,r=e.isShow,a=e.replyList,o=e.count,i=e.toggleShow,c=e.delReply,l=e.submitCommentReply,s=e.showPost,u=e.type,p=e.isFull,d=e.loadMore,e=Object(z.useState)({}),m=(e=M()(e,2))[0],f=e[1],b=Object(z.useCallback)(function(t,n,r){return y(void 0,void 0,void 0,R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l(t,n,r);case 1:case"end":return e.stop()}},e)}))},[l]),h=Object(z.useCallback)(function(e){var t=8<(t=X.a.getState().user.loginname||"").length?"".concat(t.substr(0,8),"..."):t,e=8<(e=e||"").length?"".concat(e.substr(0,8),"..."):e;return Object(A.f)("a_reply_b").replace("{{B}}",e).replace("{{A}}",t)},[]),v=Object(z.useCallback)(function(e,t){if(!X.a.getState().user)return X.a.dispatch(Object(x.showLoginDialog)(!0));t=Object.assign(m,g()({},e,m[e]?null:t));f(JSON.parse(JSON.stringify(t)))},[m]);return T.a.createElement(w,null,0<o&&0<t?T.a.createElement(k,{onClick:function(){i()}},r?Object(A.f)("hide_reply"):Object(A.f)("see_reply").replace("{{count}}",t.toString()),T.a.createElement(H.b,{name:r?H.b.NAME.ARROW_UP:H.b.NAME.ARROW_DOWN,size:14})):null,r&&0<a.length?T.a.createElement("div",{className:"reply-container"},a.map(function(t,e){return T.a.createElement(O,{key:e},T.a.createElement(E,null,T.a.createElement(j,{to:"/profile/".concat(t.user_id),target:"_blank"},T.a.createElement(q.b,{className:"reply-avatar",src:Object(P.a)({url:t.user_avatar_url,styleQuery:{size:P.b.mini}}),size:34})),T.a.createElement("div",{className:"reply-content"},T.a.createElement("div",{className:"reply-info"},T.a.createElement(F.a,{className:"reply-level",level:t.user_grade}),T.a.createElement("div",{className:"reply-author-name"},t.user_nickname&&15<t.user_nickname.length?"".concat(t.user_nickname.substr(0,15),"..."):t.user_nickname)),T.a.createElement("div",{className:"reply-comment-time"},t.create_time||t.create_time_str||Object(J.a)(t.create_time_mills)),"risky"===t.show_status?T.a.createElement(V.a,{id:t.id,showPost:function(){s(t)}}):T.a.createElement(T.a.Fragment,null,T.a.createElement("div",{className:"reply-comment-detail"},(t.replyed_user_id?"".concat(Object(A.f)("reply")," ").concat(t.replyed_user_nickname&&15<t.replyed_user_nickname.length?"".concat(t.replyed_user_nickname.substr(0,15),"..."):t.replyed_user_nickname,": "):"".concat(Object(A.f)("reply")," ").concat(n&&15<n.length?"".concat(n.substr(0,15),"..."):n,": ")).concat(t.content)),T.a.createElement("div",{className:"reply-comment-other"},T.a.createElement("div",{className:"reply-comment-time"},Object(J.a)(t.create_time_mills)),T.a.createElement("div",{className:"reply-btn",onClick:function(){v(t.id,t.user_nickname)}},T.a.createElement(_,{className:"reply-btn-icon",name:H.b.NAME.MESSAGE,size:18}),T.a.createElement("span",{style:{marginLeft:"4px"}},Object(A.f)("reply"))),T.a.createElement(Z.a,{loginId:(e=X.a.getState().user)?e.user_id:0,roomId:t.user_id,userId:t.user_id,onDetele:function(){c(t.id)},onReport:function(){},type:u,isReply:!0})),m[t.id]&&null!==m[t.id]&&T.a.createElement(K.a,{placeholder:h(t.user_nickname),submitComment:function(e){b(e,t.user_id,t.user_nickname)}})))))}),!p&&a.length<t?T.a.createElement("div",{className:"replyMore",onClick:function(){d()}},Object(A.f)("comment_reply_load_more"),T.a.createElement(H.b,{name:H.b.NAME.ARROW_DOWN,size:14})):null):null)}function u(e){var t=e.roomId,o=e.commentData,n=e.onDelete,c=void 0===(C=e.type)?D.a.normal:C,l=void 0===(v=e.clipId)?"":v,r=Object(z.useState)(!1),a=(g=M()(r,2))[0],i=g[1],s=Object(z.useState)(o.like_count),u=(O=M()(s,2))[0],p=O[1],d=Object(z.useState)(o.is_like||!1),m=(E=M()(d,2))[0],f=E[1],b=(C=$({clipId:l,type:c,commentId:o.id,initReplyCount:o.reply_count})).replyCount,h=C.replyList,e=C.isShowReplyList,v=C.toggleShowReplyList,r=C.delReply,g=C.submitCommentReply,x=C.setShowReply,y=C.setReplyList,_=C.setReplyCount,s=C.isReplyListFull,k=C.renderReplyData,w=C.showReplyList,O=Object(z.useState)(o.show_status||"displayed"),E=(d=M()(O,2))[0],j=d[1],C=Object(z.useCallback)(function(a){return ee(void 0,void 0,void 0,R.a.mark(function e(){var t,n,r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=X.a.getState(),t=r.user,e.prev=1,c===D.a.clip)return e.next=5,Object(Q.k)({content:a,comment_id:o.id,video_id:l});e.next=8;break;case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,Object(U.a)({content:a,id:o.id,type:"comment"});case 10:n=e.sent;case 11:n&&0<Object.keys(n).length&&(r={id:n.new_comment_id,content:n.show_content,create_time:n.create_time_str||Object(J.a)(n.create_time_mills),user_id:t.user_id,user_grade:t.level,user_avatar_url:t.avatar,user_nickname:t.loginname},r=Array.of(r),y([].concat(L()(h),L()(r))),_(b+1),w(!0)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),W.a.error(e.t0,{description:"评论回复失败",report:!0}),G.d.error(e.t0.message);case 18:case"end":return e.stop()}},e,null,[[1,14]])}))},[o,b,h,l,c,_,y,w]),S=Object(z.useCallback)(function(o,i){return ee(void 0,void 0,void 0,R.a.mark(function e(){var t,n,r,a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Y.c.emit(Y.b),t=X.a.getState(),t.user){e.next=4;break}return e.abrupt("return",X.a.dispatch(Object(B.c)(!0)));case 4:if(e.prev=4,n=i?0:1,c===D.a.clip)return e.next=9,Object(Q.c)({video_id:l,comment_id:o,like:n,type:Q.a.first});e.next=16;break;case 9:r=e.sent,a=r.like_count,r=r.is_like,p(a),f(r),e.next=23;break;case 16:return e.next=18,Object(U.o)({id:o,type:"comment",isLike:n});case 18:a=e.sent,r=a.like_count,a=a.is_like,p(r),f(a);case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(4),W.a.error(e.t0,{description:"点赞失败",report:!0}),G.d.error(e.t0.message);case 29:case"end":return e.stop()}},e,null,[[4,25]])}))},[l,c]),O=Object(z.useCallback)(function(){return ee(void 0,void 0,void 0,R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=X.a.getState(),t.user){e.next=3;break}return e.abrupt("return",X.a.dispatch(Object(B.c)(!0)));case 3:if(e.prev=3,!o.id){e.next=14;break}if(c===D.a.clip)return e.next=8,Object(Q.b)({video_id:l,comment_id:o.id});e.next=10;break;case 8:e.next=12;break;case 10:return e.next=12,Object(U.b)(o.id);case 12:n(o.id),i(!1);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),W.a.error(e.t0,{description:"删除评论失败",report:!0}),G.d.error(e.t0.message);case 20:case"end":return e.stop()}},e,null,[[3,16]])}))},[o.id,n,c,l]),d=Object(z.useCallback)(function(){return ee(void 0,void 0,void 0,R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=X.a.getState(),t.user){e.next=3;break}return e.abrupt("return",X.a.dispatch(Object(B.c)(!0)));case 3:if(e.prev=3,c===D.a.clip)return e.next=7,Object(Q.d)({video_id:l,comment_id:o.id});e.next=9;break;case 7:e.next=11;break;case 9:return e.next=11,Object(U.m)({id:o.id});case 11:G.d.success(Object(A.f)("report_success")),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),W.a.error(e.t0,{description:"举报评论失败",report:!0}),G.d.error(e.t0.message);case 18:case"end":return e.stop()}},e,null,[[3,14]])}))},[o.id,l,c]),N=Object(z.useCallback)(function(){return Y.c.emit(Y.a),X.a.getState().user?void i(!a):X.a.dispatch(Object(B.c)(!0))},[a]);return T.a.createElement(ne,null,T.a.createElement(re,{to:"/profile/".concat(o.user_id,"?from=7"),target:"_blank"},T.a.createElement(q.b,{src:Object(P.a)({url:o.user_avatar_url,styleQuery:{size:P.b.mini}}),size:40})),T.a.createElement(ae,null,T.a.createElement(oe,null,T.a.createElement("div",{className:"comment-info"},T.a.createElement(F.a,{level:o.user_grade,className:"userLevel"}),T.a.createElement("div",{className:"comment-author-name"},o.user_nickname))),T.a.createElement("div",{className:"comment-time"},Object(J.a)(o.create_time_mills)),"risky"===E?T.a.createElement(V.a,{showPost:function(){j("displayed")},id:o.id}):T.a.createElement(T.a.Fragment,null,T.a.createElement(ie,null,o.content),T.a.createElement(ce,{active:m},T.a.createElement("div",{className:"comment-good",onClick:function(){S(o.id,m)}},T.a.createElement(H.b,{className:"like-icon",size:16,style:{color:m?"#20bef3":"#ACACAC"},name:H.b.NAME.LIKE}),T.a.createElement("span",null,u||0)),T.a.createElement("div",{className:"reply-btn",onClick:function(){N()}},T.a.createElement(te,{className:"reply-btn-icon",name:H.b.NAME.MESSAGE,size:16}),T.a.createElement("span",{style:{marginTop:"-2px"}},b||0)),T.a.createElement(Z.a,{loginId:(u=X.a.getState().user)?u.user_id:0,roomId:t,userId:o.user_id,onDetele:O,onReport:d,type:c})),T.a.createElement("div",{className:"comment-reply"},a&&T.a.createElement(K.a,{submitComment:C})),T.a.createElement("div",{className:"comment-reply-list"},T.a.createElement(I,{replyTo:o.user_nickname,replyCount:b,isShow:e,replyList:h,toggleShow:v,delReply:r,submitCommentReply:g,count:o.reply_count||0,showPost:function(e){x(e)},type:c,isFull:s,loadMore:function(){k()}})))))}var r=n("o0o1"),R=n.n(r),z=n("q1tI"),T=n.n(z),a=n("vOnD"),A=n("SUlE"),D=n("XUYL"),o=n("RIqP"),L=n.n(o),r=n("J4zp"),M=n.n(r),o=n("55Ip"),P=n("2LK0"),q=n("Gt/x"),H=n("NXoE"),F=n("t3Xz"),J=n("LYyr"),U=n("LtoX"),X=n("y90O"),G=n("9UTw"),W=n("4Qmz"),Y=n("ZD8P"),B=n("TrD6"),Q=n("T1Jv"),K=n("LfAP"),Z=n("ogXt"),r=n("lSNA"),g=n.n(r),V=n("cynR"),x=n("i4P8"),y=function(e,i,c,l){return new(c=c||Promise)(function(n,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function a(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((l=l.apply(e,i||[])).next())})},_=Object(a.default)(H.b).withConfig({componentId:"sc-102xroe-0"})(["color:#a9a9a9;cursor:pointer;"]),k=a.default.div.withConfig({componentId:"sc-102xroe-1"})(["svg{color:#20bef3;margin-left:5px;}border-radius:40px;font-size:12px;padding:5px 0px;color:#20bef3;cursor:pointer;display:inline-flex;align-items:center;height:32px;"]),w=a.default.div.withConfig({componentId:"sc-102xroe-2"})(["> .reply-container{margin-top:11px;border-radius:4px;padding:10px 10px 0;"," flex:1;max-width:510px;> .replyMore{color:#20bef3;font-size:13px;padding-bottom:11px;padding-left:2px;cursor:pointer;svg{color:#20bef3;}}white-space:pre-wrap;word-break:break-all;word-wrap:break-word;}"],function(e){e=e.theme.darkTheme;return Object(a.css)(["background-color:",";"],e?"#252b2c":"#f8f8f8")}),O=a.default.div.withConfig({componentId:"sc-102xroe-3"})([""]),E=a.default.div.withConfig({componentId:"sc-102xroe-4"})(["display:flex;margin-bottom:10px;> .reply-avatar{width:17px;margin-right:7px;flex-shrink:0;margin-top:2px;}> .reply-content{flex:1;> .reply-comment-time{height:16px;font-size:12px;line-height:16px;color:#999999;margin-bottom:10px;}> .reply-info{display:flex;align-items:center;margin-bottom:5px;> .reply-author-name{margin-left:8px;font-size:14px;margin-right:8px;overflow:hidden;line-height:20px;white-space:nowrap;text-overflow:ellipsis;}> .reply-level{font-size:10px;margin-right:10px;}}> .reply-comment-detail{font-size:14px;"," margin-bottom:8px;line-height:20px;white-space:pre-wrap;padding-left:10px;}> .reply-comment-other{display:flex;align-items:center;font-size:12px;color:#a9a9a9;margin-bottom:10px;> .reply-btn{"," padding:0 10px 0 10px;height:22px;border-radius:40px;display:flex;align-items:center;cursor:pointer;margin-right:10px;color:#a9a9a9;padding-bottom:2px;position:relative;top:2px;&:hover{border-color:#20bef3;color:#20bef3;.reply-btn-icon{color:#20bef3;}}&.active{color:#20bef3;}}> .reply-del{cursor:pointer;color:#ff5652;padding-bottom:2px;position:relative;top:2px;border-bottom:1px solid transparent;margin-left:10px;&:hover{border-color:#ff5652;}&.active{color:#20bef3;}}> .send-btn{background:#121414;}}}"],function(e){e=e.theme.darkTheme;return Object(a.css)(["color:",";"],e?"#fcfcfc":"#232323")},function(e){var t=e.theme.darkTheme,e=e.active;return Object(a.css)(["color:",";svg{color:",";}"],e?"#20bef3":t?"rgba(255, 255, 255, 0.5)":"#ACACAC",t?"rgba(255, 255, 255, 0.5)":"#ACACAC")}),j=Object(a.default)(o.b).withConfig({componentId:"sc-102xroe-5"})(["margin-right:10px;"]),C=function(e,i,c,l){return new(c=c||Promise)(function(n,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function a(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((l=l.apply(e,i||[])).next())})},S=!1,$=function(e){var t=e.initReplyCount,c=e.commentId,l=e.clipId,s=e.type,n=Object(z.useState)([]),r=M()(n,2),u=r[0],p=r[1],a=Object(z.useState)(t||0),e=M()(a,2),d=e[0],m=e[1],n=Object(z.useState)(!1),r=M()(n,2),o=r[0],f=r[1],t=Object(z.useState)(!1),a=M()(t,2),e=a[0],i=a[1],n=Object(z.useState)(0),r=M()(n,2),b=r[0],h=r[1],v=Object(z.useCallback)(function(){var o=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return C(void 0,void 0,void 0,R.a.mark(function e(){var t,n,r,a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s===D.a.clip?Q.e:U.l,r=o?3*Math.ceil(u.length/3):3,n=s===D.a.clip?{comment_id:c,video_id:l,page:o?1:b+1,size:r}:{commentId:c,page:o?1:b+1,size:r},e.prev=3,e.next=6,t(n);case 6:r=e.sent,t=r.count,n=r.hasNext,r=r.replies,r=void 0===r?[]:r,n?(o||h(function(e){return e+1}),i(!1)):i(!0),m(t),r&&0<r.length?o?p(r):(a=r.filter(function(t){return!u.find(function(e){return e.id===t.id})}),p(function(e){return e.concat(a)})):p([]),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),G.d.error(e.t0.message);case 19:case"end":return e.stop()}},e,null,[[3,16]])}))},[l,c,s,b,u]),t=Object(z.useCallback)(function(){return C(void 0,void 0,void 0,R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o||0!==u.length?f(function(e){return!e}):(v(),f(!0));case 1:case"end":return e.stop()}},e)}))},[v,u,o]),a=Object(z.useCallback)(function(t){return C(void 0,void 0,void 0,R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:if(S)return e.abrupt("return");e.next=4;break;case 4:if(S=!0,e.prev=5,s===D.a.clip)return e.next=9,Object(Q.b)({video_id:l,comment_id:t});e.next=11;break;case 9:e.next=13;break;case 11:return e.next=13,Object(U.b)(t);case 13:v(!0),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),W.a.error(e.t0,{description:JSON.stringify(e.t0.message),report:!0}),G.d.error(e.t0.message);case 20:return e.prev=20,S=!1,e.finish(20);case 23:case"end":return e.stop()}},e,null,[[5,16,20,23]])}))},[l,s,v]),n=Object(z.useCallback)(function(a,o,i){return C(void 0,void 0,void 0,R.a.mark(function e(){var t,n,r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=X.a.getState(),t=r.user,e.prev=1,s===D.a.clip)return e.next=5,Object(Q.k)({content:a,comment_id:c,video_id:l,replyed_user_id:o});e.next=8;break;case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,Object(U.a)({content:a,id:c,type:"comment",replyUserId:o});case 10:n=e.sent;case 11:n&&0<Object.keys(n).length&&(r={id:n.new_comment_id,content:n.show_content,create_time:n.create_time_str||Object(J.a)(n.create_time_mills),user_id:t.user_id,user_grade:t.level,user_avatar_url:t.avatar,user_nickname:t.loginname,replyed_user_id:o,replyed_user_nickname:i},u.push(r),p(L()(u)),m(d+1),f(!0)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),W.a.error(e.t0,{description:"直播间评论回复失败",report:!0}),G.d.error(e.t0.message);case 18:case"end":return e.stop()}},e,null,[[1,14]])}))},[c,d,u,l,s]),r=Object(z.useCallback)(function(t){t&&0<u.length&&u.forEach(function(e){e.id===t.id&&(e.show_status="displayed")}),p(L()(u))},[u]);return{isShowReplyList:o,toggleShowReplyList:t,replyList:u,replyCount:d,delReply:a,submitCommentReply:n,setShowReply:r,setReplyList:p,setReplyCount:m,isReplyListFull:e,renderReplyData:v,showReplyList:f}},ee=function(e,i,c,l){return new(c=c||Promise)(function(n,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function a(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((l=l.apply(e,i||[])).next())})},te=Object(a.default)(H.b).withConfig({componentId:"b0ht9y-0"})(["color:#a9a9a9;cursor:pointer;"]),ne=a.default.div.withConfig({componentId:"b0ht9y-1"})(["margin-bottom:10px;display:flex;&:last-child{margin-bottom:0;}"]),re=Object(a.default)(o.b).withConfig({componentId:"b0ht9y-2"})(["margin-right:10px;flex-shrink:0;"]),ae=a.default.div.withConfig({componentId:"b0ht9y-3"})(["flex:1;max-width:510px;> .comment-reply-list{}> .comment-reply{> .send-btn{background:#252b2c;}}> .comment-time{margin-bottom:12px;font-size:12px;color:#a9a9a9;margin-right:10px;}"]),oe=a.default.div.withConfig({componentId:"b0ht9y-4"})(["display:flex;justify-content:space-between;margin-bottom:3px;height:19px;line-height:19px;> .comment-info{display:flex;align-items:center;> .comment-author-name{max-width:120px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-left:8px;font-size:14px;}}"]),ie=a.default.div.withConfig({componentId:"b0ht9y-5"})(["font-size:14px;"," margin-bottom:10px;line-height:20px;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;"],function(e){e=e.theme.darkTheme;return Object(a.css)(["color:",";"],e?"#fcfcfc":"#232323")}),ce=a.default.div.withConfig({componentId:"b0ht9y-6"})(["display:flex;align-items:center;margin-bottom:10px;font-size:12px;color:#a9a9a9;> .comment-good{"," padding:0 10px 0 10px;height:24px;border-radius:40px;display:flex;align-items:center;cursor:pointer;margin-right:10px;svg{margin-right:2px;}}> .reply-btn{"," svg{margin-right:2px;}padding:0 10px;height:22px;border-radius:40px;display:flex;align-items:center;cursor:pointer;color:#a9a9a9;top:2px;margin-right:24px;&:hover{border-color:#20bef3;color:#20bef3;.reply-btn-icon{color:#20bef3;}}&:active{color:#20bef3;}}"],function(e){var t=e.theme.darkTheme,e=e.active;return Object(a.css)(["background-color:",";color:",";"],t?"#424848":"#f2f2f2",e?"#20bef3":"#ACACAC")},function(e){var t=e.theme.darkTheme,e=e.active;return Object(a.css)(["background-color:",";color:",";svg{color:",";}"],t?"#424848":"#f2f2f2",e?"#20bef3":t?"rgba(255, 255, 255, 0.5)":"#ACACAC",t?"rgba(255, 255, 255, 0.5)":"#ACACAC")}),p=function(e,i,c,l){return new(c=c||Promise)(function(n,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function a(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,a)}o((l=l.apply(e,i||[])).next())})},d=a.default.div.withConfig({componentId:"pa0cur-0"})(["margin-top:20px;"]),m=a.default.div.withConfig({componentId:"pa0cur-1"})(["display:flex;justify-content:center;margin-top:10px;max-width:510px;> .comment-more-btn{"," color:#20bef3;font-size:12px;border-radius:40px;padding:5px 10px;cursor:pointer;}"],function(e){e=e.theme.darkTheme;return Object(a.css)(["background-color:",";"],e?"#252b2c":"#f2f2f2")});t.a=function(e){var t=e.roomId,n=e.count,r=e.commentList,a=e.updateCountAfterDelete,o=e.loadMoreComments,i=e.type,c=void 0===i?D.a.normal:i,e=e.clipId,l=void 0===e?"":e,s=Object(z.useCallback)(function(t){return p(void 0,void 0,void 0,R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,a(n-1,t);case 4:case"end":return e.stop()}},e)}))},[n,a]);return T.a.createElement(d,null,r instanceof Array&&0<r.length?r.map(function(e){return T.a.createElement(u,{onDelete:function(e){s(e)},key:e.id,roomId:t,commentData:e,type:c,clipId:l})}):null,n>r.length&&T.a.createElement(m,null,T.a.createElement("div",{onClick:function(){o()},className:"comment-more-btn"},Object(A.f)("more_comment"))))}}}]);
//# sourceMappingURL=http://hw-source-map.mildom.jp/mildompc-web-server-sourcemap/static_sourcemap/me_profile~page_my_follow~page_profile~page_room~page_video_clip_8a9fe0a6f40176541e90.js.map